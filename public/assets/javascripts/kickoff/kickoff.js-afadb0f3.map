{"version":3,"file":"kickoff.js","sources":["../../../../../src/coffee/models/time/time.coffee","../../../../../src/coffee/models/time/calc.coffee","../../../../../src/coffee/models/time/devide.coffee","../../../../../src/coffee/models/time/leap-year.coffee","../../../../../src/coffee/models/time/last-day.coffee","../../../../../src/coffee/models/time/what-day.coffee","../../../../../src/coffee/models/time/edge.coffee","../../../../../src/coffee/models/time/to-stamp.coffee","../../../../../src/coffee/models/time/compare.coffee","../../../../../src/coffee/models/time/method-names.coffee","../../../../../src/coffee/models/time/to-string.coffee","../../../../../src/coffee/models/time/week-of-year.coffee","../../../../../src/coffee/models/time/weekend.coffee","../../../../../src/coffee/utilities/string.coffee","../../../../../src/coffee/models/task/task.coffee","../../../../../src/coffee/models/timeline/timeline.coffee","../../../../../src/coffee/models/store.coffee","../../../../../src/coffee/mixins/modelable.coffee","../../../../../src/coffee/components/button/link-destroy.coffee","../../../../../src/coffee/mixins/localeable.coffee","../../../../../src/coffee/components/button/milestone-create.coffee","../../../../../src/coffee/components/button/state-switch.coffee","../../../../../src/coffee/components/button/task-create.coffee","../../../../../src/coffee/components/button/task-destroy.coffee","../../../../../src/coffee/components/button/task-edit.coffee","../../../../../src/coffee/components/button/task-fold.coffee","../../../../../src/coffee/components/button/task-pick.coffee","../../../../../src/coffee/components/button/view-switch.coffee","../../../../../src/coffee/components/button/unit-zoom.coffee","../../../../../src/coffee/components/form/form.coffee","../../../../../src/coffee/mixins/inputable.coffee","../../../../../src/coffee/components/form/number.coffee","../../../../../src/coffee/models/task/order.coffee","../../../../../src/coffee/components/form/select.coffee","../../../../../src/coffee/components/form/text.coffee","../../../../../src/coffee/components/form/textarea.coffee","../../../../../src/coffee/components/form/time.coffee","../../../../../src/coffee/models/task/query.coffee","../../../../../src/coffee/models/task/type.coffee","../../../../../src/coffee/utilities/event.coffee","../../../../../src/coffee/models/task/event.coffee","../../../../../src/coffee/models/task/predecessor.coffee","../../../../../src/coffee/models/task/successor.coffee","../../../../../src/coffee/models/task/schedule.coffee","../../../../../src/coffee/models/task/beginning.coffee","../../../../../src/coffee/models/task/can.coffee","../../../../../src/coffee/models/task/create.coffee","../../../../../src/coffee/models/task/fold.coffee","../../../../../src/coffee/models/task/destroy.coffee","../../../../../src/coffee/models/task/end.coffee","../../../../../src/coffee/models/task/duration.coffee","../../../../../src/coffee/models/task/pick.coffee","../../../../../src/coffee/models/task/readonly.coffee","../../../../../src/coffee/models/task/update.coffee","../../../../../src/coffee/models/task/history.coffee","../../../../../src/coffee/models/task/error.coffee","../../../../../src/coffee/models/task/json.coffee","../../../../../src/coffee/models/task/travel.coffee","../../../../../src/coffee/components/gantt/gantt.coffee","../../../../../src/coffee/components/gantt/link.coffee","../../../../../src/coffee/components/gantt/task.coffee","../../../../../src/coffee/components/gantt/timeline.coffee","../../../../../src/coffee/components/header/header.coffee","../../../../../src/coffee/components/modal/modal.coffee","../../../../../src/coffee/components/proper/proper.coffee","../../../../../src/coffee/components/table/table.coffee","../../../../../src/coffee/components/table/task.coffee","../../../../../src/coffee/models/timeline/event.coffee","../../../../../src/coffee/models/timeline/unit.coffee","../../../../../src/coffee/models/timeline/beginning.coffee","../../../../../src/coffee/models/timeline/create.coffee","../../../../../src/coffee/models/timeline/end.coffee","../../../../../src/coffee/models/timeline/duration.coffee","../../../../../src/coffee/models/timeline/fit.coffee","../../../../../src/coffee/models/timeline/units.coffee","../../../../../src/coffee/models/timeline/update.coffee","../../../../../src/coffee/components/kickoff.coffee","../../../../../src/coffee/utilities/drag.coffee"],"sourcesContent":["parseArguments = (date...) ->\n  defaultDate = [new Date().getFullYear(), 1, 1, 0, 0, 0]\n  if not date[0] or date[0] instanceof Date\n    date = if date[0] then date[0] else new Date()\n    return [\n      date.getFullYear()\n      date.getMonth() + 1\n      date.getDate()\n      date.getHours()\n      date.getMinutes()\n      date.getSeconds()\n  ]\n  if date[0] instanceof Time\n    return (date[0][d] for d in [\n      'year', 'month', 'day',\n      'hours', 'minutes', 'seconds'\n    ])\n  if typeof date[0] is 'string' and date[0].length\n    [date, time] = date[0].split(/\\s+/)\n    date = if date then date.split(/-|\\//) else []\n    time = if time then time.split(/:/) else []\n    date.push 0 while date.length < 3\n    time.push 0 while time.length < 3\n    return date.concat(time).map (d, i) -> parseInt(d) or defaultDate[i]\n  defaultDate.map (d, i) -> date[i] or d\n\nmustBeValidYear = (year, silence) ->\n  unless Number.isInteger(year) and year >= 1\n    return false if silence\n    throw new Error 'year must be an integer larger than 1'\n  true\n\nmustBeValidMonth = (month, silence) ->\n  unless Number.isInteger(month) and 1 <= month <= 12\n    return false if silence\n    throw new Error 'month must be an integer between 1 to 12'\n  true\n\nmustBeValidDay = (year, month, day, silence) ->\n  lastDay = Time.lastDayOfTheMonth year, month\n  unless Number.isInteger(day) and 1 <= day <= lastDay\n    return false if silence\n    throw new Error \"day must be an integer between 1 to #{lastDay}\"\n  true\n\nmustBeValidHours = (hours, silence) ->\n  unless Number.isInteger(hours) and 0 <= hours <= 23\n    return false if silence\n    throw new Error 'hours must be an integer between 0 and 23'\n  true\n\nmustBeValidMinutes = (minutes, _prefix = 'minutes', silence) ->\n  unless Number.isInteger(minutes) and 0 <= minutes <= 59\n    return false if silence\n    throw new Error \"#{_prefix} must be an integer between 0 and 59\"\n  true\n\nmustBeValidSeconds = (seconds, silence) ->\n  mustBeValidMinutes(seconds, 'seconds', silence)\n\nmustBeValidCount = (count, silence) ->\n  unless Number.isInteger(count) and count >= 0\n    return false if silence\n    throw new Error 'count must be a positive integer'\n  true\n\nmustBeNumber = (num, silence) ->\n  unless typeof num is 'number'\n    return false if silence\n    throw new Error 'num must be a number'\n  true\n\n\n\nclass Time\n\n  constructor: (date...) ->\n    [@year, @month, @day, @hours, @minutes, @seconds] = parseArguments date...\n    mustBeValidYear @year\n    mustBeValidMonth @month\n    mustBeValidDay @year, @month, @day\n    mustBeValidHours @hours\n    mustBeValidMinutes @minutes\n    mustBeValidSeconds @seconds\n\n\n\nexport {\n  Time\n  Time as default\n  parseArguments\n  mustBeValidYear\n  mustBeValidMonth\n  mustBeValidDay\n  mustBeValidHours\n  mustBeValidMinutes\n  mustBeValidSeconds\n  mustBeValidCount\n  mustBeNumber\n}\n","import {Time, mustBeNumber, mustBeValidCount} from './time.coffee'\n\n\n\nTime.prototype.since = (date...) ->\n  s = new Time date...\n  s = new Date s.year, s.month - 1, s.day, s.hours, s.minutes, s.seconds\n  current = new Date @year, @month - 1, @day, @hours, @minutes, @seconds\n  seconds = (current - s) / 1000\n  minutes = seconds / 60\n  hours = minutes / 60\n  days = hours / 24\n  weeks = days / 7\n  months = days / 30\n  years = days / 365\n  {years, months, days, hours, minutes, seconds, weeks}\n\nTime.prototype.to = (date...) -> new Time(date...).since(this)\n\nTime.prototype.calcYear = (count) ->\n  mustBeNumber count\n  new Time @year + count\n\nTime.prototype.calcMonth = (count) ->\n  mustBeNumber count\n  new Time new Date(@year, @month - 1 + count)\n\nTime.prototype.calcDay = (count) ->\n  mustBeNumber count\n  new Time new Date(@year, @month - 1, @day + count)\n\nTime.prototype.calcHours = (count) ->\n  mustBeNumber count\n  new Time new Date(@year, @month - 1, @day, @hours + count)\n\nTime.prototype.calcMinutes = (count) ->\n  mustBeNumber count\n  new Time new Date(@year, @month - 1, @day, @hours, @minutes + count)\n\nTime.prototype.calcSeconds = (count) ->\n  mustBeNumber count\n  date = new Date(@year, @month - 1, @day, @hours, @minutes, @seconds + count)\n  new Time date\n\nTime.prototype.calcWeeks = (count) ->\n  mustBeNumber count\n  daysCount = Math.abs(count * 7)\n  if count > 0 then @nextDay daysCount else @prevDay daysCount\n\naddPrototypeMethods = (unit) ->\n  s = if ['Hour', 'Minute', 'Second', 'Week'].includes(unit) then 's' else ''\n  Time.prototype[\"prev#{unit}\"] = (count = 1) ->\n    mustBeValidCount count\n    @[\"calc#{unit}#{s}\"] -count\n  Time.prototype[\"next#{unit}\"] = (count = 1) ->\n    mustBeValidCount count\n    @[\"calc#{unit}#{s}\"] count\n\nfor unit in ['Year', 'Month', 'Day', 'Hour', 'Minute', 'Second', 'Week']\n  addPrototypeMethods unit\n","import {Time} from './time.coffee'\nimport './calc.coffee'\n\n\n\ndevideByUnit = (unit, ruleFn, beginning, end) ->\n  [beginning, end, splited] = [new Time(beginning), new Time(end), []]\n  while ruleFn beginning, end\n    splited.push {\n      beginning: beginning[\"beginningOfThe#{unit}\"]()\n      end: beginning[\"endOfThe#{unit}\"]()\n    }\n    beginning = beginning[\"next#{unit}\"]()\n  splited\n\nyearRuleFn = (beginning, end) ->\n  new Date(\n    end.year\n  ) - new Date(\n    beginning.year\n  ) >= 0\n\nmonthRuleFn = (beginning, end) ->\n  new Date(\n    end.year,\n    end.month - 1\n  ) - new Date(\n    beginning.year,\n    beginning.month - 1\n  ) >= 0\n\ndayRuleFn = (beginning, end) ->\n  new Date(\n    end.year,\n    end.month - 1,\n    end.day\n  ) - new Date(\n    beginning.year,\n    beginning.month - 1,\n    beginning.day\n  ) >= 0\n\nhourRuleFn = (beginning, end) ->\n  new Date(\n    end.year,\n    end.month - 1,\n    end.day,\n    end.hours\n  ) - new Date(\n    beginning.year,\n    beginning.month - 1,\n    beginning.day,\n    beginning.hours\n  ) >= 0\n\nbindMethods = (unit, ruleFn) ->\n  Time[\"devideBy#{unit}\"] = (beginning, end) ->\n    devideByUnit unit, ruleFn, beginning, end\n\nruleFns =\n  Year: yearRuleFn\n  Month: monthRuleFn\n  Day: dayRuleFn\n  Week: dayRuleFn\n  Hour: hourRuleFn\n\nbindMethods(unit, ruleFn) for unit, ruleFn of ruleFns\n","import {Time, mustBeValidYear, parseArguments} from './time.coffee'\n\n\n\nisLeapYear = (year) ->\n  mustBeValidYear year\n  return true if year % 400 is 0\n  year % 4 is 0 and year % 100 isnt 0\n\nTime.isLeapYear = (date...) ->\n  [year] = parseArguments date...\n  isLeapYear year\n\nTime.prototype.isLeapYear = -> Time.isLeapYear this\n\n\n\nexport {\n  isLeapYear\n  isLeapYear as default\n}\n","import {\n  Time\n  parseArguments\n  mustBeValidYear\n  mustBeValidMonth\n} from './time.coffee'\nimport {isLeapYear} from './leap-year.coffee'\n\n\n\nlastDayOfTheMonth = (year, month) ->\n  mustBeValidYear year\n  mustBeValidMonth month\n  return 30 if [4, 6, 9, 11].includes month\n  return 29 if month is 2 and isLeapYear year\n  return 28 if month is 2 and not isLeapYear year\n  31\n\nTime.lastDayOfTheMonth = (date...) ->\n  [year, month] = parseArguments date...\n  lastDayOfTheMonth year, month\n\nTime.prototype.lastDayOfTheMonth = -> Time.lastDayOfTheMonth this\n\n\n\nexport {\n  lastDayOfTheMonth\n  lastDayOfTheMonth as default\n}\n","import {\n  Time\n  parseArguments\n  mustBeValidYear\n  mustBeValidMonth\n  mustBeValidDay\n} from './time.coffee'\n\n\n\nwhatDay = (year, month, day) ->\n  mustBeValidYear year\n  mustBeValidMonth month\n  mustBeValidDay year, month, day\n  new Date(year, month - 1, day).getDay()\n\nTime.whatDay = (date...) ->\n  [year, month, day] = parseArguments date...\n  whatDay year, month, day\n\nTime.prototype.whatDay = -> Time.whatDay this\n\n\n\nexport {\n  whatDay\n  whatDay as default\n}\n","import {Time} from './time.coffee'\nimport './last-day.coffee'\nimport './what-day.coffee'\nimport './calc.coffee'\n\n\n\nTime.prototype.beginningOfTheYear = -> new Time @year, 1, 1, 0, 0, 0\n\nTime.prototype.endOfTheYear = -> new Time @year, 12, 31, 23, 59, 59\n\nTime.prototype.beginningOfTheMonth = -> new Time @year, @month, 1, 0, 0, 0\n\nTime.prototype.endOfTheMonth = ->\n  new Time @year, @month, @lastDayOfTheMonth(), 23, 59, 59\n\nTime.prototype.beginningOfTheDay = -> new Time @year, @month, @day, 0, 0, 0\n\nTime.prototype.endOfTheDay = -> new Time @year, @month, @day, 23, 59, 59\n\nTime.prototype.beginningOfTheHour = ->\n  new Time @year, @month, @day, @hours, 0, 0\n\nTime.prototype.endOfTheHour = -> new Time @year, @month, @day, @hours, 59, 59\n\nTime.prototype.beginningOfTheWeek = -> @prevDay(@whatDay()).beginningOfTheDay()\n\nTime.prototype.endOfTheWeek = -> @nextDay(6 - @whatDay()).endOfTheDay()\n","import {\n  Time\n  parseArguments\n  mustBeValidYear\n  mustBeValidMonth\n  mustBeValidDay\n  mustBeValidHours\n  mustBeValidMinutes\n  mustBeValidSeconds\n} from './time.coffee'\n\n\n\ntoStamp = (date...) ->\n  [year, month, day, hours, minutes, seconds] = parseArguments date...\n  mustBeValidYear year\n  mustBeValidMonth month\n  mustBeValidDay year, month, day\n  mustBeValidHours hours\n  mustBeValidMinutes minutes\n  mustBeValidSeconds seconds\n  new Date(year, month - 1, day, hours, minutes, seconds).getTime() / 1000\n\nTime.toStamp = toStamp\n\nTime.prototype.toStamp = -> Time.toStamp this\n\n\n\nexport {\n  toStamp\n  toStamp as default\n}\n","import {Time} from './time.coffee'\nimport {toStamp} from './to-stamp.coffee'\n\n\n\nequals = (one, two) ->\n  [one, two] = [new Time(one), new Time(two)]\n  toStamp(one) is toStamp(two)\n\nlatest = (times...) ->\n  return null unless times.length\n  times = times.map (t) -> new Time t\n  times.sort((a, b) -> toStamp(b) - toStamp(a))[0]\n\nearlist = (times...) ->\n  return null unless times.length\n  times = times.map (t) -> new Time t\n  times.sort((a, b) -> toStamp(a) - toStamp(b))[0]\n\nTime.equals = equals\n\nTime.latest = latest\n\nTime.earlist = earlist\n\nTime.prototype.equals = (time) -> Time.equals this, new Time(time)\n\nTime.prototype.laterThan = (time) -> this.toStamp() > new Time(time).toStamp()\n\nTime.prototype.earlierThan = (time) -> this.toStamp() < new Time(time).toStamp()\n\n\n\nexport {\n  equals\n  equals as default\n}\n","import {Time} from './time.coffee'\n\n\n\nmethodNames = (unit = 'day') ->\n  s = if ['hour', 'minute', 'second', 'week'].includes unit then 's' else ''\n  {\n    nextUnit: luda.camelCase \"next-#{unit}\"\n    prevUnit: luda.camelCase \"prev-#{unit}\"\n    beginningOfUnit: luda.camelCase \"beginning-of-the-#{unit}\"\n    endOfUnit: luda.camelCase \"end-of-the-#{unit}\"\n    calcUnit: luda.camelCase \"calc-#{unit}#{s}\"\n    devideByUnit: luda.camelCase \"devide-by-#{unit}\"\n  }\n\nTime.methodNames = methodNames\n\n\n\nexport {\n  methodNames,\n  methodNames as default\n}\n","import {\n  Time\n  parseArguments\n  mustBeValidYear\n  mustBeValidMonth\n  mustBeValidDay\n  mustBeValidHours\n  mustBeValidMinutes\n  mustBeValidSeconds\n} from './time.coffee'\n\n\n\ndouble = (num) -> if num >= 10 then \"#{num}\" else \"0#{num}\"\n\ntoString = (time, format = '{yyyy}-{mm}-{dd} {HH}:{MM}:{SS}') ->\n  unless Object.prototype.toString.call(time) is \"[object Object]\" \\\n  or time instanceof Time\n    throw new Error 'time must be an object or an instance of Time'\n  return format time if typeof format is 'function'\n  mustBeValidYear time.year if 'year' of time\n  mustBeValidMonth time.month if 'month' of time\n  if 'day' of time and 'year' of time and 'month' of time\n    mustBeValidDay time.year, time.month, time.day\n  mustBeValidHours time.hours if 'hours' of time\n  mustBeValidMinutes time.minutes if 'minutes' of time\n  mustBeValidSeconds time.seconds if 'seconds' of time\n  str = format.replace /\\{yyyy\\}/g, double(time.year)\n  loopObj = {\n    m: time.month or 1, d: time.day or 1,\n    H: time.hours or 0, M: time.minutes or 0, S: time.seconds or 0\n  }\n  for placeholder, value of loopObj\n    pattern = new RegExp \"\\\\{#{placeholder}\\\\}\", 'g'\n    dbPattern = new RegExp \"\\\\{#{placeholder}#{placeholder}\\\\}\", 'g'\n    str = str.replace dbPattern, double(value)\n    str = str.replace pattern, value\n  str.trim()\n\nTime.toString = (time, format) -> toString time, format\n\nTime.prototype.toString = (format) -> Time.toString this, format\n\n\n\nexport {\n  toString\n  toString as default\n}\n","import {\n  Time\n  parseArguments\n  mustBeValidYear\n  mustBeValidMonth\n  mustBeValidDay\n} from './time.coffee'\nimport {lastDayOfTheMonth} from './last-day.coffee'\n\n\n\nweekOfTheYear = (year, month, day) ->\n  mustBeValidYear year\n  mustBeValidMonth month\n  mustBeValidDay year, month, day\n  firstDayWeekDay = new Date(year, 0, 1).getDay()\n  firstWeekDaysCount = 7 - firstDayWeekDay\n  return 1 if month is 1 and 1 <= day <= firstWeekDaysCount\n  [m, daysCount] = [0, 0]\n  daysCount += lastDayOfTheMonth(year, m) while (m += 1) < month\n  daysCount += day\n  1 + Math.ceil((daysCount - firstWeekDaysCount) / 7)\n\nTime.weekOfTheYear = (date...) ->\n  [year, month, day] = parseArguments date...\n  weekOfTheYear year, month, day\n\nTime.prototype.weekOfTheYear = -> Time.weekOfTheYear this\n\n\n\nexport {\n  weekOfTheYear\n  weekOfTheYear as default\n}\n","import {\n  Time\n  parseArguments\n  mustBeValidYear\n  mustBeValidMonth\n  mustBeValidDay\n} from './time.coffee'\nimport {whatDay} from './what-day.coffee'\n\n\n\nisWeekend = (year, month, day) ->\n  mustBeValidYear year\n  mustBeValidMonth month\n  mustBeValidDay year, month, day\n  [0, 6].includes whatDay(year, month, day)\n\nTime.isWeekend = (date...) ->\n  [year, month, day] = parseArguments date...\n  isWeekend year, month, day\n\nTime.isWeekday = (date...) -> not Time.isWeekend date...\n\nTime.prototype.isWeekend = -> Time.isWeekend this\n\nTime.prototype.isWeekday = -> not Time.isWeekend this\n\n\n\nexport {\n  isWeekend\n  isWeekend as default\n}\n","capitalize = (str = '') ->\n  str.charAt(0).toUpperCase() + str.slice(1)\n\n\n\nexport {capitalize}\n","import {Time} from '../../models/time/index.coffee'\nimport {capitalize} from '../../utilities/string.coffee'\n\n\n\nbuiltInProps = [\n  'uid', 'rootId', 'wbs', 'type', 'created', 'isHidden', 'stacks', 'errors',\n  'operations', 'readonlys', 'tasks', 'events', 'pendingDeps'\n]\n\nenhancedProps = [\n  'dependencies', 'predecessors', 'successors', 'end', 'beginning', 'duration',\n  'isPicked', 'isFolded', 'actions', 'readonlyProps'\n]\n\ntaskActions = [\n  'pick', 'update', 'createTask', 'createMilestone', 'destroy', 'fold'\n]\n\nrootTaskActions = [\n  'createTask', 'createMilestone', 'destroyDescendants', 'switchState'\n]\n\nmilestoneActions = [\n  'pick', 'update', 'destroy'\n]\n\ninvalidMilestoneActions = [\n  'createTask', 'createMilestone', 'fold'\n]\n\ndepcTypes = ['finishToStart', 'startToStart', 'finishToFinish', 'startToFinish']\n\ndepcTypeShortcuts = ['f2s', 's2s', 'f2f', 's2f']\n\nisTask = (task) -> task instanceof Task\n\nmustBeTask = (task) ->\n  throw new Error \"Invalid Task instance\" unless isTask task\n\nmustLikeTask = (data = {}) ->\n  return if isTask data\n  error = new Error \"Invalid Task like data\"\n  throw error unless data.data\n  throw error unless (data.rootId or data.data.rootId)\n  throw error unless (data.uid or data.data.uid)\n\nroot = (task) ->\n  mustLikeTask task\n  rootTask = Task.roots[task.rootId or task.data.rootId]\n  throw new Error \"Task root not found.\" unless rootTask\n  rootTask\n\nisRoot = (task) ->\n  mustBeTask task\n  task is root task\n\nmustBeRoot = (task) ->\n  throw new Error \"Invalid root task\" unless isRoot task\n\nisExisted = (task) ->\n  mustBeTask task\n  return false unless rootId = task.rootId\n  return false unless rootTask = Task.roots[rootId]\n  isRoot(task) or rootTask.tasks.includes task\n\nmustExist = (task) ->\n  mustBeTask task\n  throw new Error \"Task doesn't exist\" unless isExisted task\n\nfind = (rootTask, uidOrWbs) ->\n  mustBeRoot rootTask\n  rootTask.tasks.find (t) ->\n    return t.data.wbs is uidOrWbs.trim() if luda.isString uidOrWbs\n    t.uid is uidOrWbs\n\nparent = (task, includeRoot = false) ->\n  mustExist task\n  return null if isRoot task\n  unless parentTaskWbs = parentWbs task.data.wbs\n    return if includeRoot then root task else null\n  find root(task), parentTaskWbs\n\nmustHasConsecutiveWbs = (task) ->\n  mustBeTask task\n  [wbs, rootTask] = [task.data.wbs, root task]\n  throw new Error \"wbs: #{wbs} has been occupied\" if find rootTask, wbs\n  return if wbs is '1'\n  return if find rootTask, prevWbs(wbs)\n  return if find rootTask, parentWbs(wbs)\n  throw new Error \"wbs: #{wbs} is not consecutive\"\n\nisValidWbs = (wbs) -> wbs and wbs.length\n\nmustBeValidWbs = (wbs) ->\n  throw new Error \"Invalid wbs: #{wbs}\" unless isValidWbs wbs\n\nsplitWbs = (wbs = '') ->\n  mustBeValidWbs wbs\n  (if luda.isArray wbs then wbs else wbs.split '.').map (n) ->\n    number = parseInt n, 10\n    unless Number.isInteger(number) and number > 0\n      throw new Error \"wbs: #{wbs} must be combined with positive integers\"\n    number\n\njoinWbs = (wbs = []) -> splitWbs(wbs).join '.'\n\nprevWbs = (wbs = '') ->\n  return null unless isValidWbs wbs\n  arr = splitWbs wbs\n  arr[arr.length - 1] -= 1\n  return null if arr[arr.length - 1] <= 0\n  arr.join '.'\n\nnextWbs = (wbs = '') ->\n  return null unless isValidWbs wbs\n  arr = splitWbs wbs\n  arr[arr.length - 1] += 1\n  arr.join '.'\n\nparentWbs = (wbs = '') ->\n  return null unless isValidWbs wbs\n  arr = splitWbs wbs\n  arr.pop()\n  return null unless arr.length\n  arr.join '.'\n\nfirstChildWbs = (wbs = '') ->\n  return '1' unless isValidWbs wbs\n  arr = splitWbs wbs\n  arr.push 1\n  arr.join '.'\n\nsplitDeps = (deps = '') ->\n  arr = deps.trim().split(',')\n  .map((str) -> str.trim())\n  .filter((str) -> str.length)\n  luda.unique(arr).sort()\n\njoinDeps = (depsArr = []) ->\n  arr = depsArr\n  .map((str) -> str.trim())\n  .filter((str) -> str.length)\n  luda.unique(arr).sort().join ','\n\nrevokeTask = (task) ->\n  allTasks =  root(task).tasks\n  index = allTasks.indexOf this\n  allTasks.splice index, 1 if index >= 0\n  delete task.rootId\n\n\n\nclass Task\n\n  @roots = {}\n\n  constructor: (data = {}, options = {}) ->\n    if options.source is 'history'\n      @[key] = val for key, val of data\n      return root(this).tasks.push this\n    throw new Error \"Task instance cannot be recreated\" if isTask data\n    # Common data structure\n    @uid = luda.guid()\n    @data = Object.assign {}, data\n    delete @data.uid\n    @created = false\n    @errors = {}\n    unless @data.wbs\n      @constructor.roots[@uid] = this\n      # Root task data structure\n      @rootId = @uid\n      delete @data.rootId\n      @tasks = []\n      @events = {}\n      @stacks = {undo: [], redo: []}\n      @data.exclusions ||= []\n      @data.excludeWeekends = true unless 'excludeWeekends' of data\n      @data.inclusions ||= []\n      @data.minDurationSeconds ||= 3600 * 24 - 1\n      @data.maxHistorySize ||= Infinity\n      @data.finishToStartCompensatorySeconds ||= 0\n      @data.startToFinishCompensatorySeconds ||= 0\n      @data.startToStartCompensatorySeconds ||= 0\n      @data.finishToFinishCompensatorySeconds ||= 0\n      @data.actions ||= rootTaskActions.slice()\n      @actions @data.actions...\n    else\n      rootId = @rootId = @data.rootId\n      taskWbs = @data.wbs\n      mustHasConsecutiveWbs this\n      # Add the task to its root tasks store.\n      root(this).tasks.push this\n      return revokeTask(this) unless @trigger 'before-create', @data, true\n      # Preventing wbs and rootId from being modified\n      # in before-create event callback\n      @rootId = rootId\n      delete @data.rootId\n      @data.wbs = taskWbs\n      # Setting built-in default values\n      isMilestone = @data.type is 'milestone'\n      @data.type = 'task' unless isMilestone\n      @data.name ||= \"New #{capitalize @data.type}\"\n      if @data.end instanceof Time\n        @data.end = @data.end.toString()\n      else\n        @data.end ||= ''\n      if @data.beginning instanceof Time\n        @data.beginning = @data.beginning.toString()\n      else\n        @data.beginning ||= ''\n      @data.dependencies ||= {}\n      @data.dependencies.finishToStart ||= ''\n      @data.dependencies.startToStart ||= ''\n      @data.dependencies.finishToFinish ||= ''\n      @data.dependencies.startToFinish ||= ''\n      @depended = {\n        finishToStart: '', startToStart: '',\n        finishToFinish: '', startToFinish: ''\n      }\n      @operations = []\n      operations = @data.actions\n      operations ||= if isMilestone then milestoneActions else taskActions\n      @actions operations...\n      delete @data.actions\n      @readonlys = []\n      readonlys = luda.unique builtInProps.concat(@data.readonlyProps or [])\n      @readonlyProps readonlys...\n      delete @data.readonlyProps\n      isTopLevel = (p = parent this, true) is root this\n      @isPicked = if isTopLevel then false else Boolean(p.isPicked)\n      @isFolded = @isHidden = if isTopLevel then false else Boolean(p.isFolded)\n      if p.data.type is 'milestone'\n        rollbackIndex = root(this).tasks.indexOf this\n        root(this).tasks.splice rollbackIndex, 1 if rollbackIndex >= 0\n        throw new Error \"A milestone cannot be a parent\"\n      if isMilestone\n        # Making sure the duration of a milestone is 0.\n        # Setting the time of a top level milestone default to current time if\n        # without an initial time.\n        if isTopLevel\n          end = beginning = new Time @data.end or @data.beginning\n          @data.end = @data.beginning = end.toString()\n        # Making sure the duration of a milestone is 0.\n        # Setting the time of a non-top level milestone to\n        # its parent's end time before creating.\n        else\n          end = beginning = @data.end or @data.beginning\n          @data.end = @data.beginning = p.data.end\n      else\n        # Making sure the duration of a top level task\n        # isn't shorter than the min duration setting before creating.\n        # If without an initial time range, make it default to current time to\n        # current time + minDurationSeconds.\n        if isTopLevel\n          [end, beginning] = [new Time(@data.end), new Time(@data.beginning)]\n          earlistEnd = beginning.nextSecond root(this).data.minDurationSeconds\n          end = earlistEnd if end.earlierThan earlistEnd\n          @data.end = end.toString()\n          @data.beginning = beginning.toString()\n        # Setting the beginning and end of a child\n        # the same as its parent before creating.\n        else\n          [end, beginning] = [@data.end, @data.beginning]\n          [@data.end, @data.beginning] = [p.data.end, p.data.beginning]\n      # Setting dependencies\n      # and caching the wbs numbers of dependencies not created yet\n      Object.keys(@data.dependencies).forEach (type) =>\n        wbses = splitDeps @data.dependencies[type]\n        @_addDeps type, wbses...\n        added = splitDeps @data.dependencies[type]\n        pending = wbses.filter (wbs) -> not added.includes wbs\n        @pendingDeps = ({type, wbs} for wbs in pending) if pending.length\n      # Adjusting the beginning and end\n      return revokeTask(this) unless @_tryUpdateSchedule {beginning}\n      return revokeTask(this) unless @_tryUpdateSchedule {end}\n      # Adding this task as a dependency of the ones,\n      # which are depended on this but created earlier.\n      root(this).tasks.forEach (task) =>\n        return unless task.pendingDeps\n        task.pendingDeps = task.pendingDeps.filter (p) =>\n          return true unless p.wbs is @data.wbs\n          task.addDeps p.type, this\n          false\n        delete task.pendingDeps unless task.pendingDeps.length\n    @created = true\n    @trigger 'after-create'\n\n\n\nTask.prototype.isRoot = -> isRoot this\n\n\n\nexport {\n  Task\n  Task as default\n  isTask\n  mustBeTask\n  root\n  isRoot\n  mustBeRoot\n  isExisted\n  mustExist\n  find\n  parent\n  splitWbs\n  joinWbs\n  splitDeps\n  joinDeps\n  prevWbs\n  nextWbs\n  parentWbs\n  firstChildWbs\n  builtInProps\n  enhancedProps\n  taskActions\n  rootTaskActions\n  milestoneActions\n  invalidMilestoneActions\n  depcTypes\n  depcTypeShortcuts\n}\n","import {Time} from '../time/index.coffee'\n\n\nmustBeTimeline = (obj) ->\n  throw new Error 'Not a timeline instance' unless obj instanceof Timeline\n\nmustBeValidLeastRange = mustBeValidPadding = (n) ->\n  unless Number.isInteger(n) and n > 0\n    throw new Error 'must be a positive integer'\n\nclass Timeline\n\n  constructor: (data = {}) ->\n    if data instanceof Timeline\n      throw new Error \"Timeline instance cannot be recreated\"\n    @uid = luda.guid()\n    @unit data.unit or 'day'\n    @events = {}\n    @_padding = data.padding or 4\n    mustBeValidPadding @_padding\n    @_leastRange = data.leastRange or 13\n    mustBeValidLeastRange @_leastRange\n    @_beginning = null\n    @beginning new Time(data.beginning)\n    @_end = null\n    @end if data.end then new Time(data.end) else new Time(data.beginning)\n    @_exclusions = data.exclusions or []\n    @_inclusions = data.inclusions or []\n    if 'excludeWeekends' of data\n      @_excludeWeekends = data.excludeWeekends\n    else\n      @_excludeWeekends = true\n    @_flags = data.flags or []\n    @created = true\n    @trigger 'after-create'\n\n\n\nexport {\n  Timeline\n  Timeline as default\n  mustBeTimeline\n}\n","import {mustBeRoot} from '../models/task/task.coffee'\nimport {mustBeTimeline} from '../models/timeline/timeline.coffee'\n\n\n\nstores = {}\n\ncreate = (rootTask, timeline, config) ->\n  mustBeRoot rootTask\n  mustBeTimeline timeline\n  stores[rootTask.uid] = {root: rootTask, timeline, config}\n\ndestroy = (rootId) ->\n  throw new Error 'rootId must be present' unless rootId\n  rootId = parseInt rootId, 10\n  delete stores[rootId]\n\nfind = (uid) ->\n  throw new Error 'uid must be present' unless uid\n  uid = parseInt uid, 10\n  matched = null\n  return matched = store.root if store = stores[uid]\n  Object.keys(stores).some (rootId) ->\n    store = stores[rootId]\n    matched = store.timeline if store.timeline.uid is uid\n    matched = store.config if store.config.uid is uid\n    return true if matched\n    matched = store.root.find uid\n  matched\n\nrelations = (uid) ->\n  throw new Error 'uid must be present' unless uid\n  uid = parseInt uid, 10\n  matched = null\n  return matched = store if store = stores[uid]\n  Object.keys(stores).some (rootId) ->\n    store = stores[rootId]\n    matched = store if store.timeline.uid is uid\n    matched = store if store.config.uid is uid\n    return true if matched\n    matched = store if store.root.find uid\n  matched\n\n\n\nexport default {create, destroy, find, relations}\n","import store from '../models/store.coffee'\n\n\n\nluda.mixin 'kickoffModelable',\n\n  model: -> store.find @root.data('uid')\n\n  relations: -> store.relations @root.data('uid')\n\n  rootTask: -> @relations()?.root\n\n  timeline: -> @relations()?.timeline\n\n  config: -> @relations()?.config\n\n\n\nexport default luda.mixin 'kickoffModelable'\n","import modelable from '../../mixins/modelable.coffee'\n\n\n\nluda.component 'kickoffButtonDestroyLink'\n\n.protect modelable.all()\n\n.protect\n\n  from: -> @root.data 'from'\n\n.protect\n\n  destroy: ->\n    return if @model().isRoot()\n    @model().removeDeps @from()\n\n.help\n\n  create: ->\n    return unless model = @model()\n    depc = @rootTask().find @from()\n    return unless depc\n    {type, shortcut} = @model().depcType depc\n    return unless shortcut\n    title = \"Remove #{luda.dashCase(type).replace(/-/g, ' ')} association\n             with #{depc.data.wbs} #{depc.data.name}\"\n    html = \"<i class='kickoff-ico-cross'></i> #{shortcut} #{depc.data.wbs}\"\n    @root.attr('title', title).html html\n\n  listen: -> [['click', @destroy]]\n","luda.mixin 'kickoffLocaleable',\n\n  locale: (path = '') ->\n    conf = @_locale ||= @config().locale\n    pathes = path.split '.'\n    for key in pathes\n      conf = conf[key]\n      return '' if conf is undefined or conf is null\n    conf = conf.$ if Object.prototype.toString.call(conf) is '[object Object]'\n    return '' if conf is undefined or conf is null\n    String conf\n\n  l: (path) -> @locale path\n\n\n\nexport default luda.mixin 'kickoffLocaleable'\n","import Time from '../../models/time/index.coffee'\nimport modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffButtonCreateMilestone'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  create: ->\n    return @model().create({type: 'milestone'}) unless @model().isRoot()\n    unit = @timeline().unit()\n    m = Time.methodNames unit\n    beginning = end = new Time()[m.endOfUnit]()\n    @model().create({type: 'milestone', beginning, end})\n\n.help\n\n  create: ->\n    return unless model = @model()\n    if @model().isRoot()\n      html = @l 'task.actions.createMilestone'\n    else\n      html = \"<i class='kickoff-ico-diamond'></i>\"\n    @root.html html\n    unless @model().isRoot()\n      @root.attr 'title', @l('task.actions.createSubMilestone')\n\n  listen: -> [['click', @create]]\n","import modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffButtonsStateSwitch'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  template: ->\n    uid = @model().uid\n    \"<button class='kickoff-button-state-undo' data-uid='#{uid}'>\n      #{@l 'header.actions.undo'}\n     </button>\n     <button class='kickoff-button-state-redo' data-uid='#{uid}'>\n      #{@l 'header.actions.redo'}\n     </button>\"\n\n  setButtonsStates: ->\n    canUndo = @model().stacks.undo.length > 0\n    canRedo = @model().stacks.redo.length > 0\n    @undoButton.attr 'disabled', if canUndo then null else ''\n    @redoButton.attr 'disabled', if canRedo then null else ''\n\n  undo: -> @model().undo()\n\n  redo: -> @model().redo()\n\n.help\n\n  create: ->\n    @root.html @template()\n    @setButtonsStates()\n    @model().on \"after-update-state-stack.#{@id}\", (event, detail) =>\n      @setButtonsStates()\n\n  listen: ->\n    [\n      ['click', '.kickoff-button-state-undo', @undo]\n      ['click', '.kickoff-button-state-redo', @redo]\n    ]\n\n  find: ->\n    undoButton: '.kickoff-button-state-undo'\n    redoButton: '.kickoff-button-state-redo'\n\n  destroy: ->\n    @model().off \"after-update-state-stack.#{@id}\"\n","import Time from '../../models/time/index.coffee'\nimport modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffButtonCreateTask'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  create: ->\n    return @model().create({}) unless @model().isRoot()\n    unit = @timeline().unit()\n    m = Time.methodNames unit\n    beginning = new Time()[m.beginningOfUnit]()\n    end = beginning[m.endOfUnit]()\n    @model().create({beginning, end})\n\n.help\n\n  create: ->\n    return unless model = @model()\n    if @model().isRoot()\n      html = @l 'task.actions.createTask'\n    else\n      html = \"<i class='kickoff-ico-copy'></i>\"\n    @root.html html\n    unless @model().isRoot()\n      @root.attr 'title', @l('task.actions.createSubTask')\n\n  listen: -> [['click', @create]]\n","import modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\nimport {capitalize} from '../../utilities/string.coffee'\n\n\n\nluda.component 'kickoffButtonDestroyTask'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  tasksToBeDestroied: ->\n    @model().picked().filter (t) -> t.canBeDestroied()\n\n  destroy: ->\n    return @model().destroy() unless @model().isRoot()\n    return unless (picked = @tasksToBeDestroied()).length\n    @model().destroy picked...\n\n  enableOrDisableButton: ->\n    return @root.removeAttr 'disabled' if @tasksToBeDestroied().length\n    @root.attr 'disabled', ''\n\n.help\n\n  create: ->\n    return unless @model()\n    if @model().isRoot()\n      html = @l 'task.actions.destroyDescendants'\n    else\n      html = \"<i class='kickoff-ico-delete'></i>\"\n    @root.html html\n    title = @l \"task.actions.destroy#{capitalize @model().type()}\"\n    @root.attr('title', title) unless @model().isRoot()\n    return unless @model().isRoot()\n    @enableOrDisableButton()\n    @model().on \"after-create.#{@id}\", => @enableOrDisableButton()\n    @model().on \"after-update.#{@id}\", (event, updated) =>\n      @enableOrDisableButton() if 'isPicked' of updated\n    @model().on \"after-destroy.#{@id}\", =>\n      setTimeout => @enableOrDisableButton()\n\n  listen: -> [['click', @destroy]]\n","import {capitalize} from '../../utilities/string.coffee'\nimport modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffButtonEditTask'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  edit: ->\n    return if @model().isRoot()\n    modal = luda(\".kickoff-modal-edit-task[data-uid='#{@model().uid}']\")\n    unless modal.length\n      kickoffSelector = \".kickoff[data-uid='#{@rootTask().uid}']\"\n      luda(kickoffSelector).append modal = @modalNode()\n      form = modal.find '.kickoff-modal-task-form'\n      closeModal = -> luda.kickoffModal(modal).deactivate()\n      renderName = \"render#{capitalize @model().type()}Form\"\n      return r(@model(), form.get(0), closeModal) if r = @config()[renderName]\n      form.append @defaultFormNode()\n    luda.kickoffModal(modal).activate()\n\n  modalNode: ->\n    return @_modalNode if @_modalNode\n    node = luda \"<div class='kickoff-modal kickoff-modal-edit-task'\n      data-uid='#{@model().uid}'>\n      <div class='kickoff-modal-body'>\n        <button class='kickoff-button-close-modal'>\n          <i class='kickoff-ico-cross'></i>\n        </button>\n        <div class='kickoff-modal-task-form'></div>\n      </div>\n    </div>\"\n    node.toggleClass 'is-milestone', @model().isMilestone()\n    detail = {$form: node.find('.kickoff-modal-task-form').get 0}\n    [oldState, newState] = [null, null]\n    node.on \"after-activate.#{@id}\", =>\n      clearTimeout @_isActivatingForm\n      clearTimeout @_isDeactivatingForm\n      @_isActivatingForm = setTimeout =>\n        oldState = @model().pushUndoState()\n        @model().stopTrackingHistory()\n        @model().trigger 'after-activate-form', detail\n    node.on \"after-deactivate.#{@id}\", =>\n      clearTimeout @_isActivatingForm\n      clearTimeout @_isDeactivatingForm\n      @_isDeactivatingForm = setTimeout =>\n        @model().trigger 'after-deactivate-form', detail\n        @model().startTrackingHistory()\n        newState = @model().pushUndoState()\n        return @model().popUndoState() if newState\n        @model().popUndoState() if oldState\n    @_modalNode = node\n\n  defaultFormNode: ->\n    return @_defaultFormNode if @_defaultFormNode\n    node = luda \"<div class='kickoff-form' data-uid='#{@model().uid}'></div>\"\n    @_defaultFormNode = node\n\n.help\n\n  create: ->\n    return unless @model()\n    html = \"<i class='kickoff-ico-edit'></i>\"\n    @root.html html\n    @root.attr 'title', @l(\"task.actions.update#{capitalize @model().type()}\")\n    @model().on \"after-destroy.#{@id}\", (e) =>\n      clearTimeout @_isActivatingForm\n      clearTimeout @_isDeactivatingForm\n      @modalNode().remove()\n\n  listen: -> [['click', @edit]]\n","import modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffButtonFoldTask'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  render: ->\n    if @model().isFolded\n      title = @l 'task.actions.unfold'\n      html = \"<i class='kickoff-ico-right'></i>\"\n      @root.addClass 'is-folded'\n    else\n      title = @l 'task.actions.fold'\n      html = \"<i class='kickoff-ico-down'></i>\"\n      @root.removeClass 'is-folded'\n    @root.toggleClass('is-hidden', @model().children().length is 0)\n    .attr('title', title).html html\n\n.protect\n\n  toggle: -> @model().fold not @model().isFolded\n\n.help\n\n  create: ->\n    return unless model = @model()\n    @render()\n    model.on \"after-create.#{@id}\", (event) =>\n      return if event.target is model\n      @render()\n    model.on \"after-destroy.#{@id}\", (event) =>\n      return if event.target is model\n      @render()\n    model.on \"after-update.#{@id}\", (event, updated) =>\n      return unless event.target is model\n      @render() if 'isFolded' of updated\n\n  destroy: ->\n    clearTimeout @_isRendering\n    @model()?.off \"after-create.#{@id}\"\n    @model()?.off \"after-update.#{@id}\"\n\n  listen: ->\n    [['click', @toggle]]\n","import modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffButtonPickTask'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  render: ->\n    if @model().isPicked\n      title = @l 'task.actions.unpick'\n      html = \"<i class='kickoff-ico-minus'></i>\"\n      @root.addClass 'is-picked'\n    else\n      title = @l 'task.actions.pick'\n      html = \"<i class='kickoff-ico-plus'></i>\"\n      @root.removeClass 'is-picked'\n    @root.attr('title', title).html html\n\n.protect\n\n  toggle: -> @model().pick not @model().isPicked\n\n.help\n\n  create: ->\n    return unless model = @model()\n    @render()\n    @model().on \"after-update.#{@id}\", (event, updated) =>\n      return unless event.target is @model()\n      @render() if 'isPicked' of updated\n\n  destroy: ->\n    @model()?.off \"after-update.#{@id}\"\n\n  listen: ->\n    [['click', @toggle]]\n","import modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffButtonsViewSwitch'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.include\n\n  view: (type = 'gantt') ->\n    luda(\".kickoff[data-uid='#{@rootTask().uid}']\")\n    .toggleClass 'view-switch-to-table', type is 'table'\n    @setButtonsStates type\n\n.protect\n\n  template: ->\n    \"<button class='kickoff-button-view-gantt'>\n       #{@l 'header.navigations.chartView'}\n     </button>\n     <button class='kickoff-button-view-table'>\n       #{@l 'header.navigations.tableView'}\n     </button>\"\n\n  setGanttView: -> @view 'gantt'\n\n  setTableView: -> @view 'table'\n\n  setButtonsStates: (viewType) ->\n    if viewType is 'gantt'\n      @viewGanttButton.attr 'disabled', ''\n      @viewTableButton.removeAttr 'disabled'\n    else\n      @viewGanttButton.removeAttr 'disabled'\n      @viewTableButton.attr 'disabled', ''\n\n.help\n\n  create: ->\n    @root.html @template()\n    @view 'gantt'\n\n  listen: ->\n    [\n      ['click', '.kickoff-button-view-gantt', @setGanttView]\n      ['click', '.kickoff-button-view-table', @setTableView]\n    ]\n\n  find: ->\n    viewGanttButton: '.kickoff-button-view-gantt'\n    viewTableButton: '.kickoff-button-view-table'\n","import './view-switch.coffee'\nimport modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffButtonsUnitZoom'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  template: ->\n    \"<button class='kickoff-button-unit-zoom-in'>\n       #{@l 'header.navigations.zoomIn'}\n     </button>\n     <span class='kickoff-buttons-unit-zoom-current'></span>\n     <button class='kickoff-button-unit-zoom-out'>\n      #{@l 'header.navigations.zoomOut'}\n     </button>\"\n\n.protect\n\n  unitState: ->\n    current = @timeline().unit()\n    all = @timeline().avaliableUnits()\n    index = all.indexOf current\n    zoomInAble = index isnt 0\n    zoomOutAble = index isnt all.length - 1\n    {current, all, index, zoomInAble, zoomOutAble}\n\n  zoomIn: ->\n    @ensureGanttView()\n    {zoomInAble, index, all} = @unitState()\n    @timeline().unit all[index - 1] if zoomInAble\n\n  zoomOut: ->\n    @ensureGanttView()\n    {zoomOutAble, index, all} = @unitState()\n    @timeline().unit all[index + 1] if zoomOutAble\n\n  setButtonsStates: ->\n    {zoomInAble, zoomOutAble} = @unitState()\n    @zoomInButton.attr 'disabled', if zoomInAble then null else ''\n    @zoomOutButton.attr 'disabled', if zoomOutAble then null else ''\n\n  setCurrentUnitText: ->\n    unit = @timeline().unit()\n    @unitText.text @l(\"header.navigations.zoomUnits.#{unit}\") or unit\n\n  ensureGanttView: ->\n    selector = \".kickoff-buttons-view-switch[data-uid='#{@rootTask().uid}']\"\n    switcher = luda(selector)\n    return unless switcher.length\n    luda.kickoffButtonsViewSwitch(switcher).view 'gantt'\n\n.help\n\n  create: ->\n    @root.html @template()\n    @setCurrentUnitText()\n    @timeline().on \"after-update.#{@id}\", (event) =>\n      @setCurrentUnitText()\n      @setButtonsStates()\n\n  destroy: ->\n    @timeline()?.off \"after-update.#{@id}\"\n\n  listen: ->\n    [\n      ['click', '.kickoff-button-unit-zoom-in', @zoomIn]\n      ['click', '.kickoff-button-unit-zoom-out', @zoomOut]\n    ]\n\n  find: ->\n    zoomInButton: '.kickoff-button-unit-zoom-in'\n    zoomOutButton: '.kickoff-button-unit-zoom-out'\n    unitText: '.kickoff-buttons-unit-zoom-current'\n","import modelable from '../../mixins/modelable.coffee'\nimport {capitalize} from '../../utilities/string.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffForm'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  fieldType: (type) ->\n    return type if type in ['number', 'select', 'textarea', 'time']\n    'text'\n\n.protect\n\n  render: ->\n    formFields = @config().formFields\n    @root.html @fieldTemplate(formFields)\n    @executeCustomRenderers formFields\n\n  fieldTemplate: (fields = [], parentIndex) ->\n    model = @model()\n    fields.map((field, index) =>\n      {prop, type, render, multiple} = field\n      if 'label' of field\n        label = field.label\n      else\n        label = @l(\"task.props.#{prop}\") or capitalize(prop)\n      fieldIndex = if parentIndex? then \"#{parentIndex}-#{index}\" else index\n      if field.fields\n        return \"<div class='kickoff-form-custom-field-group'\n                data-uid='#{model.uid}' data-label='#{label}'\n                data-field-index='#{fieldIndex}'></div>\" if render\n        return \"<div class='kickoff-form-field-group' data-uid='#{model.uid}'\n               data-field-index='#{fieldIndex}'>\n                  <label class='kickoff-form-field-group-label'>\n                    #{label}\n                  </label>\n                  <div class='kickoff-form-field-group-fields'>\n                    #{@fieldTemplate field.fields, fieldIndex}\n                  </div>\n                </div>\"\n      return '' unless prop\n      return \"<div class='kickoff-form-custom-field'\n              data-uid='#{model.uid}' data-prop='#{prop}'\n              data-field-index='#{fieldIndex}'></div>\" if render\n      \"<div class='kickoff-form-#{@fieldType type}' data-uid='#{model.uid}'\n      data-prop='#{prop}' data-field-index='#{fieldIndex}'></div>\"\n    ).join ''\n\n.protect\n\n  executeCustomRenderers: (fields = [], parentIndex) ->\n    model = @model()\n    fields.forEach (field, index) =>\n      {prop, render} = field\n      if render\n        fieldIndex = if parentIndex? then \"#{parentIndex}-#{index}\" else index\n        if field.fields\n          selector =  \".kickoff-form-custom-field-group\"\n          selector += \"[data-field-index='#{fieldIndex}']\"\n        if prop\n          selector = \".kickoff-form-custom-field\"\n          selector += \"[data-field-index='#{fieldIndex}']\"\n        return unless selector\n        render.call model, model, @root.find(selector).get(0)\n      else\n        @executeCustomRenderers field.fields, index if field.fields\n\n.help\n\n  create: -> @render()\n","import {capitalize} from '../utilities/string.coffee'\n\n\n\nluda.mixin 'kickoffInputable',\n\n  inputCls: 'kickoff-form-input'\n\n  errorMarkerCls: 'kickoff-form-input'\n\n  render: ->\n    @root.html @template()\n    # @reset()\n\n  template: ->\n    {bottomLevelProp, prop} = @fieldConfig\n    if 'label' of @fieldConfig\n      label = @fieldConfig.label\n    else\n      label = @l(\"task.props.#{prop}\") or capitalize(bottomLevelProp)\n    \"<label class='kickoff-form-label'>#{label}</label>\n     #{@inputTemplate()}\n     <p class='kickoff-form-error is-hidden'></p>\"\n\n  inputTemplate: ->\n    placeholder = @fieldConfig.placeholder or ''\n    \"<input class='#{@inputCls}' type='text' placeholder='#{placeholder}'\n    data-auto='false'/>\"\n\n  getInputValue: ->\n    String(@input.val()).trim()\n\n  setInputValue: ->\n    @input.val @getModelValue()\n\n  toggleInputReadonly: ->\n    {prop, topLevelProp} = @fieldConfig\n    if @model().readonly(topLevelProp) or @model().readonly(prop)\n      @input.attr 'readonly', ''\n      @setInputValue()\n    else\n      @input.removeAttr 'readonly'\n\n  toggleFieldError: (force) ->\n    return @model().error(@fieldConfig.prop, null) if force is null\n    propError = @model().error @fieldConfig.prop\n    if propError\n      @error.removeClass('is-hidden').html propError.join('</br>')\n      @errorMarker.addClass 'is-invalid'\n    else\n      @error.addClass('is-hidden').html ''\n      @errorMarker.removeClass 'is-invalid'\n\n  reset: ->\n    @setInputValue()\n    @toggleInputReadonly()\n    @toggleFieldError null\n\n  getModelValue: ->\n    {propTree, topLevelProp} = @fieldConfig\n    if topLevelProp is 'successors'\n      value = @model().depended\n    else if topLevelProp in ['predecessors', 'dependencies']\n      value = @model().data.dependencies\n    else\n      value = @model().data[topLevelProp]\n    for p in propTree.slice(1)\n      return unless value = value[p]\n    value\n\n  updateModelValue: ->\n    @toggleFieldError null\n    data = {}\n    data[@fieldConfig.prop] = @getInputValue()\n    @model().update data\n\n  deferUpdateModelValue: ->\n    clearTimeout @_isUpdating\n    @_isUpdating = setTimeout (=> @updateModelValue()), 50\n\n  afterUpdate: (event, updated) ->\n    return unless event.target is @model()\n    {topLevelProp, prop} = @fieldConfig\n    @setInputValue() if updated[topLevelProp] or updated[prop]\n    if updated.error\n      {newVal, oldVal} = updated.error\n      if newVal[topLevelProp] or oldVal[topLevelProp] \\\n      or newVal[prop] or oldVal[prop]\n        @toggleFieldError()\n    if updated.readonlyProps\n      {newVal, oldVal} = updated.readonlyProps\n      if newVal.includes(topLevelProp) or oldVal.includes(topLevelProp) \\\n      or newVal.includes(prop) or oldVal.includes(prop)\n        @toggleInputReadonly()\n\n  creator: ->\n    fieldIndexes = String(@root.data 'field-index').split '-'\n    conf = {fields: @config().formFields}\n    conf = conf.fields[index] while (index = fieldIndexes.shift()) >= 0\n    propTree = conf.prop.split '.'\n    topLevelProp = propTree[0]\n    bottomLevelProp = propTree[propTree.length - 1]\n    @fieldConfig = Object.assign {propTree, topLevelProp, bottomLevelProp}, conf\n    @render()\n    @model().on \"after-activate-form.#{@id}\", (e) =>\n      return unless e.target is @model()\n      @reset e\n    @model().on \"after-deactivate-form.#{@id}\", (e) =>\n      return unless e.target is @model()\n      @reset e\n    @model().on \"after-update.#{@id}\", (e, u) =>\n      return unless e.target is @model()\n      @afterUpdate e, u\n\n  destroyer: ->\n    clearTimeout @_isUpdating\n    @model()?.off \"after-activate-form.#{@id}\"\n    @model()?.off \"after-deactivate-form.#{@id}\"\n    @model()?.off \"after-update.#{@id}\"\n\n  listener: ->\n    [\n      ['change', \".#{@inputCls}\", @updateModelValue]\n      ['keydown keyup', \".#{@inputCls}\", @deferUpdateModelValue]\n    ]\n\n  finder: ->\n    input: \".#{@inputCls}\"\n    error: '.kickoff-form-error'\n    errorMarker: \".#{@errorMarkerCls}\"\n\n\n\nexport default luda.mixin 'kickoffInputable'\n","import modelable from '../../mixins/modelable.coffee'\nimport inputable from '../../mixins/inputable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffFormNumber'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect inputable.except(\n  'inputCls', 'errorMarkerCls', 'inputTemplate', 'getInputValue'\n)\n\n.protect\n\n  inputCls: 'kickoff-form-number-input'\n\n  errorMarkerCls: 'kickoff-form-number-input'\n\n  inputTemplate: ->\n    placeholder = @fieldConfig.placeholder or ''\n    \"<input class='#{@inputCls}' type='number' placeholder='#{placeholder}'\n    data-auto='false' />\"\n\n  getInputValue: ->\n    value = @input.val()\n    return value if typeof value is 'number'\n    return NaN if typeof value is 'string' and not value.trim().length\n    Number value\n\n.help\n\n  create: -> @creator()\n\n  destroy: -> @destroyer()\n\n  listen: -> @listener()\n\n  find: -> @finder()\n","import {Task, mustBeTask, splitWbs} from './task.coffee'\n\n\n\ncompareWbs = (a = '', b = '') ->\n  return -1 unless a\n  return 1 unless b\n  [aWbs, bWbs, result] = [splitWbs(a), splitWbs(b), 0]\n  aWbs.push 0 if aWbs.length < bWbs.length\n  aWbs.some (n, i) -> result = n - (bWbs[i] or 0)\n  result\n\nasc = (tasks...) ->\n  tasks.forEach (t) -> mustBeTask t\n  tasks.sort (a, b) -> compareWbs(a.data?.wbs, b.data?.wbs)\n\ndesc = (tasks...) -> asc(tasks...).reverse()\n\norder = (order = 'asc', tasks...) ->\n  return asc tasks... if order is 'asc'\n  return desc tasks... if order is 'desc'\n  throw new Error \"order can only be 'asc' or 'desc'\"\n\nTask.asc = asc\nTask.desc = desc\nTask.order = order\n\n\n\nexport {\n  compareWbs\n  asc\n  desc\n  order\n  order as default\n}\n","import modelable from '../../mixins/modelable.coffee'\nimport inputable from '../../mixins/inputable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\nimport {splitDeps} from '../../models/task/task.coffee'\nimport {asc} from '../../models/task/order.coffee'\n\n\n\nluda.component 'kickoffFormSelect'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect inputable.except(\n  'inputCls', 'errorMarkerCls', 'inputTemplate', 'getInputValue',\n  'setInputValue', 'toggleInputReadonly'\n)\n\n.include\n\n  showOptions: -> @options.removeClass 'is-hidden'\n\n  hideOptions: -> @options.addClass 'is-hidden'\n\n  toggleOptions: (hide) -> @options.toggleClass 'is-hidden', hide\n\n.protect\n\n  inputCls: 'kickoff-form-select-input'\n\n  errorMarkerCls: 'kickoff-form-select-selected-labels'\n\n  inputTemplate: ->\n    placeholder = @fieldConfig.placeholder or ''\n    \"<div class='kickoff-form-select-simulated'>\n      <input class='kickoff-form-select-selected-labels' readonly\n      placeholder='#{placeholder}' data-auto='false' />\n      <div class='kickoff-form-select-options is-hidden'></div>\n    </div>\"\n\n  optionsTemplate: (options = []) ->\n    model = @model()\n    {topLevelProp, prop, bottomLevelProp, label, multiple} = @fieldConfig\n    inputType = if multiple then 'checkbox' else 'radio'\n    if topLevelProp in ['predecessors', 'successors'] and not options.length\n      asc(model.root().tasks...).map (t) ->\n        if topLevelProp is 'predecessors'\n          return unless model.predecessors(bottomLevelProp).includes(t) \\\n          or t.isValidPredecessorOf(model)\n        if topLevelProp is 'successors'\n          return unless model.successors(bottomLevelProp).includes(t) \\\n          or t.isValidSuccessorOf(model)\n        options.push {value: t.data.wbs, label: \"#{t.data.wbs} #{t.data.name}\"}\n    options.map((option) =>\n      {label, value} = option\n      {type, str} = @valueToStr value\n      \"<label class='kickoff-form-select-option' data-auto='false'>\n         <input class='kickoff-form-select-input'\n         name='kickoff_task_#{model.uid}_#{prop}'\n         type='#{inputType}' value='#{value}' data-auto='false'\n         data-prop='#{prop}' data-value-type='#{type}' data-label='#{label}' />\n         #{label}\n       </label>\"\n    ).join ''\n\n  refreshOptions: ->\n    self = this\n    {options} = @fieldConfig\n    @hideOptions()\n    if luda.isFunction options\n      useOptions = (deferOptions) ->\n        self.options.html self.optionsTemplate(deferOptions)\n      return options useOptions\n    @options.html @optionsTemplate(options)\n\n  toggleInputReadonly: ->\n    {prop, topLevelProp} = @fieldConfig\n    model = @model()\n    rootTask = model.root()\n    propIsReadonly = model.readonly(topLevelProp) or model.readonly(prop)\n    @setInputValue()\n    @simulatedInput.toggleClass 'is-readonly', propIsReadonly\n    @input.each (item) ->\n      isReadonly = propIsReadonly\n      if topLevelProp in ['predecessors', 'successors']\n        reverseP = {predecessors: 'successors', successors: 'predecessors'}\n        reverseTask = rootTask.find(item.value)\n        isReadonly ||= reverseTask.readonly reverseP[topLevelProp]\n        isReadonly ||= reverseTask.readonly(\n          prop.replace(topLevelProp, reverseP[topLevelProp])\n        )\n      val = if isReadonly then '' else null\n      luda(item).attr 'disabled', val\n      luda(item).parent('.kickoff-form-select-option').attr 'readonly', val\n      undefined\n\n  getInputValue: ->\n    {multiple, topLevelProp} = @fieldConfig\n    vals = []\n    @input.each (item) =>\n      return unless item.checked\n      vals.push @strToValue(item.value, luda(item).data('value-type'))\n      undefined\n    return vals if multiple\n    return vals[0] or '' if topLevelProp in ['predecessors', 'successors']\n    vals[0]\n\n  setInputValue: ->\n    {multiple, topLevelProp} = @fieldConfig\n    vals = @getModelValue()\n    vals = splitDeps vals if multiple and typeof vals is 'string'\n    vals = [vals] unless luda.isArray vals\n    @input.each (item) =>\n      checked = @strToValue(item.value, luda(item).data('value-type')) in vals\n      luda(item).attr 'checked', if checked then '' else null\n      item.checked = Boolean checked\n      undefined\n    @setSimulatedInputValue()\n\n  setSimulatedInputValue: ->\n    checkedLabels = []\n    @input.each (item) ->\n      return unless item.checked\n      checkedLabels.push luda(item).data('label')\n      undefined\n    @simulatedInput.val checkedLabels.join(', ')\n\n  toggleOptionsHandler: (event) ->\n    {prop, topLevelProp} = @fieldConfig\n    return if @model().readonly(topLevelProp) or @model().readonly(prop)\n    if event.type is 'focusin'\n      @showOptions()\n    else if event.type is 'change'\n      @toggleOptions not @fieldConfig.multiple\n\n  toggleOptionsBySimulatedInputHandler: (event) ->\n    {prop, topLevelProp} = @fieldConfig\n    return if @model().readonly(topLevelProp) or @model().readonly(prop)\n    if event.type is 'focusin'\n      isHidden = @options.hasClass 'is-hidden'\n      @showOptions()\n      @_handledByFocusin = isHidden\n    else if event.type is 'click'\n      @toggleOptions() unless @_handledByFocusin\n      delete @_handledByFocusin\n\n.protect\n\n  valueToStr: (value) ->\n    type = Object.prototype.toString.call value\n    if ['[object String]', '[object Boolean]', '[object Number]'].includes type\n      str = String value\n    else if value is undefined or value is null\n      str = ''\n    else\n      str = JSON.stringify(type)\n    {type, str}\n\n  strToValue: (str, type) ->\n    return str if type is '[object String]'\n    return Number str if type is '[object Number]'\n    return Boolean str if type is '[object Boolean]'\n    return undefined if type is '[object Undefined]'\n    return null if type is '[object Null]'\n    JSON.parse str\n\n.help\n\n  create: ->\n    @creator()\n    @model().on \"after-activate-form.#{@id}\", (event) =>\n      return unless event.target is @model()\n      @refreshOptions()\n    @model().on \"after-update.#{@id}\", (event, updated) =>\n      return unless event.target is @model()\n      {topLevelProp, prop} = @fieldConfig\n      return unless topLevelProp in ['predecessors', 'successors']\n      isAffected = false\n      if updated.predecessors\n        isAffected = Object.keys(updated.predecessors.newVal).some (type) ->\n          return if prop is \"predecessors.#{type}\"\n          newVals = splitDeps updated.predecessors.newVal[type]\n          oldVals = splitDeps updated.predecessors.oldVal[type]\n          not luda.arrayEqual newVals, oldVals\n      if updated.successors\n        isAffected ||= Object.keys(updated.successors.newVal).some (type) ->\n          return if prop is \"successors.#{type}\"\n          newVals = splitDeps updated.successors.newVal[type]\n          oldVals = splitDeps updated.successors.oldVal[type]\n          not luda.arrayEqual newVals, oldVals\n      @refreshOptions() if isAffected\n\n  destroy: -> @destroyer()\n\n  listen: ->\n    [\n      ['change', '.kickoff-form-select-input', @setSimulatedInputValue]\n      ['focusin change', '.kickoff-form-select-input', @toggleOptionsHandler]\n      [\n        'focusin click',\n        '.kickoff-form-select-selected-labels',\n        @toggleOptionsBySimulatedInputHandler\n      ]\n      [\n        'focusin click', (e) ->\n          focusedSelect = null\n          e.eventPath().some (element) ->\n            if luda(element).is '.kickoff-form-select'\n              focusedSelect = element\n              return true\n          targets = luda('.kickoff-form-select').not(focusedSelect)\n          luda.kickoffFormSelect(targets).hideOptions()\n      ]\n    ]\n    .concat @listener()\n\n  watch: ->\n    node: [\n      ['.kickoff-form-select-input', @reset]\n    ]\n\n  find: ->\n    Object.assign @finder(), {\n      simulatedInput: '.kickoff-form-select-selected-labels'\n      options: '.kickoff-form-select-options'\n    }\n","import modelable from '../../mixins/modelable.coffee'\nimport inputable from '../../mixins/inputable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffFormText'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect inputable.all()\n\n.help\n\n  create: -> @creator()\n\n  destroy: -> @destroyer()\n\n  listen: -> @listener()\n\n  find: -> @finder()\n","import modelable from '../../mixins/modelable.coffee'\nimport inputable from '../../mixins/inputable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffFormTextarea'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect inputable.except('inputCls', 'errorMarkerCls', 'inputTemplate')\n\n.protect\n\n  inputCls: 'kickoff-form-textarea-input'\n\n  errorMarkerCls: 'kickoff-form-textarea-input'\n\n  inputTemplate: ->\n    placeholder = @fieldConfig.placeholder or ''\n    \"<textarea class='#{@inputCls}' placeholder='#{placeholder}'\n    data-auto='false'></textarea>\"\n\n.help\n\n  create: -> @creator()\n\n  destroy: -> @destroyer()\n\n  listen: -> @listener()\n\n  find: -> @finder()\n","import modelable from '../../mixins/modelable.coffee'\nimport inputable from '../../mixins/inputable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\nimport Time from '../../models/time/index.coffee'\n\n\n\nluda.component 'kickoffFormTime'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect inputable.except(\n  'inputCls', 'errorMarkerCls', 'inputTemplate', 'getInputValue',\n  'setInputValue', 'toggleInputReadonly'\n)\n\n.include\n\n  showDropdown: -> @dropdown.removeClass 'is-hidden'\n\n  hideDropdown: -> @dropdown.addClass 'is-hidden'\n\n  toggleDropdown: (hide) -> @dropdown.toggleClass 'is-hidden', hide\n\n.protect\n\n  inputCls: 'kickoff-form-time-input'\n\n  errorMarkerCls: 'kickoff-form-time-selected-label'\n\n  pickTheEndOfTheDay: ->\n    return @fieldConfig.pickEnd if 'pickEnd' of @fieldConfig\n    @fieldConfig.prop is 'end'\n\n  inputTemplate: ->\n    placeholder = @fieldConfig.placeholder or ''\n    \"<div class='kickoff-form-time-simulated'>\n      <input class='kickoff-form-time-selected-label'\n      readonly placeholder='#{placeholder}' data-auto='false'/>\n      <div class='kickoff-form-time-dropdown is-hidden'>\n        <div class='kickoff-form-time-dropdown-header'>\n          <button class='kickoff-button-form-time-ctrl-prev-month'>\n            <i class='kickoff-ico-left'></i>\n          </button>\n          <label class='kickoff-form-time-header-label'></label>\n          <button class='kickoff-button-form-time-ctrl-next-month'>\n            <i class='kickoff-ico-right'></i>\n          </button>\n        </div>\n        <table class='kickoff-form-time-month'>\n          <thead><tr>\n            <th>#{@l 'timePicker.whatDay.sun'}</th>\n            <th>#{@l 'timePicker.whatDay.mon'}</th>\n            <th>#{@l 'timePicker.whatDay.thu'}</th>\n            <th>#{@l 'timePicker.whatDay.wes'}</th>\n            <th>#{@l 'timePicker.whatDay.thr'}</th>\n            <th>#{@l 'timePicker.whatDay.fri'}</th>\n            <th>#{@l 'timePicker.whatDay.sat'}</th>\n          </tr></thead>\n          <tbody class='kickoff-form-time-month-dates'></tbody>\n        </table>\n      </div>\n    </div>\"\n\n  renderMonth: (time) ->\n    clearTimeout @_isRenderingMonth\n    @_isRenderingMonth = setTimeout =>\n      prop = @fieldConfig.prop\n      selected = new Time @getModelValue()\n      [model, time] = [@model(), new Time(time or selected)]\n      [monthB, monthE] = [time.beginningOfTheMonth(), time.endOfTheMonth()]\n      monthDates = Time.devideByDay monthB, monthE\n      firstDateWeekday = monthDates[0].beginning.whatDay()\n      lastDateWeekday = monthDates[monthDates.length - 1].beginning.whatDay()\n      monthDates.unshift null while (firstDateWeekday -= 1) >= 0\n      monthDates.push null while (lastDateWeekday += 1) <= 6\n      [datesHtml = '', monthLabel = time.toString('{yyyy}/{mm}')]\n      monthDates.forEach (date, index) =>\n        datesHtml += '<tr>' if index % 7 is 0\n        datesHtml += '<td>'\n        if date\n          dateTime = if @pickTheEndOfTheDay() then date.end else date.beginning\n          value = dateTime.toString()\n          label = dateTime.toString '{yyyy}/{mm}/{dd}'\n          if @pickTheEndOfTheDay()\n            checked = selected.endOfTheDay().equals dateTime\n          else\n            checked = selected.beginningOfTheDay().equals dateTime\n          checkedAttr = if checked then 'checked' else ''\n          datesHtml += \"<label class='kickoff-form-time-date' data-auto='false'>\n            <input class='kickoff-form-time-input' #{checkedAttr}\n            name='kickoff_task_#{model.uid}_#{prop}' type='radio'\n            value='#{value}' data-auto='false' data-prop='#{prop}'\n            data-label='#{label}' />\n            <span class='kickoff-form-time-input-label'>\n              #{dateTime.toString '{dd}'}\n            </span>\n          </label>\"\n        datesHtml += '</td>'\n        datesHtml += '</tr>' if index % 7 is 6\n      @headerLabel.html monthLabel\n      @dates.html datesHtml\n      @_renderedMonth = time\n\n  renderPrevMonth: -> @renderMonth @_renderedMonth.prevMonth()\n\n  renderNextMonth: -> @renderMonth @_renderedMonth.nextMonth()\n\n  toggleInputReadonly: ->\n    {prop, topLevelProp} = @fieldConfig\n    model = @model()\n    propIsReadonly = model.readonly(topLevelProp) or model.readonly(prop)\n    @setInputValue() if propIsReadonly\n    val = if propIsReadonly then '' else null\n    @simulatedInput.toggleClass 'is-readonly', propIsReadonly\n    @input.attr 'disabled', val\n    @date.attr 'readonly', val\n\n  setInputValue: -> @renderMonth @getModelValue()\n\n  getInputValue: -> @input.filter(':checked').val()\n\n  setInputValueWhenNoError: ->\n    @setSimulatedInputValue()\n    return if @model().error @fieldConfig.prop\n    @setInputValue()\n\n  setSimulatedInputValue: ->\n    return unless (checkedInput = @input.filter ':checked').length\n    @simulatedInput.val checkedInput.data('label')\n\n  toggleDropdownHandler: (event) ->\n    {prop, topLevelProp} = @fieldConfig\n    return if @model().readonly(topLevelProp) or @model().readonly(prop)\n    if event.type is 'focusin'\n      @showDropdown()\n    else if event.type is 'change'\n      @hideDropdown()\n\n  toggleDropdownBySimulatedInputHandler: (event) ->\n    {prop, topLevelProp} = @fieldConfig\n    return if @model().readonly(topLevelProp) or @model().readonly(prop)\n    if event.type is 'focusin'\n      isHidden = @dropdown.hasClass 'is-hidden'\n      @showDropdown()\n      @_handledByFocusin = isHidden\n    else if event.type is 'click'\n      @toggleDropdown() unless @_handledByFocusin\n      delete @_handledByFocusin\n\n.help\n\n  create: -> @creator()\n\n  destroy: -> @destroyer()\n\n  listen: ->\n    @listener().concat([\n      ['click', '.kickoff-button-form-time-ctrl-next-month', @renderNextMonth]\n      ['click', '.kickoff-button-form-time-ctrl-prev-month', @renderPrevMonth]\n      ['change', '.kickoff-form-time-input', @setInputValueWhenNoError]\n      ['focusin change', '.kickoff-form-time-input', @toggleDropdownHandler]\n      [\n        'focusin click',\n        '.kickoff-form-time-selected-label',\n        @toggleDropdownBySimulatedInputHandler\n      ]\n      [\n        'focusin click', (e) ->\n          focusedTime = null\n          e.eventPath().some (element) ->\n            if luda(element).is '.kickoff-form-time'\n              focusedTime = element\n              return true\n          targets = luda('.kickoff-form-time').not(focusedTime)\n          luda.kickoffFormTime(targets).hideDropdown()\n      ]\n    ])\n\n  watch: ->\n    node: [\n      ['.kickoff-form-time-input', @setSimulatedInputValue]\n    ]\n\n  find: ->\n    Object.assign @finder(), {\n      simulatedInput: '.kickoff-form-time-selected-label'\n      dropdown: '.kickoff-form-time-dropdown'\n      date: '.kickoff-form-time-date'\n      headerLabel: '.kickoff-form-time-header-label'\n      dates: '.kickoff-form-time-month-dates'\n    }\n","import {\n  Task\n  root\n  isRoot\n  splitWbs\n  parent\n  find\n  mustExist\n  prevWbs\n  nextWbs\n} from './task.coffee'\nimport {asc, desc} from './order.coffee'\n\n\n\nchildren = (task, ruleFn) ->\n  mustExist task\n  if isRoot task\n    return task.tasks.filter (t) -> splitWbs(t.data.wbs).length is 1\n  taskWbs = splitWbs task.data.wbs\n  root(task).tasks.filter (t) ->\n    tWbs = splitWbs t.data.wbs\n    return false unless tWbs.length is taskWbs.length + 1\n    isChd = not taskWbs.some (n, i) -> n isnt tWbs[i]\n    if ruleFn then isChd and ruleFn t else isChd\n\nfirstChild = (task) ->\n  mustExist task\n  return null unless (chd = children task).length\n  (asc chd...)[0]\n\nlastChild = (task) ->\n  mustExist task\n  return null unless (chd = children task).length\n  (desc chd...)[0]\n\nprevSiblings = (task, ruleFn) ->\n  mustExist task\n  return [] if isRoot task\n  chd = asc children(parent(task, true), ruleFn)...\n  chd.slice(0, chd.indexOf(task))\n\nprevSibling = (task) ->\n  mustExist task\n  return null if isRoot task\n  siblingWbs = prevWbs task.data.wbs\n  return null unless siblingWbs\n  find root(task), siblingWbs\n\nnextSiblings = (task, ruleFn) ->\n  mustExist task\n  return [] if isRoot task\n  chd = asc children(parent(task, true), ruleFn)...\n  chd.slice(chd.indexOf(task) + 1)\n\nnextSibling = (task) ->\n  mustExist task\n  return null if isRoot task\n  siblingWbs = nextWbs task.data.wbs\n  return null unless siblingWbs\n  find root(task), siblingWbs\n\ndescendants = (task, ruleFn) ->\n  mustExist task\n  return task.tasks if isRoot task\n  taskWbs = splitWbs task.data.wbs\n  root(task).tasks.filter (t) ->\n    tWbs = splitWbs t.data.wbs\n    return false unless tWbs.length > taskWbs.length\n    isDescendant = not taskWbs.some (n, i) -> n isnt tWbs[i]\n    if ruleFn then isDescendant and ruleFn t else isDescendant\n\nancestors = (task, ruleFn, includeRoot = false) ->\n  mustExist task\n  return [] if isRoot task\n  taskWbs = splitWbs task.data.wbs\n  collected = root(task).tasks.filter (t) ->\n    tWbs = splitWbs t.data.wbs\n    return false unless tWbs.length < taskWbs.length\n    isAncestor = not tWbs.some (n, i) -> n isnt taskWbs[i]\n    if ruleFn then isAncestor and ruleFn t else isAncestor\n  collected.unshift root task if includeRoot\n  collected\n\nwhere = (task, conOrRule) ->\n  mustExist task\n  if typeof conOrRule is 'function'\n    descendants(task).filter (t) -> conOrRule t\n  else if typeof conOrRule is 'object'\n    descendants(task).filter (t) ->\n      for key, val of conditions\n        return false if t.data[key] isnt val\n      true\n  else\n    []\n\nTask.prototype.root = -> root this\n\nTask.prototype.children = (ruleFn) -> children this, ruleFn\n\nTask.prototype.firstChild = -> firstChild this\n\nTask.prototype.lastChild = -> lastChild this\n\nTask.prototype.nextSiblings = (ruleFn) -> nextSiblings this, ruleFn\n\nTask.prototype.nextSibling = Task.prototype.next = -> nextSibling this\n\nTask.prototype.prevSiblings = (ruleFn) -> prevSiblings this, ruleFn\n\nTask.prototype.prevSibling = Task.prototype.prev = -> prevSibling this\n\nTask.prototype.descendants = Task.prototype.tasks = (ruleFn) ->\n  descendants this, ruleFn\n\nTask.prototype.ancestors = (ruleFn, includeRoot = false) ->\n  ancestors this, ruleFn, includeRoot\n\nTask.prototype.parent = (includeRoot = false) -> parent this, includeRoot\n\nTask.prototype.find = (uidOrWbs) -> find root(this), uidOrWbs\n\nTask.prototype.where = (conOrRule) -> where this, conOrRule\n\n\n\nexport {\n  children\n  firstChild\n  lastChild\n  nextSiblings\n  prevSiblings\n  descendants\n  ancestors\n  parent\n  find\n  where\n}\n","import {\n  Task\n  mustExist\n  mustBeTask\n} from './task.coffee'\n\n\n\nisTask = (task) ->\n  mustBeTask task\n  task.data.type isnt 'milestone'\n\nisMilestone = (task) ->\n  mustBeTask task\n  task.data.type is 'milestone'\n\ntype = (task) ->\n  mustExist task\n  if isTask(task) then 'task' else 'milestone'\n\nTask.prototype.type = -> type this\n\nTask.prototype.isTask = -> isTask this\n\nTask.prototype.isMilestone = -> isMilestone this\n\n\n\nexport {\n  type\n  type as default\n  isTask\n  isMilestone\n}\n","class CustomEvent\n\n  constructor: (target, event, detail = null, original = {}) ->\n    {type} = parseEvent event\n    @type = type\n    @target = target\n    @originalTarget = original.target or target\n    @original = Object.assign {target: @originalTarget}, original\n    @detail = detail\n    @_stopped = false\n    @_immediateStopped = false\n    @_prevented = false\n\n  stopImmediatePropagation: -> @_immediateStopped = true\n\n  stopPropagation: -> @_stopped = true\n\n  preventDefault: -> @_prevented = true\n\n  isImmediatePropagationStopped: -> @_immediateStopped is true\n\n  isPropagationStopped: -> @_stopped is true\n\n  isDefaultPrevented: -> @_prevented is true\n\n\nmustBeValidCallback = (callback) ->\n  unless luda.isFunction callback\n    throw new Error \"Invalid callback: #{callback}\"\n\nparseEvent = (event = '') ->\n  unless luda.isString(event) and event.trim().length\n    throw new Error \"Invalid event #{event}\"\n  splited = event.split '.'\n  {type: splited[0], namespace: splited.slice 1}\n\nnsMatches = (ns, definedNs) -> ns.every (n) -> definedNs.includes n\n\n\n\nexport {\n  CustomEvent\n  mustBeValidCallback\n  parseEvent\n  nsMatches\n}\n","import {Task, root, mustExist, mustBeTask, depcTypes} from './task.coffee'\nimport {desc} from './order.coffee'\nimport {ancestors} from './query.coffee'\nimport {\n  CustomEvent\n  mustBeValidCallback\n  nsMatches\n  parseEvent\n} from '../../utilities/event.coffee'\n\n\n\nclass TaskEvent extends CustomEvent\n\n\n\neventCache = (task, type) ->\n  cache = root(task).events\n  cache[type] ||= []\n\naddEvent = (task, event, callback, _one = false) ->\n  {type, namespace} = parseEvent event\n  mustBeValidCallback callback\n  mustExist task\n  eventCache(task, type).push {task, namespace, callback, _one}\n\naddEventOnce = (task, event, callback) -> addEvent task, event, callback, true\n\nremoveEvent = (task, event, callback) ->\n  {type, namespace} = parseEvent event if event\n  mustBeValidCallback callback if callback\n  mustExist task\n  eventCache task, type\n  types = if type then [type] else Object.keys root(task).events\n  for type in types\n    root(task).events[type] = eventCache(task, type).filter (q) ->\n      return true if task.uid isnt q.task.uid\n      return true if callback and callback isnt q.callback\n      return true if namespace and namespace.length and \\\n      not nsMatches namespace, q.namespace\n\ntriggerEvent = (task, event, detail, original) ->\n  mustExist task\n  {type, namespace} = parseEvent event\n  shouldTrigger = task.created or type is 'before-create'\n  return unless shouldTrigger\n  taskEvent = new TaskEvent task, event, detail, original\n  eventQuene = eventCache task, type\n  eventPath = desc ancestors(task, null, true).concat(task)...\n  eventPath.some (t) ->\n    eventQuene.some (q) ->\n      return unless t.uid is q.task.uid\n      return unless nsMatches namespace, q.namespace\n      taskEvent.currentTarget = t\n      if q.callback.call(t, taskEvent, taskEvent.detail) is false\n        taskEvent.stopPropagation()\n        taskEvent.preventDefault()\n      removeEvent task, event, q.callback if q._one\n      taskEvent.isImmediatePropagationStopped()\n    taskEvent.isPropagationStopped()\n  not taskEvent.isDefaultPrevented()\n\nTask.prototype.on = (event, callback) ->\n  addEvent this, event, callback\n  this\n\nTask.prototype.one = (event, callback) ->\n  addEventOnce this, event, callback\n  this\n\nTask.prototype.off = (event, callback) ->\n  removeEvent this, event, callback\n  this\n\nTask.prototype.trigger = (event, detail, _needResult) ->\n  isTriggered = triggerEvent(this, event, detail) isnt false\n  return isTriggered if _needResult\n  this\n\n\n\nexport {\n  addEvent\n  addEventOnce\n  removeEvent\n  triggerEvent\n}\n","import {\n  Task\n  root\n  isRoot\n  splitDeps\n  joinDeps\n  find\n  mustExist\n  depcTypes as types\n  depcTypeShortcuts as typeShortcuts\n} from './task.coffee'\nimport {\n  ancestors\n  descendants\n} from './query.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\n\ntypeMustBeValid = (type) ->\n  type = types[typeShortcuts.indexOf type] unless types.includes type\n  throw new Error \"Invalid type: #{type}\" unless types.includes type\n  type\n\ndepWbses = (task, type = '') ->\n  depsObj = task.data.dependencies\n  unless type\n    wbses = []\n    types.forEach (t) ->\n      wbses = wbses.concat splitDeps(depsObj[t])\n    return wbses\n    # return types.map((t) -> splitDeps depsObj[t]).flat() unless type\n  type = typeMustBeValid type\n  splitDeps depsObj[type]\n\nparseDeps = (task, deps...) ->\n  depTasks = []\n  deps.forEach (d) ->\n    d = find root(task), d unless d instanceof Task\n    depTasks.push d if d and d.rootId is task.rootId\n  depTasks\n\ncompareNewAndOld = (task, type = '', newVals = []) ->\n  type = typeMustBeValid type\n  oldVals = depWbses task, type\n  oldVal = joinDeps oldVals\n  newVals = splitDeps newVals if typeof newVals is 'string'\n  newVal = joinDeps newVals\n  {newVal, oldVal, oldVals, newVals, isEqual: newVal is oldVal}\n\ncollectDepdWbsData = (task, filter) ->\n  mustExist task\n  val = {}\n  for type in types\n    val[type] = joinDeps task.depd(type, filter).map((t) -> t.data.wbs)\n  val\n\ntriggerDepsEvent = (task, event, type, detail, _original) ->\n  type = typeMustBeValid type\n  # trigger dependencies event of current task\n  typeDetail = {}\n  typeDetail[type] = detail\n  isPrevented = triggerEvent(task, event, typeDetail, _original) is false\n  return false if isPrevented and event is 'before-update'\n  # trigger predecessor event of current task\n  depsDetail = {predecessors: {}}\n  [newVal, oldVal] = [{}, {}]\n  for key, val of task.data.dependencies\n    if key is type\n      newVal[key] = detail.newVal\n      oldVal[key] = detail.oldVal\n    else\n      newVal[key] = oldVal[key] = val\n  depsDetail.predecessors.newVal = newVal\n  depsDetail.predecessors.oldVal = oldVal\n  isDepsEventPrevented = triggerEvent(\n    task, event, depsDetail, _original\n  ) is false\n  isPrevented ||= isDepsEventPrevented\n  return false if isPrevented and event is 'before-update'\n  # trigger successors events of current task's predecessors\n  depdDetail = {successors: {}}\n  oldDeps = splitDeps(oldVal[type]).map (wbs) -> find root(task), wbs\n  newDeps = splitDeps(newVal[type]).map (wbs) -> find root(task), wbs\n  isDepdEventPrevented = luda.unique(oldDeps.concat newDeps).some (t) ->\n    return unless t\n    existInOld = oldDeps.includes t\n    existInNew = newDeps.includes t\n    existInNew = false unless task.created\n    return if existInNew and existInOld\n    if event is 'before-update'\n      oldVal = collectDepdWbsData t\n      newVal = JSON.parse JSON.stringify(oldVal)\n      depdWbsArr = splitDeps oldVal[type]\n      if existInNew\n        depdWbsArr.push task.data.wbs\n      else\n        depdWbsArr.splice depdWbsArr.indexOf(task.data.wbs), 1\n      newVal[type] = joinDeps depdWbsArr\n    else\n      newVal = collectDepdWbsData t\n      oldVal = JSON.parse JSON.stringify(newVal)\n      depdWbsArr = splitDeps newVal[type]\n      if existInNew\n        depdWbsArr.splice depdWbsArr.indexOf(task.data.wbs), 1\n      else\n        depdWbsArr.push task.data.wbs\n      oldVal[type] = joinDeps depdWbsArr\n      t.depended = newVal # hack\n    depdDetail.successors.newVal = newVal\n    depdDetail.successors.oldVal = oldVal\n    triggerEvent(t, event, depdDetail, _original) is false\n  isPrevented ||= isDepdEventPrevented\n  return false if isPrevented and event is 'before-update'\n  not isPrevented\n\nbeforeUpdateDeps = (task, type, newVals = [], _returnSchedul, _original = {}) ->\n  original = Object.assign(\n    {target: task, prop: \"predecessors.#{type}\"}, _original\n  )\n  [triggered, schedules] = [true, []]\n  result = ->\n    if _returnSchedul then {triggered, schedules} else triggered\n  {newVal, oldVal, oldVals, isEqual} = compareNewAndOld task, type, newVals\n  return result() if isEqual\n  triggered = triggerDepsEvent(\n    task, 'before-update', type, {newVal, oldVal}, original\n  )\n  return result() unless triggered\n  return result() unless newVals.some (v) -> not oldVals.includes v\n  task.data.dependencies[type] = newVal\n  [newB, newE] = [task.data.beginning, task.data.end]\n  {triggered, resources} = task._beforeUpdateSchedule(\n    {beginning: newB, end: newE}, 'flex', _returnSchedul, original\n  )\n  schedules = resources\n  task.data.dependencies[type] = oldVal\n  result()\n\ntouchDeps = (task, type, newVals = [], _schedules = [], _original = {}) ->\n  original = Object.assign(\n    {target: task, prop: \"predecessors.#{type}\"}, _original\n  )\n  {newVal, oldVal, isEqual} = compareNewAndOld task, type, newVals\n  unless isEqual\n    task.data.dependencies[type] = newVal\n    [newBegin, newEnd] = [task.data.beginning, task.data.end]\n    task._touchSchedule(\n      {beginning: newBegin, end: newEnd}, 'flex', _schedules, original\n    )\n  triggerDepsEvent task, 'after-touch', type, {newVal, oldVal}, original\n  return if isEqual\n  triggerDepsEvent task, 'after-update', type, {newVal, oldVal}, original\n\ntryUpdateDeps = (task, type, newVals = [], _original) ->\n  {triggered, schedules} = beforeUpdateDeps(\n    task, type, newVals, true, _original\n  )\n  newVals = depWbses(task, type) unless triggered\n  touchDeps task, type, newVals, schedules, _original\n  triggered\n\ndeps = (task, type = '', ruleFn, deep = false) ->\n  mustExist task\n  return [] if isRoot task\n  wbses = depWbses task, type\n  collected = root(task).tasks.filter (t) ->\n    matched = wbses.includes t.data.wbs\n    if ruleFn then matched and ruleFn t else matched\n  return collected unless deep\n  index = 0\n  while index < collected.length\n    collected = collected.concat deps(collected[index], type, ruleFn)\n    index += 1\n  luda.unique collected\n\nf2sDeps = (task, ruleFn, deep) -> deps task, 'finishToStart', ruleFn, deep\n\ns2sDeps = (task, ruleFn, deep) -> deps task, 'startToStart', ruleFn, deep\n\nf2fDeps = (task, ruleFn, deep) -> deps task, 'finishToFinish', ruleFn, deep\n\ns2fDeps = (task, ruleFn, deep) -> deps task, 'startToFinish', ruleFn, deep\n\nisValidDepc = (depc, task) ->\n  depc = parseDeps(task, depc)[0]\n  return false unless depc\n  return false if task is depc\n  return false if ancestors(task).includes depc\n  return false if descendants(task).includes depc\n  return true unless task.created\n  return false if deps(task).includes depc\n  return false if task.depd(null, null, true).includes depc\n  # return false if depd(task, null, null, true).includes depc\n  true\n\naddDeps = (task, type, depTasks = [], _original) ->\n  mustExist task\n  return if isRoot task\n  addedWbs = []\n  parseDeps(task, depTasks...).forEach (depc) ->\n    addedWbs.push depc.data.wbs if isValidDepc depc, task\n  return unless addedWbs.length\n  tryUpdateDeps task, type, depWbses(task, type).concat(addedWbs), _original\n\naddF2SDeps = (task, deps...) -> addDeps task, 'finishToStart', deps\n\naddS2SDeps = (task, deps...) -> addDeps task, 'startToStart', deps\n\naddF2FDeps = (task, deps...) -> addDeps task, 'finishToFinish', deps\n\naddS2FDeps = (task, deps...) -> addDeps task, 'startToFinish', deps\n\nremoveDeps = (task, deps = [], _original) ->\n  mustExist task\n  return if isRoot task\n  unless deps.length\n    for key, val of task.data.dependencies\n      tryUpdateDeps task, key, [], _original\n    return\n  depTasks = parseDeps task, deps...\n  types.forEach (t) ->\n    arr = depWbses task, t\n    depTasks.forEach (d) ->\n      arr.splice index, 1 if (index = arr.indexOf d.data.wbs) >= 0\n    tryUpdateDeps task, t, arr, _original\n\ndepcType = (task, depc) ->\n  mustExist task\n  return unless depc\n  depc = parseDeps(task, depc)[0]\n  type = ''\n  types.some (t) ->\n    wbses = depWbses task, t\n    return false unless wbses.includes depc.data.wbs\n    type = t\n  shortcut = typeShortcuts[types.indexOf type] or ''\n  return {type, shortcut}\n\nTask.prototype.predecessors = Task.prototype.deps = (type, ruleFn, deep) ->\n  deps this, type, ruleFn, deep\n\nTask.prototype.f2sPredecessors = Task.prototype.f2sDeps = (ruleFn, deep) ->\n  f2sDeps this, ruleFn, deep\n\nTask.prototype.s2sPredecessors = Task.prototype.s2sDeps = (ruleFn, deep) ->\n  s2sDeps this, ruleFn, deep\n\nTask.prototype.f2fPredecessors = Task.prototype.f2fDeps = (ruleFn, deep) ->\n  f2fDeps this, ruleFn, deep\n\nTask.prototype.s2fPredecessors = Task.prototype.s2fDeps = (ruleFn, deep) ->\n  s2fDeps this, ruleFn, deep\n\nTask.prototype.isValidPredecessorOf = Task.prototype.isValidDepcOf = (depd) ->\n  return false unless depd = parseDeps(this, depd)[0]\n  isValidDepc this, depd\n\nTask.prototype._addDeps = (type, deps...) ->\n  addDeps this, type, deps\n  this\n\nTask.prototype.addPredecessors = Task.prototype.addDeps = (type, deps...) ->\n  @_pushUndoState => addDeps this, type, deps\n  this\n\nTask.prototype.addF2SPredecessors = Task.prototype.addF2SDeps = (deps...) ->\n  @_pushUndoState => addF2SDeps this, deps...\n  this\n\nTask.prototype.addS2SPredecessors = Task.prototype.addS2SDeps = (deps...) ->\n  @_pushUndoState => addS2SDeps this, deps...\n  this\n\nTask.prototype.addF2FPredecessors = Task.prototype.addF2FDeps = (deps...) ->\n  @_pushUndoState => addF2FDeps this, deps...\n  this\n\nTask.prototype.addS2FPredecessors = Task.prototype.addS2FDeps = (deps...) ->\n  @_pushUndoState => addS2FDeps this, deps...\n  this\n\nTask.prototype.removePredecessors = Task.prototype.removeDeps = (deps...) ->\n  @_pushUndoState => removeDeps this, deps\n  this\n\nTask.prototype.predecessorType = Task.prototype.depcType = (depc) ->\n  depcType this, depc\n\n\n\nexport {\n  depWbses\n  deps\n  f2sDeps\n  s2sDeps\n  f2fDeps\n  s2fDeps\n  isValidDepc\n  addDeps\n  removeDeps\n  beforeUpdateDeps\n  touchDeps\n  tryUpdateDeps\n  depcType\n  types\n  typeMustBeValid\n  parseDeps\n}\n","import {\n  Task\n  mustExist\n  isRoot\n  root\n  splitDeps\n  joinDeps\n  depcTypes\n} from './task.coffee'\nimport {\n  depWbses\n  addDeps\n  removeDeps\n  depcType\n  isValidDepc\n  typeMustBeValid\n  parseDeps\n  beforeUpdateDeps\n  touchDeps\n} from './predecessor.coffee'\nimport {\n  triggerEvent\n} from './event.coffee'\n\n\n\ndepd = (task, type = '', ruleFn, deep = false) ->\n  mustExist task\n  return [] if isRoot task\n  collected = root(task).tasks.filter (t) ->\n    matched = depWbses(t, type).includes task.data.wbs\n    if ruleFn then matched and ruleFn t else matched\n  return collected unless deep\n  index = 0\n  while index < collected.length\n    collected = collected.concat depd(collected[index], type, ruleFn)\n    index += 1\n  luda.unique collected\n\nf2sDepd = (task, ruleFn, deep) -> depd task, 'finishToStart', ruleFn, deep\n\ns2sDepd = (task, ruleFn, deep) -> depd task, 'startToStart', ruleFn, deep\n\nf2fDepd = (task, ruleFn, deep) -> depd task, 'finishToFinish', ruleFn, deep\n\ns2fDepd = (task, ruleFn, deep) -> depd task, 'startToFinish', ruleFn, deep\n\nisValidDepd = (depd, task) -> isValidDepc task, depd\n\naddDepd = (task, type, depds = [], _original = {}) ->\n  # original = Object.assign(\n  #   {target: task, prop: \"successors.#{type}\"}, _original\n  # )\n  # parseDeps(task, depds...).forEach (d) -> addDeps d, type, [task], original\n  original = Object.assign {target: task, prop: \"successors.#{type}\"}, _original\n  depc = task\n  mustExist depc\n  return if isRoot depc\n  resources = []\n  tasks = parseDeps depc, depds...\n  isPrevented = tasks.some (task) ->\n    return unless isValidDepc depc, task\n    oldVals = depWbses task, type\n    newVals = oldVals.concat depc.data.wbs\n    {triggered, schedules} = beforeUpdateDeps(\n      task, type, newVals, true, original\n    )\n    resources.push {task, type, newVals, schedules}\n    not triggered\n  if isPrevented\n    resources = []\n    tasks.forEach (task) ->\n      return unless isValidDepc depc, task\n      resources.push {task, type, newVals: depWbses(task, type), schedules: []}\n  resources.forEach (r) ->\n    {task, type, newVals, schedules} = r\n    touchDeps task, type, newVals, schedules, original\n\naddF2SDepd = (task, depd...) -> addDepd task, 'finishToStart', depd\n\naddS2SDepd = (task, depd...) -> addDepd task, 'startToStart', depd\n\naddF2FDepd = (task, depd...) -> addDepd task, 'finishToFinish', depd\n\naddS2FDepd = (task, depd...) -> addDepd task, 'startToFinish', depd\n\nremoveDepd = (task, depds = [], _original = {}) ->\n  # if depds.length\n  #   depds = parseDeps task, depds...\n  # else\n  #   depds = depd task\n  # depds.forEach (d) ->\n  #   original = Object.assign(\n  #     {target: task, prop: \"successors.#{depdType task, d}\"}, _original\n  #   )\n  #   removeDeps d, [task], original\n  depc = task\n  mustExist depc\n  return if isRoot depc\n  if depds.length\n    tasks = parseDeps depc, depds...\n  else\n    tasks = depd depc\n  resources = []\n  isPrevented = tasks.some (task) ->\n    return unless type = depdType(depc, task).type\n    newVals = depWbses task, type\n    newVals.splice index, 1 if (index = newVals.indexOf depc.data.wbs) >= 0\n    original = Object.assign(\n      {target: depc, prop: \"successors.#{type}\"}, _original\n    )\n    {triggered, schedules} = beforeUpdateDeps(\n      task, type, newVals, true, original\n    )\n    resources.push {task, type, newVals, schedules, original}\n    not triggered\n  if isPrevented\n    resources = []\n    tasks.forEach (task) ->\n      return unless type = depdType(depc, task).type\n      newVals = depWbses task, type\n      original = Object.assign(\n        {target: depc, prop: \"successors.#{type}\"}, _original\n      )\n      resources.push {task, type, newVals, schedules: [], original}\n  resources.forEach (r) ->\n    {task, type, newVals, schedules, original} = r\n    touchDeps task, type, newVals, schedules, original\n\ndepdType = (task, depd) -> depcType depd, task\n\nTask.prototype.successors = Task.prototype.depd = (type, ruleFn, deep) ->\n  depd this, type, ruleFn, deep\n\nTask.prototype.f2sSuccessors = Task.prototype.f2sDepd = (ruleFn, deep) ->\n  f2sDepd this, ruleFn, deep\n\nTask.prototype.s2sSuccessors = Task.prototype.s2sDepd = (ruleFn, deep) ->\n  s2sDepd this, ruleFn, deep\n\nTask.prototype.f2fSuccessors = Task.prototype.f2fDepd = (ruleFn, deep) ->\n  f2fDepd this, ruleFn, deep\n\nTask.prototype.s2fSuccessors = Task.prototype.s2fDepd = (ruleFn, deep) ->\n  s2fDepd this, ruleFn, deep\n\nTask.prototype.isValidSuccessorOf = Task.prototype.isValidDepdOf = (depc) ->\n  isValidDepd this, depc\n\nTask.prototype.addSuccessors = Task.prototype.addDepd = (type, depd...) ->\n  @_pushUndoState => addDepd this, type, depd\n  this\n\nTask.prototype.addF2SSuccessors = Task.prototype.addF2SDepd = (depd...) ->\n  @_pushUndoState => addF2SDepd this, depd...\n  this\n\nTask.prototype.addS2SSuccessors = Task.prototype.addS2SDepd = (depd...) ->\n  @_pushUndoState => addS2SDepd this, depd...\n  this\n\nTask.prototype.addF2FSuccessors = Task.prototype.addF2FDepd = (depd...) ->\n  @_pushUndoState => addF2FDepd this, depd...\n  this\n\nTask.prototype.addS2FSuccessors = Task.prototype.addS2FDepd = (depd...) ->\n  @_pushUndoState => addS2FDepd this, depd...\n  this\n\nTask.prototype.removeSuccessors = Task.prototype.removeDepd = (depd...) ->\n  @_pushUndoState => removeDepd this, depd\n  this\n\nTask.prototype.successorType = Task.prototype.depdType = (depd) ->\n  depdType this, depd\n\n\n\nexport {\n  depd\n  f2sDepd\n  s2sDepd\n  f2fDepd\n  s2fDepd\n  isValidDepd\n  addDepd\n  removeDepd\n  depdType\n}\n","import {Time} from '../../models/time/index.coffee'\nimport {\n  Task\n  mustExist\n  root\n  isRoot\n  joinDeps\n} from './task.coffee'\nimport {\n  isMilestone\n  isTask\n} from './type.coffee'\nimport {\n  children\n  ancestors\n  descendants\n} from './query.coffee'\nimport {\n  s2fDeps\n  s2sDeps\n  f2fDeps\n  f2sDeps\n} from './predecessor.coffee'\nimport {\n  s2fDepd\n  s2sDepd\n  f2fDepd\n  f2sDepd\n} from './successor.coffee'\nimport {desc} from './order.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\n\nearlistTaskEnd = (task, newBegin) ->\n  return new Time newBegin if isMilestone task\n  minDuration = root(task).data.minDurationSeconds\n  new Time(newBegin).nextSecond minDuration\n\ncheckEarlistTaskEnd = (task, newBegin) ->\n  current = new Time task.data.end\n  earlist = earlistTaskEnd task, newBegin\n  ok = not current.earlierThan earlist\n  {ok, current, earlist}\n\ntaskEndByBeginDiff = (task, newBegin) ->\n  diff = new Time(task.data.beginning).to(newBegin).seconds\n  new Time(task.data.end).calcSeconds diff\n\ntaskBeginByEndDiff = (task, newEnd) ->\n  diff = new Time(task.data.end).to(newEnd).seconds\n  new Time(task.data.beginning).calcSeconds diff\n\nhasNoTaskChildren = (task) ->\n  return true if (taskChildren = children task).length is 0\n  not taskChildren.some (chd) -> not isMilestone chd\n\ncreateS2SDepdEntries = (task, newBegin, filter, mode = 'travel') ->\n  entries = []\n  s2sDepd(task, filter).forEach (depd) ->\n    currentBegin = new Time depd.data.beginning\n    return unless currentBegin.earlierThan newBegin\n    entry = {mode, task: depd, newBegin}\n    if mode is 'travel' or isMilestone depd\n      entry.newEnd = taskEndByBeginDiff depd, entry.newBegin\n    else\n      {ok, earlist} = checkEarlistTaskEnd depd, entry.newBegin\n      entry.newEnd = earlist unless ok\n    entries.push entry\n  entries\n\ncreateS2FDepdEntries = (task, newBegin, filter, mode = 'travel') ->\n  entries = []\n  s2fDepd(task, filter).forEach (depd) ->\n    currentEnd = new Time depd.data.end\n    return unless currentEnd.earlierThan newBegin\n    entry = {mode, task: depd, newEnd: newBegin}\n    if mode is 'travel' or isMilestone depd\n      entry.newBegin = taskBeginByEndDiff depd, entry.newEnd\n    entries.push entry\n  entries\n\ncreateF2FDepdEntries = (task, newEnd, filter, mode = 'travel') ->\n  entries = []\n  f2fDepd(task, filter).forEach (depd) ->\n    currentEnd = new Time depd.data.end\n    return unless currentEnd.earlierThan newEnd\n    entry = {mode, task: depd, newEnd}\n    if mode is 'travel' or isMilestone depd\n      entry.newBegin = taskBeginByEndDiff depd, entry.newEnd\n    entries.push entry\n  entries\n\ncreateF2SDepdEntries = (task, newEnd, filter, mode = 'travel') ->\n  entries = []\n  f2sDepd(task, filter).forEach (depd) ->\n    currentBegin = new Time depd.data.beginning\n    return unless currentBegin.earlierThan newEnd\n    entry = {mode, task: depd, newBegin: newEnd}\n    if mode is 'travel' or isMilestone depd\n      entry.newEnd = taskEndByBeginDiff depd, entry.newBegin\n    else\n      {ok, earlist} = checkEarlistTaskEnd depd, entry.newBegin\n      entry.newEnd = earlist unless ok\n    entries.push entry\n  entries\n\ncollectTreeLeafForwardBeginResources = (task, newBegin) ->\n  [depdEntries, leafResources] = [[], []]\n  treeDownNodes = descendants task\n  belongsToTask = (t) -> treeDownNodes.includes t\n  notBelongsToTask = (t) -> not belongsToTask t\n  leafsWithEarlierBegin = treeDownNodes.filter (n) ->\n    new Time(n.data.beginning).earlierThan(newBegin) and hasNoTaskChildren(n)\n  leafsWithEarlierBegin.concat(task).forEach (leaf) ->\n    leafResource = {task: leaf, beginning: newBegin}\n    {ok, earlist} = checkEarlistTaskEnd leaf, newBegin\n    leafResource.end = earlist unless ok\n    leafResource.end = newBegin if isMilestone leaf\n    leafResources.push leafResource\n    depdEntries = depdEntries.concat(\n      createS2SDepdEntries(leaf, newBegin, belongsToTask, 'flex'),\n      createS2FDepdEntries(leaf, newBegin, belongsToTask, 'flex'),\n      createS2SDepdEntries(leaf, limitionWithCompensatory(\n        leaf, 'startToStart', newBegin\n      ), notBelongsToTask),\n      createS2FDepdEntries(leaf, limitionWithCompensatory(\n        leaf, 'startToFinish', newBegin\n      ), notBelongsToTask)\n    )\n    depdEntries = depdEntries.concat(\n      createF2FDepdEntries(leaf, leafResource.end, belongsToTask, 'flex'),\n      createF2SDepdEntries(leaf, leafResource.end, belongsToTask, 'flex'),\n      createF2FDepdEntries(leaf, limitionWithCompensatory(\n        leaf, 'finishToFinish', leafResource.end\n      ), notBelongsToTask),\n      createF2SDepdEntries(leaf, limitionWithCompensatory(\n        leaf, 'finishToStart', leafResource.end\n      ), notBelongsToTask)\n    ) if leafResource.end\n  {depdEntries, leafs: leafsWithEarlierBegin.concat(task), leafResources}\n\ncollectTreeLeafForwardEndResources = (task, newEnd) ->\n  [depdEntries, leafResources] = [[], []]\n  treeDownNodes = descendants task\n  belongsToTask = (t) -> treeDownNodes.includes t\n  notBelongsToTask = (t) -> not belongsToTask t\n  leafsWithSameEnd = treeDownNodes.filter (n) ->\n    new Time(n.data.end).equals(task.data.end) and hasNoTaskChildren(n)\n  leafsWithSameEnd.concat(task).forEach (leaf) ->\n    leafResource = {task: leaf, end: newEnd}\n    leafResource.beginning = newEnd if isMilestone leaf\n    leafResources.push leafResource\n    depdEntries = depdEntries.concat(\n      createS2SDepdEntries(leaf, leafResource.beginning, belongsToTask, 'flex'),\n      createS2FDepdEntries(leaf, leafResource.beginning, belongsToTask, 'flex'),\n      createS2SDepdEntries(leaf, limitionWithCompensatory(\n        leaf, 'startToStart', leafResource.beginning\n      ), notBelongsToTask),\n      createS2FDepdEntries(leaf, limitionWithCompensatory(\n        leaf, 'startToFinish', leafResource.beginning\n      ), notBelongsToTask)\n    ) if leafResource.beginning\n    depdEntries = depdEntries.concat(\n      createF2FDepdEntries(leaf, newEnd, belongsToTask, 'flex'),\n      createF2SDepdEntries(leaf, newEnd, belongsToTask, 'flex'),\n      createF2FDepdEntries(leaf, limitionWithCompensatory(\n        leaf, 'finishToFinish', newEnd\n      ), notBelongsToTask),\n      createF2SDepdEntries(leaf, limitionWithCompensatory(\n        leaf, 'finishToStart', newEnd\n      ), notBelongsToTask)\n    )\n  {depdEntries, leafs: leafsWithSameEnd.concat(task), leafResources}\n\nlimitionWithCompensatory = (depc, type, time) ->\n  compensatorySecs = root(depc).data[\"#{type}CompensatorySeconds\"] or 0\n  if type in ['finishToStart', 'finishToFinish']\n    limitionWithoutCompensatory = time or depc.data.end\n  else if type in ['startToStart', 'startToFinish']\n    limitionWithoutCompensatory = time or depc.data.beginning\n  else\n    throw new Error \"Unsupported dependency type.\"\n  return limitionWithoutCompensatory unless compensatorySecs\n  new Time(limitionWithoutCompensatory).calcSeconds(compensatorySecs)\n\ncheckEarlistTreeBegin = (task, newBegin, mode = 'flex') ->\n  [earlist, ok] = [null, true]\n  [f2sDepcEnds, s2sDepcBegins, f2fDepcEnds, s2fDepcBegins] = [[], [], [], []]\n  affectedTreeDownNodes = descendants task, (n) ->\n    new Time(n.data.beginning).equals task.data.beginning\n  affectedTreeUpNodes = ancestors(task).filter (n) ->\n    new Time(n.data.beginning).laterThan newBegin\n  notBelongsToTask = (t) -> not affectedTreeDownNodes.includes t\n  affectedTreeDownNodes.concat(task, affectedTreeUpNodes).forEach (n) ->\n    for d in f2sDeps n, notBelongsToTask\n      f2sDepcEnds.push limitionWithCompensatory(d, 'finishToStart')\n    for d in s2sDeps n, notBelongsToTask\n      s2sDepcBegins.push limitionWithCompensatory(d, 'startToStart')\n    return unless isMilestone n\n    for d in f2fDeps n, notBelongsToTask\n      f2fDepcEnds.push limitionWithCompensatory(d, 'finishToFinish')\n    for d in s2fDeps n, notBelongsToTask\n      s2fDepcBegins.push limitionWithCompensatory(d, 'startToFinish')\n  limitions = [].concat f2sDepcEnds, s2sDepcBegins, f2fDepcEnds, s2fDepcBegins\n  return {earlist, ok} unless limitions.length\n  earlist = Time.latest limitions...\n  ok = not earlist.laterThan newBegin\n  {earlist, ok}\n\ncheckEarlistTreeEnd = (task, newEnd, mode = 'flex') ->\n  [earlist, ok] = [null, true]\n  [f2fDepcEnds, s2fDepcBegins, earlistTaskEnds] = [[], [], []]\n  [f2sDepcEnds, s2sDepcBegins] = [[], []]\n  affectedTreeDownNodes = descendants task, (n) ->\n    new Time(n.data.end).laterThan newEnd\n  affectedTreeUpNodes = ancestors(task).filter (n) ->\n    childrenWithSameOrLaterEnd = children n, (c) ->\n      not new Time(c.data.end).earlierThan task.data.end\n    childrenWithSameOrLaterEnd.length is 1\n  notBelongsToTask = (t) -> not affectedTreeDownNodes.includes t\n  affectedTreeDownNodes.concat(task, affectedTreeUpNodes).forEach (n) ->\n    if mode is 'flex' and isTask n\n      earlistTaskEnds.push earlistTaskEnd(n, n.data.beginning)\n    for d in s2fDeps n, notBelongsToTask\n      s2fDepcBegins.push limitionWithCompensatory(d, 'startToFinish')\n    for d in f2fDeps n, notBelongsToTask\n      f2fDepcEnds.push limitionWithCompensatory(d, 'finishToFinish')\n    return unless isMilestone n\n    for d in s2sDeps n, notBelongsToTask\n      s2sDepcBegins.push limitionWithCompensatory(d, 'startToStart')\n    for d in f2sDeps n, notBelongsToTask\n      f2sDepcEnds.push limitionWithCompensatory(d, 'finishToStart')\n  limitions = [].concat(\n    f2fDepcEnds, s2fDepcBegins, earlistTaskEnds, f2sDepcEnds, s2sDepcBegins\n  )\n  return {earlist, ok} unless limitions.length\n  earlist = Time.latest limitions...\n  ok = not earlist.laterThan newEnd\n  {earlist, ok}\n\ncollectTreeLeafBackwardBeginResources = (task, newBegin) ->\n  leafResources = []\n  treeDownNodes = descendants task\n  leafsWithSameBegin = treeDownNodes.filter (n) ->\n    new Time(n.data.beginning).equals(task.data.beginning) \\\n    and hasNoTaskChildren(n)\n  leafsWithSameBegin.concat(task).forEach (leaf) ->\n    leafResource = {task: leaf, beginning: newBegin}\n    leafResource.end = newBegin if isMilestone leaf\n    leafResources.push leafResource\n  {leafs: leafsWithSameBegin.concat(task), leafResources}\n\ncollectTreeLeafBackwardEndResources = (task, newEnd) ->\n  leafResources = []\n  treeDownNodes = descendants task\n  leafsWithLaterEnd = treeDownNodes.filter (n) ->\n    new Time(n.data.end).laterThan(newEnd) and hasNoTaskChildren(n)\n  leafsWithLaterEnd.concat(task).forEach (leaf) ->\n    leafResource = {task: leaf, end: newEnd}\n    leafResource.beginning = newEnd if isMilestone leaf\n    leafResources.push leafResource\n  {leafs: leafsWithLaterEnd.concat(task), leafResources}\n\ncollectTreeDownTravelResources = (task, newBegin, newEnd) ->\n  [depdEntries, resources] = [[], []]\n  beginDiff = new Time(task.data.beginning).to(newBegin).seconds if newBegin\n  endDiff = new Time(task.data.end).to(newEnd).seconds if newEnd\n  diff = Math.max beginDiff, endDiff if beginDiff? and endDiff?\n  diff = beginDiff or endDiff unless diff?\n  treeDownNodes = descendants task\n  notBelongsToTask = (t) -> not treeDownNodes.includes t\n  treeDownNodes.concat(task).forEach (instance) ->\n    instanceOldBegin = new Time instance.data.beginning\n    instanceOldEnd = new Time instance.data.end\n    instanceNewBegin = instanceOldBegin.calcSeconds diff\n    instanceNewEnd = instanceOldEnd.calcSeconds diff\n    resources.push {\n      task: instance, beginning: instanceNewBegin, end: instanceNewEnd\n    }\n    depdEntries = depdEntries.concat(\n      createS2SDepdEntries(instance, limitionWithCompensatory(\n        instance, 'startToStart', instanceNewBegin\n      ), notBelongsToTask),\n      createS2FDepdEntries(instance, limitionWithCompensatory(\n        instance, 'startToFinish', instanceNewBegin\n      ), notBelongsToTask)\n    ) if instanceNewBegin.laterThan instanceOldBegin\n    depdEntries = depdEntries.concat(\n      createF2FDepdEntries(instance, limitionWithCompensatory(\n        instance, 'finishToFinish', instanceNewEnd\n      ), notBelongsToTask),\n      createF2SDepdEntries(instance, limitionWithCompensatory(\n        instance, 'finishToStart', instanceNewEnd\n      ), notBelongsToTask)\n    ) if instanceNewEnd.laterThan instanceOldEnd\n  {depdEntries, resources}\n\naddUniqueResource = (resources = [], newResources...) ->\n  newResources.forEach (resource) ->\n    [task, newB, newE] = [resource.task, resource.beginning, resource.end]\n    newDeps = resource.dependencies\n    if existed = resources.find (r) -> r.task is task\n      [oldB, oldE] = [existed.beginning, existed.end]\n      if newB\n        newB = new Time newB\n        existed.beginning = newB.toString() if not oldB or newB.laterThan oldB\n      if newE\n        newE = new Time newE\n        existed.end = newE.toString() if not oldE or newE.laterThan oldE\n      if newDeps\n        existed.dependencies = newDeps\n    else\n      newResource = {task}\n      newResource.beginning = new Time(newB).toString() if newB\n      newResource.end = new Time(newE).toString() if newE\n      newResource.dependencies = newDeps if newDeps\n      resources.push newResource\n\npropagateResources = (resources = [], targets = [], childFilter, mode) ->\n  depdEntries = []\n  targets.forEach (task) ->\n    desc(ancestors(task)...).some (ancestor) ->\n      return true unless (childTasks = children ancestor, childFilter).length\n      [childrenBegins, childrenEnds] = [[], []]\n      childTasks.forEach (child) ->\n        childResource = resources.find (p) -> p.task is child\n        childrenBegins.push childResource?.beginning or child.data.beginning\n        childrenEnds.push childResource?.end or child.data.end\n      correctBegin = Time.earlist childrenBegins...\n      correctEnd = Time.latest childrenEnds...\n      beginIsCorrect = correctBegin.equals ancestor.data.beginning\n      endIsCorrect = correctEnd.equals ancestor.data.end\n      if hasNoTaskChildren ancestor\n        beginIsCorrect ||= correctBegin.laterThan ancestor.data.beginning\n        endIsCorrect ||= correctEnd.earlierThan ancestor.data.end\n      return true if beginIsCorrect and endIsCorrect\n      ancestorResource = {task: ancestor}\n      ancestorResource.beginning = correctBegin unless beginIsCorrect\n      ancestorResource.end = correctEnd unless endIsCorrect\n      if mode is 'destroy' and not endIsCorrect\n        dependencies = JSON.parse JSON.stringify(ancestor.data.dependencies)\n        newS2FDeps = joinDeps s2fDeps(\n          ancestor, (d) -> not correctEnd.earlierThan d.data.beginning\n        ).map((d) -> d.data.wbs)\n        depsChanged = newS2FDeps isnt dependencies.startToFinish\n        dependencies.startToFinish = newS2FDeps\n        newF2FDeps = joinDeps f2fDeps(\n          ancestor, (d) -> not correctEnd.earlierThan d.data.end\n        ).map((d) -> d.data.wbs)\n        depsChanged ||= newF2FDeps isnt dependencies.finishToFinish\n        dependencies.finishToFinish = newF2FDeps\n        ancestorResource.dependencies = dependencies if depsChanged\n      addUniqueResource resources, ancestorResource\n      depdEntries = depdEntries.concat(\n        createS2SDepdEntries(ancestor, limitionWithCompensatory(\n          ancestor, 'startToStart', correctBegin\n        )),\n        createS2FDepdEntries(ancestor, limitionWithCompensatory(\n          ancestor, 'startToFinish', correctBegin\n        ))\n      ) if correctBegin.laterThan ancestor.data.beginning\n      depdEntries = depdEntries.concat(\n        createF2FDepdEntries(ancestor, limitionWithCompensatory(\n          ancestor, 'finishToFinish', correctEnd\n        )),\n        createF2SDepdEntries(ancestor, limitionWithCompensatory(\n          ancestor, 'finishToStart', correctEnd\n        ))\n      ) if correctEnd.laterThan ancestor.data.end\n      false\n  {depdEntries}\n\ndescResources = (resources = []) ->\n  return resources unless resources.length > 1\n  sortedResources = []\n  descTasks = desc resources.map((resource) -> resource.task)...\n  descTasks.forEach (task) ->\n    resource = resources.find (r) -> r.task is task\n    sortedResources.push resource\n  sortedResources\n\ncollectResources = (entryTask, newVals = {}, mode = 'flex') ->\n  uniqueResources = []\n  entries = [Object.assign({mode, task: entryTask}, newVals)]\n  {task, newBegin, newEnd} = entries[0]\n  if newBegin and mode isnt 'destroy'\n    {ok, earlist} = checkEarlistTreeBegin task, newBegin, mode\n    entries[0].newBegin = earlist unless ok\n  if newEnd and mode isnt 'destroy'\n    {ok, earlist} = checkEarlistTreeEnd task, newEnd, mode\n    entries[0].newEnd = earlist unless ok\n  while entry = entries.shift()\n    {mode, task, newBegin, newEnd} = entry\n    if mode is 'destroy'\n      fit = (child) -> child isnt task\n      {depdEntries} = propagateResources uniqueResources, [task], fit, 'destroy'\n      entries = entries.concat depdEntries if depdEntries?.length\n    else if mode is 'travel'\n      {\n        resources, depdEntries\n      } = collectTreeDownTravelResources task, newBegin, newEnd\n      addUniqueResource uniqueResources, resources...\n      entries = entries.concat depdEntries if depdEntries?.length\n      {depdEntries} = propagateResources uniqueResources, [task], null\n      entries = entries.concat depdEntries if depdEntries?.length\n    else\n      if newBegin\n        if new Time(newBegin).earlierThan task.data.beginning\n          collected = collectTreeLeafBackwardBeginResources task, newBegin\n        else\n          collected = collectTreeLeafForwardBeginResources task, newBegin\n        {leafs, leafResources, depdEntries} = collected\n        addUniqueResource uniqueResources, leafResources...\n        entries = entries.concat depdEntries if depdEntries?.length\n        {depdEntries} = propagateResources uniqueResources, leafs, null\n        entries = entries.concat depdEntries if depdEntries?.length\n      if newEnd\n        if new Time(newEnd).earlierThan task.data.end\n          collected = collectTreeLeafBackwardEndResources task, newEnd\n        else\n          collected = collectTreeLeafForwardEndResources task, newEnd\n        {leafs, leafResources, depdEntries} = collected\n        addUniqueResource uniqueResources, leafResources...\n        entries = entries.concat depdEntries if depdEntries?.length\n        {depdEntries} = propagateResources uniqueResources, leafs, null\n        entries = entries.concat depdEntries if depdEntries?.length\n  descResources uniqueResources\n\nmergeOriginal = (task, newVals = {}, _original = {}) ->\n  merged = []\n  merged.push 'beginning' if newVals and 'beginning' of newVals\n  merged.push 'end' if newVals and 'end' of newVals\n  prop = merged.join ','\n  Object.assign {target: task, prop}, _original\n\nbeforeUpdateSchedule = (task, newVals = {}, mode, _returnRes, _original = {}) ->\n  original = mergeOriginal task, newVals, _original\n  resources = collectResources(\n    task, {newBegin: newVals.beginning, newEnd: newVals.end}, mode\n  )\n  isPrevented = resources.some (resource) ->\n    {task, beginning, end, dependencies} = resource\n    detail = {}\n    if beginning and not new Time(beginning).equals task.data.beginning\n      detail.beginning = {newVal: beginning, oldVal: task.data.beginning}\n    if end and not new Time(end).equals task.data.end\n      detail.end = {newVal: end, oldVal: task.data.end}\n    if dependencies\n      detail.dependencies = detail.predecessors = dependencies\n    return unless Object.keys(detail).length\n    triggerEvent(task, 'before-update', detail, original) is false\n  return not isPrevented unless _returnRes\n  {resources, triggered: not isPrevented}\n\ntouchSchedule = (task, newVals = {}, mode, _resources, _original = {}) ->\n  original = mergeOriginal task, newVals, _original\n  resources = _resources or collectResources(\n    task, {newBegin: newVals.beginning, newEnd: newVals.end}, mode\n  )\n  resources.forEach (resource) ->\n    {task, beginning, end, dependencies} = resource\n    [touchDetail, updateDetail] = [{}, null]\n    if newVal = beginning\n      oldVal = task.data.beginning\n      touchDetail.beginning = {newVal, oldVal}\n      unless new Time(newVal).equals oldVal\n        task.data.beginning = newVal\n        updateDetail ||= {}\n        updateDetail.beginning = {newVal, oldVal}\n    if newVal = end\n      oldVal = task.data.end\n      touchDetail.end = {newVal, oldVal}\n      unless new Time(newVal).equals oldVal\n        task.data.end = newVal\n        updateDetail ||= {}\n        updateDetail.end = {newVal, oldVal}\n    if mode is 'destroy' and newVal = dependencies\n      oldVal = task.data.dependencies\n      touchDetail.dependencies = touchDetail.predecessors = {newVal, oldVal}\n      task.data.dependencies = newVal\n      updateDetail ||= newVal\n      updateDetail.dependencies = updateDetail.predecessors = {newVal, oldVal}\n    triggerEvent task, 'after-touch', touchDetail, original\n    return unless updateDetail\n    triggerEvent task, 'after-update', updateDetail, original\n\ntryUpdateSchedule = (task, newVals = {}, mode = 'flex') ->\n  {triggered, resources} = beforeUpdateSchedule task, newVals, mode, true\n  unless triggered\n    resources = resources.map (r) ->\n      resource = {task: r.task}\n      resource.beginning = r.task.data.beginning if r.beginning\n      resource.end = r.task.data.end if r.end\n      resource.dependencies = r.task.data.dependencies if dependencies\n  touchSchedule task, newVals, mode, resources\n  triggered\n\nTask.prototype._beforeUpdateSchedule = (newVals, mode, _returnRes, _original) ->\n  beforeUpdateSchedule this, newVals, mode, _returnRes, _original\n\nTask.prototype._touchSchedule = (newVals, mode, _resources, _original) ->\n  touchSchedule this, newVals, mode, _resources, _original\n\nTask.prototype._tryUpdateSchedule = (newVals, mode) ->\n  tryUpdateSchedule this, newVals, mode\n\n\n\nexport {\n  beforeUpdateSchedule\n  touchSchedule\n  tryUpdateSchedule\n  tryUpdateSchedule as default\n}\n","import {Time} from '../../models/time/index.coffee'\nimport {\n  Task\n  mustExist\n  isRoot\n} from './task.coffee'\nimport {children} from './query.coffee'\nimport {tryUpdateSchedule} from './schedule.coffee'\n\n\n\nbeginning = (task, val) ->\n  mustExist task\n  unless val\n    return new Time task.data.beginning unless isRoot task\n    beginnings = children(task).map (c) -> c.data.beginning\n    return Time.earlist beginnings...\n  return if isRoot task\n  tryUpdateSchedule task, {beginning: new Time val}, 'flex'\n\nTask.prototype.beginning = (val) ->\n  return beginning this, val unless val\n  @_pushUndoState => beginning this, val\n  this\n\n\n\nexport {\n  beginning\n  beginning as default\n}\n","import {\n  Task\n  mustExist\n  isRoot\n  rootTaskActions\n  invalidMilestoneActions\n} from './task.coffee'\nimport {triggerEvent} from './event.coffee'\nimport {isMilestone} from './type.coffee'\n\n\n\ncan = (task, action, auth) ->\n  mustExist task\n  operations = if isRoot task then task.data.actions else task.operations\n  isActionEnabled = operations.includes action\n  return isActionEnabled unless auth?\n  if auth\n    return if isActionEnabled\n    return if isMilestone(task) and invalidMilestoneActions.includes action\n    oldVal = operations.slice()\n    operations.push action\n    newVal = operations.slice()\n  else\n    return unless isActionEnabled\n    oldVal = operations.slice()\n    operations.splice operations.indexOf(action), 1\n    newVal = operations.slice()\n  return task unless oldVal and newVal\n  detail = {actions: {newVal, oldVal}}\n  # It's not necessary to implement the before-update event,\n  # because a tasks's actions cannot controlled by users.\n  triggerEvent task, 'after-touch', detail\n  triggerEvent task, 'after-update', detail\n  task\n\nactions = (task, acts...) ->\n  mustExist task\n  operations = if isRoot task then task.data.actions else task.operations\n  return operations.slice() unless acts.length\n  for act in operations.concat(acts)\n    can task, act, acts.includes(act)\n  task\n\ncanBePicked = (task, auth) -> can task, 'pick', auth\n\ncanBeFolded = (task, auth) -> can task, 'fold', auth\n\ncanCreateTask = (task, auth) -> can task, 'createTask', auth\n\ncanCreateMilestone = (task, auth) -> can task, 'createMilestone', auth\n\ncanBeUpdated = (task, auth) -> can task, 'update', auth\n\ncanBeDestroied = (task, auth) -> can task, 'destroy', auth\n\ncanDestroyDescendants = (task, auth) -> can task, 'destroyDescendants', auth\n\ncanSwitchState = (task, auth) -> can task, 'switchState', auth\n\nTask.prototype.can = (action, auth) ->\n  result = can this, action, auth\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.actions = (acts...) ->\n  result = actions this, acts...\n  return result if result instanceof Array\n  this\n\nTask.prototype.canBePicked = (auth) ->\n  result = canBePicked this, auth\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.canBeFolded = (auth) ->\n  result = canBeFolded this, auth\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.canCreateTask = (auth) ->\n  result = canCreateTask this, auth\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.canCreateMilestone = (auth) ->\n  result = canCreateMilestone this, auth\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.canBeUpdated = (auth) ->\n  result = canBeUpdated this, auth\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.canBeDestroied = (auth) ->\n  result = canBeDestroied this, auth\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.canDestroyDescendants = (auth) ->\n  result = canDestroyDescendants this, auth\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.canSwitchState = (auth) ->\n  result = canSwitchState this, auth\n  return result if typeof result is 'boolean'\n  this\n\n\nexport {\n  can\n  can as default\n  actions\n  canBePicked\n  canBeFolded\n  canBeUpdated\n  canBeDestroied\n  canCreateTask\n  canCreateMilestone\n}\n","import {Task, mustExist, nextWbs, firstChildWbs, root} from './task.coffee'\nimport {lastChild} from './query.coffee'\nimport {triggerEvent} from './event.coffee'\nimport {compareWbs} from './order.coffee'\n\n\n\ncreateRoot = (settings = {}) ->\n  delete settings.wbs\n  new Task settings\n\ncreateTasks = (existed, datas...) ->\n  mustExist existed\n  [withWbs, withoutWbs, created] = [[], [], []]\n  datas.forEach (data) ->\n    data.rootId = existed.rootId\n    return withWbs.push data if 'wbs' of data\n    withoutWbs.push data\n  withWbs.sort((a, b) -> compareWbs(a.wbs, b.wbs)).forEach (data) ->\n    created.push(new Task data)\n  withoutWbs.forEach (data) ->\n    if lastC = lastChild existed\n      data.wbs = nextWbs lastC.data.wbs\n    else\n      data.wbs = firstChildWbs existed.data.wbs\n    created.push(new Task data)\n  created\n\ncreateHistoricalTask = (datas...) ->\n  tasks = (new Task data, {source: 'history'} for data in datas)\n  setTimeout -> tasks.forEach (task) -> triggerEvent task, 'after-create'\n\ncreate = (settings = {}, datas...) ->\n  delete settings.wbs\n  rootTask = createRoot settings\n  createTasks rootTask, datas...\n  rootTask\n\nTask.create = create\n\nTask.prototype.create = (datas...) ->\n  result = []\n  @_pushUndoState => result = createTasks this, datas...\n  result\n\n\n\nexport {\n  createRoot\n  createTasks\n  create\n  create as default\n  createHistoricalTask\n}\n","import {Task, mustExist, parent} from './task.coffee'\nimport {ancestors, descendants, children} from './query.coffee'\nimport {asc, desc} from './order.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\n\nfold = (task, isFolded = true) ->\n  mustExist task\n  unless isFolded = Boolean isFolded\n    foldedAncestors = ancestors(task, (t) -> t.isFolded)\n    return fold asc(foldedAncestors...)[0], isFolded if foldedAncestors.length\n  asc(descendants(task).concat(task)...).forEach (t) ->\n    [oldFolded, oldHidden] = [Boolean(t.isFolded), Boolean(t.isHidden)]\n    t.isFolded = if children(t).length then isFolded else false\n    if t is task\n      t.isHidden = if isFolded then Boolean(t.isHidden) else false\n    else\n      t.isHidden = Boolean parent(t, true).isFolded\n    isFoldedDetail = {isFolded: {newVal: t.isFolded, oldVal: oldFolded}}\n    isHiddenDetail = {isHidden: {newVal: t.isHidden, oldVal: oldHidden}}\n    touchDetail = Object.assign {}, isFoldedDetail, isHiddenDetail\n    # It's not necessary to implement the before-update event,\n    # because the isFolded property has noting to do\n    # with a task's business data.\n    triggerEvent t, 'after-touch', touchDetail\n    unless oldFolded is t.isFolded\n      triggerEvent t, 'after-update', isFoldedDetail\n    unless oldHidden is t.isHidden\n      triggerEvent t, 'after-update', isHiddenDetail\n\nTask.prototype.fold = (isFolded) ->\n  fold this, isFolded\n  this\n\n\n\nexport {\n  fold\n  fold as default\n}\n","import {\n  Task\n  splitWbs\n  joinWbs\n  root\n  splitDeps\n  joinDeps\n  mustBeRoot\n  mustExist\n  isRoot\n  isTask\n  parent\n  find\n} from './task.coffee'\nimport {\n  nextSiblings\n  descendants\n  ancestors\n  children\n} from './query.coffee'\nimport {removeDepd} from './successor.coffee'\nimport {triggerEvent, removeEvent} from './event.coffee'\nimport {depWbses, beforeUpdateDeps, touchDeps} from './predecessor.coffee'\nimport {beforeUpdateSchedule, touchSchedule} from './schedule.coffee'\nimport {desc} from './order.coffee'\nimport {fold} from './fold.coffee'\n\n\n\nriseNextSiblings = (task) ->\n  taskWbsArr = splitWbs task.data.wbs\n  [oldWbses, newWbses] = [[], []]\n  nextSiblings(task).forEach (c) ->\n    descendants(c).concat(c).forEach (t) ->\n      oldWbses.push oldVal = t.data.wbs\n      wbsArr = splitWbs t.data.wbs\n      wbsArr[taskWbsArr.length - 1] -= 1\n      newVal = t.data.wbs = joinWbs wbsArr\n      detail = {wbs: {oldVal, newVal}}\n      triggerEvent t, 'after-touch', detail\n      triggerEvent t, 'after-update', detail\n      newWbses.push t.data.wbs\n  root(task).tasks.forEach (t) ->\n    for type, val of t.data.dependencies\n      [shouldUpdate, wbses] = [false, splitDeps val]\n      wbses.forEach (wbs, index) ->\n        return unless oldWbses.includes wbs\n        wbses[index] = newWbses[oldWbses.indexOf wbs]\n        shouldUpdate = true\n      touchDeps t, type, wbses, [] if shouldUpdate\n\ndestroyRoot = (rootTask) ->\n  mustBeRoot rootTask\n  delete Task.roots[rootTask.uid]\n  rootTask[k] = null for k, v of rootTask\n  rootTask\n\ndestroy = (existed, tasks...) ->\n  mustExist existed\n  unless tasks.length\n    return destroyRoot existed if isRoot existed\n    tasks = [existed]\n  [destroied, all] = [[], root(existed).tasks]\n  desc(tasks...).forEach (task) ->\n    treeDownNodes = descendants(task).concat(task).filter (t) -> all.includes t\n    return unless treeDownNodes.length\n    treeDownNodes = desc treeDownNodes...\n    # Checking if any before-destroy event of\n    # current task or its descendants is prevented\n    isPrevented = treeDownNodes.some (node) ->\n      triggerEvent(node, 'before-destroy') is false\n    return if isPrevented\n    # Checking if any ancestors of current task need be rescheduled\n    # and if any of the operations is prevented\n    {triggered, resources} = beforeUpdateSchedule task, {}, 'destroy', true\n    [isPrevented, scheduleResources] = [not triggered, resources]\n    return if isPrevented\n    # Checking if any existed task's dependencies property need be updated\n    # and if any of the operations is prevented.\n    depsResources = []\n    treeDownWbses = treeDownNodes.map (node) -> node.data.wbs\n    isPrevented = all.some (node) ->\n      return false if treeDownNodes.includes node\n      Object.keys(node.data.dependencies).some (type) ->\n        depsWbsArr = depWbses node, type\n        filtered = depsWbsArr.filter (w) -> not treeDownWbses.includes w\n        return false if luda.arrayEqual depsWbsArr, filtered\n        triggered = beforeUpdateDeps node, type, filtered\n        # Collecting dependencies resources need be updated\n        depsResources.push {task: node, type, newVals: filtered}\n        not triggered\n    return if isPrevented\n    # Executing destroy actions.\n    touchSchedule task, null, 'destroy', scheduleResources\n    depsResources.forEach (r) -> touchDeps r.task, r.type, r.newVals, []\n    riseNextSiblings task\n    taskAncestors = desc ancestors(task)...\n    treeDownNodes.forEach (node) ->\n      triggerEvent node, 'after-destroy'\n      removeEvent node\n      destroied.push node\n      all.splice all.indexOf(node), 1\n    taskAncestors.forEach (a) ->\n      fold a, false if a.isFolded and children(a).length is 0\n  destroied\n\ndestroyHistoricalTask = (datas...) ->\n  datas.forEach (data) ->\n    rootTask = root data\n    task = find rootTask, data.uid\n    index = rootTask.tasks.indexOf task\n    return unless index >= 0\n    triggerEvent task, 'after-destroy'\n    removeEvent task\n    rootTask.tasks.splice index, 1\n\nTask.prototype.destroy = (tasks...) ->\n  result = []\n  @_pushUndoState => result = destroy this, tasks...\n  result\n\n\n\nexport {\n  destroy\n  destroy as default\n  destroyHistoricalTask\n}\n","import {Time} from '../../models/time/index.coffee'\nimport {\n  Task\n  mustExist\n  isRoot\n} from './task.coffee'\nimport {children} from './query.coffee'\nimport {tryUpdateSchedule} from './schedule.coffee'\n\n\n\nend = (task, val) ->\n  mustExist task\n  unless val\n    return new Time task.data.end unless isRoot task\n    ends = children(task).map (c) -> c.data.end\n    return Time.latest ends...\n  return if isRoot task\n  tryUpdateSchedule task, {end: new Time val}, 'flex'\n\nTask.prototype.end = (val) ->\n  return end this, val unless val\n  @_pushUndoState => end this, val\n  this\n\n\n\nexport {\n  end\n  end as default\n}\n","import {\n  Task\n  mustExist\n  root\n  isRoot\n} from './task.coffee'\nimport {Time} from '../time/index.coffee'\nimport {beginning} from './beginning.coffee'\nimport {end} from './end.coffee'\n\n\n\ncalcSecs = (taskBegin, taskEnd, exclusions = []) ->\n  durationObj = taskEnd.since taskBegin\n  durationSecs = durationObj.seconds\n  return durationSecs unless exclusions and exclusions.length\n  exclusions.some (t) ->\n    [tEnd, tBegin] = [new Time(t.end), new Time(t.beginning)]\n    return if tBegin.laterThan(taskEnd) or tEnd.earlierThan(taskBegin)\n    tEnd = taskEnd if tEnd.laterThan taskEnd\n    tBegin = taskBegin if tBegin.earlierThan taskBegin\n    durationSecs -= tEnd.since(tBegin).seconds\n    durationSecs = 0 if durationSecs < 0\n    durationSecs is 0\n  durationSecs\n\nmergeExclusions = (exclusions = []) ->\n  [exclusions, mergedExclusions] = [exclusions.slice(), []]\n  while exclusions.length\n    range = exclusions.shift()\n    [rEnd, rBegin] = [new Time(range.end), new Time(range.beginning)]\n    exclusions = exclusions.filter (t) ->\n      [tEnd, tBegin] = [new Time(t.end), new Time(t.beginning)]\n      return true if (tBegin.laterThan rEnd) or (tEnd.earlierThan rBegin)\n      [rEnd, rBegin] = [Time.latest(tEnd, rEnd), Time.earlist(tBegin, rBegin)]\n      false\n    mergedExclusions.push {beginning: rBegin, end: rEnd}\n  mergedExclusions\n\nextractInclusions = (exclusions = [], inclusions = []) ->\n  while inclusions.length\n    [range, extracted] = [inclusions.shift(), []]\n    [rE, rB] = [new Time(range.end), new Time(range.beginning)]\n    exclusions = exclusions.filter (t) ->\n      [tE, tB] = [new Time(t.end), new Time(t.beginning)]\n      return true if (not tB.earlierThan rE) or (not tE.laterThan rB)\n      return false if (not tB.earlierThan rB) and (not tE.laterThan rE)\n      return t.end = rB if (tB.earlierThan rB) and (not tE.laterThan rE)\n      return t.beginning = rE if (tE.laterThan rE) and (not tB.earlierThan rB)\n      extracted.push beginning: tB, end: rB\n      extracted.push beginning: rE, end: tE\n      false\n    exclusions = exclusions.concat extracted\n  exclusions\n\ndevideSecs = (seconds) ->\n  minutes = seconds / 60\n  hours = minutes / 60\n  days = hours / 24\n  weeks = days / 7\n  months = days / 30\n  years = days / 365\n  {years, months, weeks, days, hours, minutes, seconds}\n\nduration = (task, secs, exceptExclusions = true) ->\n  mustExist task\n  [taskEnd, taskBegin] = [end(task), beginning(task)]\n  exclusions = root(task).data.exclusions.slice() if exceptExclusions\n  if exceptExclusions and root(task).data.excludeWeekends\n    weekends = Time.devideByDay(taskBegin, taskEnd)\n    .filter (d) -> d.beginning.isWeekend()\n    exclusions = exclusions.concat weekends\n  exclusions = extractInclusions exclusions, root(task).data.inclusions.slice()\n  exclusions = mergeExclusions exclusions\n  return devideSecs calcSecs(taskBegin, taskEnd, exclusions) unless secs\n  return task if isRoot task\n  unless Number.isInteger secs and secs > 0\n    throw new Error \"secs must be a positive integer\"\n  taskEnd = taskBegin.nextSecond secs\n  effectedSecs = calcSecs taskBegin, taskEnd, exclusions\n  while secs isnt effectedSecs\n    taskEnd = taskEnd.nextSecond secs - effectedSecs\n    effectedSecs = calcSecs taskBegin, taskEnd, exclusions\n  end task, taskEnd\n  devideSecs secs\n\nTask.prototype.duration = (secs, exceptExclusions = true) ->\n  return duration this, secs, exceptExclusions unless secs?\n  @_pushUndoState => duration this, secs, exceptExclusions\n  this\n\n\n\nexport {\n  duration\n  duration as default\n}\n","import {Task, mustExist} from './task.coffee'\nimport {descendants} from './query.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\n\npick = (tasks = [], isPicked = true, cascaded = true) ->\n  tasks = [tasks] unless luda.isArray tasks\n  if cascaded\n    taskDescendants = []\n    tasks.forEach (t) ->\n      taskDescendants = taskDescendants.concat descendants(t)\n    tasks = luda.unique(tasks.concat taskDescendants)\n  tasks.forEach (t) ->\n    oldVal = Boolean t.isPicked\n    newVal = t.isPicked = Boolean isPicked\n    detail = {isPicked: {newVal, oldVal}}\n    # It's not necessary to implement the before-update event,\n    # because the isPicked property has noting to do\n    # with a task's business data.\n    triggerEvent t, 'after-touch', detail\n    return if oldVal is newVal\n    triggerEvent t, 'after-update', detail\n    return unless cascaded\n\npicked = (task) ->\n  mustExist task\n  descendants(task).filter (t) -> t.isPicked\n\nTask.pick = pick\n\nTask.prototype.pick = (isPicked, cascaded) ->\n  pick this, isPicked, cascaded\n  this\n\nTask.prototype.picked = ->\n  picked this\n\n\n\nexport {\n  picked\n  pick\n  pick as default\n}\n","import {\n  Task\n  mustExist\n  isRoot\n  builtInProps\n} from './task.coffee'\nimport {triggerEvent} from './event.coffee'\nimport {isMilestone} from './type.coffee'\nimport {canBeUpdated} from './can.coffee'\n\n\n\nreadonly = (task, prop, isReadonly) ->\n  mustExist task\n  if isRoot task\n    return if isReadonly?\n    true\n  else\n    isPropReadonly = task.readonlys.includes prop\n    isPropReadonly ||= not canBeUpdated task\n    return isPropReadonly unless isReadonly?\n    if isReadonly\n      return if isPropReadonly\n      oldVal = task.readonlys.slice()\n      task.readonlys.push prop\n      if prop is 'duration'\n        readonly task, 'beginning', true\n        readonly task, 'end', true\n      if readonly(task, 'beginning') and readonly(task, 'end')\n        readonly task, 'duration', true\n      if isMilestone task\n        if readonly(task, 'duration') \\\n        or readonly(task, 'beginning') or readonly(task, 'end')\n          readonly task, 'duration', true\n      newVal = task.readonlys.slice()\n    else\n      return unless isPropReadonly\n      return if builtInProps.includes prop\n      oldVal = task.readonlys.slice()\n      task.readonlys.splice task.readonlys.indexOf(prop), 1\n      if prop is 'duration'\n        readonly task, 'beginning', false\n        readonly task, 'end', false\n      if not readonly(task, 'beginning') or not readonly(task, 'end')\n        readonly task, 'duration', false\n      if isMilestone task\n        if not readonly(task, 'duration') \\\n        or not readonly(task, 'beginning') or not readonly(task, 'end')\n          readonly task, 'duration', false\n      newVal = task.readonlys.slice()\n    return task unless oldVal and newVal\n    detail = {readonlyProps: {newVal, oldVal}}\n    # It's not necessary to implement the before-update event,\n    # because the readonly properties can not controlled by users.\n    triggerEvent task, 'after-touch', detail\n    triggerEvent task, 'after-update', detail\n    task\n\nreadonlyProps = (task, props...) ->\n  mustExist task\n  if isRoot task\n    return if props.length\n    []\n  else\n    return task.readonlys.slice() unless props.length\n    for prop in task.readonlys.concat(props)\n      readonly task, prop, props.includes(prop)\n    task\n\nTask.prototype.readonly = (prop, isReadonly) ->\n  result = readonly this, prop, isReadonly\n  return result if typeof result is 'boolean'\n  this\n\nTask.prototype.readonlyProps = (props...) ->\n  result = readonlyProps this, props...\n  return result if result instanceof Array\n  this\n\n\n\nexport {\n  readonly\n  readonly as default\n  readonlyProps\n}\n","import {\n  Task\n  mustBeRoot\n  mustExist\n  root\n  isRoot\n  find\n  enhancedProps\n  builtInProps\n  depcTypes\n  splitDeps\n  joinDeps\n} from './task.coffee'\nimport {beginning} from './beginning.coffee'\nimport {end} from './end.coffee'\nimport {duration} from './duration.coffee'\nimport {\n  addDeps\n  removeDeps\n} from './predecessor.coffee'\nimport{\n  addDepd\n  removeDepd\n  depd\n} from './successor.coffee'\nimport {pick} from './pick.coffee'\nimport {fold} from './fold.coffee'\nimport {actions} from './can.coffee'\nimport {readonlyProps} from './readonly.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\n\nupdateRoot = (rootTask, data = {}) ->\n  mustBeRoot rootTask\n  # for p in ['uid', 'rootId', 'wbs', 'tasks', 'events', 'created']\n  #   delete data[p]\n  throw new Error \"Not implemmented\"\n\nupdateTaskEnhancedProps = (task, data = {}) ->\n  if 'predecessors' of data or 'dependencies' of data\n    for type, deps of (data.predecessors or data.dependencies)\n      deps = joinDeps deps if luda.isArray deps\n      newDeps = splitDeps deps\n      currentDeps = splitDeps task.data.dependencies[type]\n      added = newDeps.filter (wbs) -> not currentDeps.includes wbs\n      removed = currentDeps.filter (wbs) -> not newDeps.includes wbs\n      removeDeps task, removed if removed.length\n      addDeps task, type, added if added.length\n  if 'successors' of data\n    for type, depds of data.successors\n      depds = joinDeps depds if luda.isArray depds\n      newDepds = splitDeps depds\n      currentDepds = splitDeps task.depended[type]\n      added = newDepds.filter (wbs) -> not currentDepds.includes wbs\n      removed = currentDepds.filter (wbs) -> not newDepds.includes wbs\n      removeDepd task, removed if removed.length\n      addDepd task, type, added if added.length\n  beginning task, data.beginning if 'beginning' of data\n  end task, data.end if 'end' of data\n  duration task, data.duration if 'duration' of data\n  pick task, data.isPicked if 'isPicked' of data\n  fold task, data.isFolded if 'isFolded' of data\n  actions task, data.actions... if 'actions' of data\n  readonlyProps task, data.readonlyProps... if 'readonlyProps' of data\n\nupdateTask = (existed, datas...) ->\n  mustExist existed\n  [withUid, withoutUid, dataForExisted, updated] = [[], [], {}, []]\n  datas.forEach (data) ->\n    return withUid.push data if 'uid' of data\n    Object.assign dataForExisted, data\n  if Object.keys(dataForExisted).length\n    dataForExisted.uid = existed.uid\n    withUid.push dataForExisted\n  withUid.sort((a, b) -> b.uid - a.uid).forEach (data) ->\n    return unless task = find root(existed), data.uid\n    updated.push task\n    Object.keys(data).forEach (prop) ->\n      propTree = prop.split '.'\n      return if propTree.length is 1\n      [value, topLevelProp] = [data[prop], propTree[0]]\n      if topLevelProp is 'predecessors' or topLevelProp is 'dependencies'\n        newVal = JSON.parse JSON.stringify(task.data.dependencies)\n        newVal[propTree[1]] = value\n      else if topLevelProp is 'successors'\n        newVal = JSON.parse JSON.stringify(task.depended)\n        newVal[propTree[1]] = value\n      else\n        newVal = newValDup = JSON.parse(\n          JSON.stringify task.data[topLevelProp] or {}\n        )\n        propTree.forEach (p, i) ->\n          return if i is 0\n          return newVal = newValDup[p] ||= {} unless i is propTree.length - 1\n          newValDup[p] = value\n      data[topLevelProp] = newVal\n      delete data[prop]\n    delete data[p] for p in builtInProps\n    updateTaskEnhancedProps task, data\n    delete data[p] for p in enhancedProps\n    for key, newVal of data\n      oldVal = task.data[key]\n      detail = {}\n      detail[key] = {newVal, oldVal}\n      # Custom properties are allowed to be changed in before-update event\n      isPrevented = triggerEvent(\n        task, 'before-update', detail, {target: task, prop: key}\n      ) is false\n      if isPrevented\n        detail[key].newVal = oldVal\n        triggerEvent task, 'after-touch', detail\n      else\n        task.data[key] = detail[key].newVal\n        triggerEvent task, 'after-touch', detail\n        unless detail[key].newVal is oldVal\n          triggerEvent task, 'after-update', detail\n  updated\n\nupdateHistoricalTask = (datas...) ->\n  results = datas.map (data) ->\n    data.data ||= {}\n    updated = {}\n    task = find root(data), data.uid\n    delete data.uid\n    delete data.rootId\n    Object.keys(data).forEach (key) ->\n      return if key is 'data'\n      updated[key] = {\n        oldVal: task[key]\n        newVal: task[key] = data[key]\n      }\n      return unless key is 'depended'\n      updated.successors = updated[key]\n    Object.keys(data.data).forEach (key) ->\n      updated[key] = {\n        oldVal: task.data[key]\n        newVal: task.data[key] = data.data[key]\n      }\n      return unless key is 'dependencies'\n      updated.predecessors = updated[key]\n      for type, val of data.data[key]\n        updated[type] = {\n          oldVal: updated[key].oldVal[type]\n          newVal: updated[key].newVal[type]\n        }\n    {task, updated}\n  setTimeout ->\n    results.forEach (r) ->\n      triggerEvent r.task, 'after-touch', r.updated\n      triggerEvent r.task, 'after-update', r.updated\n\nupdate = (existed, datas...) ->\n  return updateRoot existed, datas... if isRoot existed\n  updateTask existed, datas...\n\nTask.prototype.update = (datas...) ->\n  @_pushUndoState => update this, datas...\n  this\n\n\n\nexport {\n  update\n  update as default\n  updateHistoricalTask\n}\n","import {Task, find, mustExist, root} from './task.coffee'\nimport {asc} from './order.coffee'\nimport {createHistoricalTask} from './create.coffee'\nimport {updateHistoricalTask} from './update.coffee'\nimport {destroyHistoricalTask} from './destroy.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\n\nsupportedDataTypes = [\n  '[object String]', '[object Number]', '[object Boolean]',\n  '[object Array]', '[object Object]', '[object Undefined]',\n  '[object Null]'\n]\n\nstateEqual = (one, two) ->\n  return true if one is two\n  oneType = Object.prototype.toString.call one\n  twoType = Object.prototype.toString.call two\n  return false unless oneType is twoType\n  if oneType is '[object Object]'\n    [oneKeys, twoKeys] = [Object.keys(one), Object.keys(two)]\n    return false unless oneKeys.length is twoKeys.length\n    return oneKeys.every (key) -> stateEqual one[key], two[key]\n  if oneType is '[object Array]'\n    return false unless one.length is two.length\n    return true if luda.arrayEqual one, two\n    [one, two] = [one.sort(), two.sort()]\n    return one.every (oneE) -> two.some (twoE) -> stateEqual oneE, twoE\n  Object.is one, two\n\ncurrentState = (task) ->\n  mustExist task\n  state = JSON.parse JSON.stringify(asc root(task).tasks...)\n  state.forEach (item) -> delete item.errors\n  state\n\ndiffState = (newState = [], oldState = []) ->\n  isDiff = false\n  [toCreateUids, toDestroyUids] = [[], []]\n  [toDestroy, toCreate, toUpdate] = [[], [], []]\n  oldState.forEach (task) ->\n    return if newState.find (item) -> item.uid is task.uid\n    toDestroyUids.push task.uid\n    toDestroy.push task\n    isDiff = true\n  newState.forEach (task) ->\n    return if oldState.find (item) -> item.uid is task.uid\n    toCreateUids.push task.uid\n    toCreate.push task\n    isDiff = true\n  newState.forEach (task) ->\n    return if toCreateUids.includes task.uid\n    return if toDestroyUids.includes task.uid\n    return unless oldTask = oldState.find (item) -> item.uid is task.uid\n    return unless diffedTask = diffTask task, oldTask\n    toUpdate.push diffedTask\n    isDiff = true\n  return null unless isDiff\n  {destroy: toDestroy, create: toCreate, update: toUpdate}\n\ndiffTask = (newTask, oldTask, _exclusionKeys = []) ->\n  diffedTask = null\n  [newKeys, oldKeys] = [Object.keys(newTask), Object.keys(oldTask)]\n  newKeys.forEach (key) ->\n    return if _exclusionKeys.includes key\n    oldKeys.splice i, 1 if (i = oldKeys.indexOf key) >= 0\n    return if stateEqual newTask[key], oldTask[key]\n    diffedTask ||= {}\n    diffedTask[key] = newTask[key]\n  oldKeys.forEach (key) ->\n    return if _exclusionKeys.includes key\n    diffedTask ||= {}\n    diffedTask[key] = undefined\n  return diffedTask if _exclusionKeys.includes 'data'\n  if diffedTask\n    diffedTask.uid = newTask.uid\n    diffedTask.rootId = newTask.rootId\n  return diffedTask unless data = diffTask newTask.data, oldTask.data, ['data']\n  diffedTask ||= {}\n  diffedTask.data = data\n  diffedTask\n\npopState = (task, action = 'undo') ->\n  mustExist task\n  rootTask = root task\n  stack = rootTask.stacks[action]\n  return null unless state = stack.pop()\n  state = JSON.parse JSON.stringify(state)\n  triggerEvent(\n    rootTask, 'after-update-state-stack', {action, state, direction: 'pop'}\n  )\n  triggerEvent rootTask, 'after-pop-state-stack', {action, state}\n  triggerEvent rootTask, \"after-pop-#{action}-state-stack\", state\n  state\n\npopUndoState = (task) -> popState task, 'undo'\n\npopRedoState = (task) -> popState task, 'redo'\n\npushState = (task, action = 'undo', _state) ->\n  mustExist task\n  rootTask = root task\n  stack = rootTask.stacks[action]\n  state = _state or currentState task\n  lastState = stack[stack.length - 1]\n  shouldPush = not lastState\n  shouldPush ||= state.length isnt lastState.length\n  shouldPush ||= not stateEqual state, lastState\n  return null unless shouldPush\n  stack.shift() if stack.length >= rootTask.data.maxHistorySize\n  stack.push state\n  triggerEvent(\n    rootTask, 'after-update-state-stack', {action, state, direction: 'push'}\n  )\n  triggerEvent rootTask, 'after-push-state-stack', {action, state}\n  triggerEvent rootTask, \"after-push-#{action}-state-stack\", state\n  state\n\npushUndoState = (task) -> pushState task, 'undo'\n\npushRedoState = (task) -> pushState task, 'redo'\n\nhistory = (task, action = 'undo') ->\n  mustExist task\n  return unless lastState = popState task, action\n  state = currentState task\n  actions = diffState lastState, state\n  return unless actions\n  destroyHistoricalTask actions.destroy...\n  createHistoricalTask actions.create...\n  updateHistoricalTask actions.update...\n  pushState task, (if action is 'undo' then 'redo' else 'undo'), state\n  rootTask = root task\n  detail = {currentState: lastState, oldState: state}\n  triggerEvent rootTask, 'after-switch-state', detail\n  triggerEvent rootTask, \"after-#{action}\", detail\n\nundo = (task) -> history task, 'undo'\n\nredo = (task) -> history task, 'redo'\n\nTask.prototype.pushUndoState = ->\n  return if root(this).historyTrackingDisabled\n  pushUndoState this\n\nTask.prototype.stopTrackingHistory = ->\n  root(this).historyTrackingDisabled = true\n\nTask.prototype.startTrackingHistory = ->\n  delete root(this).historyTrackingDisabled\n\nTask.prototype._pushUndoState = (callback) ->\n  return callback() if callback and root(this).historyTrackingDisabled\n  rootTask = root this\n  oldState = pushUndoState rootTask\n  callback() if callback\n  return unless oldState\n  return unless stateEqual currentState(rootTask), oldState\n  popUndoState rootTask\n\nTask.prototype.pushRedoState = ->\n  return if root(this).historyTrackingDisabled\n  pushRedoState this\n\nTask.prototype.popUndoState = ->\n  return if root(this).historyTrackingDisabled\n  popUndoState this\n\nTask.prototype.popRedoState = ->\n  return if root(this).historyTrackingDisabled\n  popRedoState this\n\nTask.prototype.undo = ->\n  undo this\n  this\n\nTask.prototype.redo = ->\n  redo this\n  this\n\n\n\nexport {\n  pushState\n  pushUndoState\n  pushRedoState\n  popState\n  popUndoState\n  popRedoState\n  undo\n  redo\n  history\n  history as default\n}\n","import {Task, mustExist} from './task.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\n\nhandleError = (task, prop, error) ->\n  mustExist task\n  # read all errors @example error(task)\n  if prop is undefined\n    return null unless Object.keys(task.errors).length\n    task.errors\n  # clear all errors @example error(task, null)\n  else if prop is null\n    task.errors = {}\n    task\n  else if typeof prop is 'string'\n    # get the errors of a single prop @example error(task, 'name')\n    return task.errors[prop] or null if error is undefined\n    # clear the errors of a single prop @example error(task, 'name', null)\n    return delete task.errors[prop] and task if error is null\n    # add an error to a single prop @example error(task, 'name', 'name error')\n    task.errors[prop] ||= []\n    task.errors[prop].push error unless task.errors[prop].includes error\n    task\n  # set or clear multiple prop errors by passing in an object\n  # @example error(task, {name: 'e', beginning: null})\n  else if typeof prop is 'object'\n    handleError task, key, val for key, val of prop\n    task\n  else\n    throw new Error 'Unsupported case'\n\nerror = (task, prop, error) ->\n  mustExist task\n  [oldV, newV] = [{}, {}]\n  oldV[key] = val.slice().sort() for key, val of task.errors\n  result = handleError task, prop, error\n  newV[key] = val.slice().sort() for key, val of task.errors\n  [oldKeys, newKeys] = [Object.keys(oldV), Object.keys(newV)]\n  isUpdated = not luda.arrayEqual newKeys, oldKeys\n  isUpdated ||= newKeys.some (key) -> not luda.arrayEqual oldV[key], newV[key]\n  return result unless isUpdated\n  detail = {error: {oldVal: oldV, newVal: newV}}\n  triggerEvent task, 'after-touch', detail\n  triggerEvent task, 'after-update', detail\n  result\n\nTask.prototype.error = (prop, val) -> error this, prop, val\n\n\n\nexport {\n  error\n  error as default\n}\n","import {Task, mustExist, isRoot} from './task.coffee'\nimport {descendants} from './query.coffee'\nimport {asc} from './order.coffee'\n\n\n\nstringify = (task, cascaded = true) ->\n  mustExist task\n  return JSON.stringify task.data unless cascaded\n  tasks = descendants task\n  tasks.unshift task unless isRoot task\n  sortedTasks = asc(tasks...).map (t) -> t.data\n  JSON.stringify sortedTasks\n\nparse = (task, cascaded = true) -> JSON.parse stringify(task, cascaded)\n\nTask.prototype.parse = (cascaded) -> parse this, cascaded\n\nTask.prototype.stringify = (cascaded) -> stringify this, cascaded\n\n\n\nexport {\n  parse\n  stringify\n}\n","import {Time} from '../../models/time/index.coffee'\nimport {\n  Task\n  mustExist\n  isRoot\n} from './task.coffee'\nimport {children} from './query.coffee'\nimport {tryUpdateSchedule} from './schedule.coffee'\n\n\n\ntravel = (task, secs) ->\n  mustExist task\n  return if isRoot task\n  return if secs is 0\n  throw new Error \"distance must be an integer\" unless Number.isInteger secs\n  [oldBegin, oldEnd] = [new Time(task.data.beginning), new Time(task.data.end)]\n  [newBegin, newEnd] = [oldBegin.calcSeconds(secs), oldEnd.calcSeconds(secs)]\n  tryUpdateSchedule task, {beginning: newBegin, end: newEnd}, 'travel'\n\nTask.prototype.travel = (secs) ->\n  @_pushUndoState => travel this, secs\n  this\n\n\n\nexport {\n  travel\n  travel as default\n}\n","import Time from '../../models/time/index.coffee'\nimport Task from '../../models/task/index.coffee'\nimport modelable from '../../mixins/modelable.coffee'\n\n\n\nluda.component 'kickoffGantt'\n\n.protect modelable.all()\n\n.protect\n\n  ascTasks: ->\n    Task.asc @rootTask().descendants()...\n\n  adjustTimelineRange: (mode) ->\n    @timeline().fit(\n      @rootTask().beginning() or new Time(),\n      @rootTask().end() or new Time(),\n      mode\n    )\n\n.protect\n\n  template: ->\n    \"<div class='kickoff-gantt-timeline' data-uid='#{@rootTask().uid}'></div>\n    <div class='kickoff-gantt-links' data-uid='#{@rootTask().uid}'></div>\n    <div class='kickoff-gantt-tasks' data-uid='#{@rootTask().uid}'></div>\"\n\n  render: -> @root.html @template()\n\n.protect\n\n  linkTemplate: (task) ->\n    \"<div class='kickoff-gantt-link' data-uid='#{task.uid}'></div>\"\n\n  findLinkDom: (task) ->\n    @linksContainerDom.find \".kickoff-gantt-link[data-uid='#{task.uid}']\"\n\n  findLinkDoms: (tasks) ->\n    s = tasks.map (task) -> \".kickoff-gantt-link[data-uid='#{task.uid}']\"\n    @linksContainerDom.children s.join(',')\n\n  refreshLinkDomSiblings: (task) ->\n    ascTasks = @ascTasks()\n    i = ascTasks.indexOf task\n    return if i is ascTasks.length - 1\n    [prevs, nexts] = [ascTasks.slice(0, i), ascTasks.slice(i + 1)]\n    prevs = prevs.filter (t) -> t.deps().some (d) -> nexts.includes d\n    luda.kickoffGanttLink(@findLinkDoms prevs.concat(nexts)).render()\n\n  insertLinkDom: (task) ->\n    return luda.kickoffGanttLink(d).render() if (d = @findLinkDom task).length\n    @linksContainerDom.append @linkTemplate(task)\n    @refreshLinkDomSiblings task\n\n  removeLinkDom: (task) ->\n    @refreshLinkDomSiblings task\n    @findLinkDom(task).remove()\n\n  insertLinkDoms: ->\n    @linksContainerDom.html @ascTasks().map((t) => @linkTemplate t).join('')\n\n.protect\n\n  taskTemplate: (task) ->\n    \"<div class='kickoff-gantt-task' data-uid='#{task.uid}'></div>\"\n\n  findTaskDom: (task) ->\n    @tasksContainerDom.find \".kickoff-gantt-task[data-uid='#{task.uid}']\"\n\n  insertTaskDom: (task) ->\n    return luda.kickoffGanttTask(d).render() if (d = @findTaskDom task).length\n    prev = task.prevSibling()\n    prev = prevLastChd if prev and prevLastChd = prev.lastChild()\n    prev ||= task.parent()\n    task.one \"after-render-in-gantt.#{@id}\", =>\n      node = @findTaskDom(task).find('.kickoff-gantt-task-content').get 0\n      if node.scrollIntoViewIfNeeded\n        node.scrollIntoViewIfNeeded()\n      else\n        node.scrollIntoView()\n    return @findTaskDom(prev).after @taskTemplate(task) if prev\n    @tasksContainerDom.prepend @taskTemplate(task)\n\n  removeTaskDom: (task) -> @findTaskDom(task).remove()\n\n  insertTaskDoms: ->\n    @tasksContainerDom.html @ascTasks().map((t) => @taskTemplate t).join('')\n\n.help\n\n  create: ->\n    @adjustTimelineRange()\n    @rootTask().on \"after-create.#{@id}\", (event) =>\n      return if event.target.isRoot()\n      return if @adjustTimelineRange('grow') or @_reinserting?\n      @insertLinkDom event.target\n      @insertTaskDom event.target\n    @rootTask().on \"after-destroy.#{@id}\", (event) =>\n      return if event.target.isRoot()\n      @removeTaskDom event.target\n      @removeLinkDom event.target\n    @rootTask().on \"after-update.#{@id}\", (event) =>\n      return if event.target.isRoot()\n      return if @adjustTimelineRange 'grow'\n    @rootTask().on \"after-toggle-in-gantt.#{@id}\", (event) =>\n      @refreshLinkDomSiblings event.target\n    @timeline().on \"after-update.#{@id}\", (event) =>\n      event.stopImmediatePropagation() if @adjustTimelineRange()\n    @timeline().on \"after-render.#{@id}\", (event) =>\n      clearTimeout @_reinserting\n      @_reinserting = setTimeout =>\n        @insertLinkDoms()\n        @insertTaskDoms()\n        @_reinserting = null\n    @render()\n\n  destroy: ->\n    clearTimeout @_reinserting\n    @rootTask()?.off \"after-create.#{@id}\"\n    @rootTask()?.off \"after-destroy.#{@id}\"\n    @rootTask()?.off \"after-update.#{@id}\"\n    @rootTask()?.off \"after-toggle-in-gantt.#{@id}\"\n    @timeline()?.off \"after-update.#{@id}\"\n    @timeline()?.off \"after-render.#{@id}\"\n\n  find: ->\n    tasksContainerDom: '.kickoff-gantt-tasks'\n    linksContainerDom: '.kickoff-gantt-links'\n","import modelable from '../../mixins/modelable.coffee'\n\n\n\nluda.component 'kickoffGanttLink'\n\n.protect modelable.all()\n\n.protect\n\n  arrowWidth: 8\n  arrowHeight: 8\n\n.include\n\n  render: ->\n    clearTimeout @_rendering\n    @_rendering = setTimeout =>\n      return unless @model()\n      return unless @findTaskContentDom(@model()).length\n      [lines, shouldKeep] = [@findLineDoms(), luda()]\n      ['s2s', 'f2f', 's2f', 'f2s'].forEach (type) =>\n        @model()[\"#{type}Deps\"]().forEach (depc) =>\n          isExisted = (line = lines.filter \"[data-uid='#{depc.uid}']\").length\n          @root.append(line = @lineDom depc) unless isExisted\n          shouldKeep = shouldKeep.add line\n          polyline = line.children 'polyline'\n          drawLine = ->\n            clearTimeout @_showingLine\n            shouldHide = Boolean depc.isHidden\n            shouldHide ||= not linePoints = @points type, depc\n            return line.addClass 'is-hidden' if shouldHide\n            polyline.attr 'points', linePoints\n            @_showingLine = setTimeout (-> line.removeClass 'is-hidden'), 50\n          return drawLine.call this if isExisted\n          drawLine.call this if @findTaskContentDom(depc).length\n          depc.on \"after-render-in-gantt.#{@id}\", drawLine.bind(this)\n          depc.on \"after-range-in-gantt.#{@id}\", drawLine.bind(this)\n      lines.not(shouldKeep).remove().each (line) =>\n        return unless depc = @rootTask().find luda(line).data('uid')\n        depc.off \"after-render-in-gantt.#{@id}\"\n        depc.off \"after-range-in-gantt.#{@id}\"\n\n  preview: (type, to) ->\n    dict = {start: 'Beginning', finish: 'End'}\n    pointDom = @[\"findTaskLinks#{dict[type]}Dom\"] @model()\n    {left, top} = pointDom.offset()\n    rootPos = @root.offset()\n    left = left - rootPos.left + pointDom.outerWidth() / 2\n    top = top - rootPos.top + pointDom.outerHeight() / 2\n    points = [[left, top], [to.pageX - rootPos.left, to.pageY - rootPos.top]]\n    points = points.concat points.slice().reverse()\n    points = points.map((arr) -> arr.join ' ').join ','\n    isExisted = (line = @findPreviewLineDom()).length\n    @root.prepend(line = @previewLineDom()) unless isExisted\n    line.addClass('is-previewing').children('polyline').attr 'points', points\n\n  resetPreview: ->\n    @findPreviewLineDom().removeClass 'is-previewing'\n\n.protect\n\n  lineDom: (depc) ->\n    luda \"<svg class='kickoff-gantt-link-line' data-uid='#{depc.uid}'>\n          <polyline />\n          </svg>\"\n\n  previewLineDom: ->\n    luda '<svg class=\"kickoff-gantt-link-preview-line\"><polyline /></svg>'\n\n  findLineDom: (depc) ->\n    @root.find \".kickoff-gantt-link-line[data-uid='#{depc.uid}']\"\n\n  findLineDoms: -> @root.children '.kickoff-gantt-link-line'\n\n  findTaskDom: (task) -> luda(\".kickoff-gantt-task[data-uid='#{task.uid}']\")\n\n  findTaskContentDom: (task) ->\n    @findTaskDom(task).find '.kickoff-gantt-task-content'\n\n  findPreviewLineDom: ->\n    @root.find '.kickoff-gantt-link-preview-line'\n\n  findTaskLinksBeginningDom: (task) ->\n    @findTaskDom(task).find '.kickoff-gantt-task-links-beginning'\n\n  findTaskLinksEndDom: (task) ->\n    @findTaskDom(task).find '.kickoff-gantt-task-links-end'\n\n.protect\n\n  points: (type, depc) ->\n    @[\"#{type}Polyline\"](depc).map((arr) -> arr.join ' ').join ','\n\n  s2sPolyline: (depc) ->\n    [from, to] = [@position(depc), @position(@model())]\n    return [] unless from and to\n    minXWidth = @timelineCellWidth() / 2\n    arrow = @arrowRightPoints to\n    x1 = Math.min from.left, to.left\n    [from, to, exchanged] = [to, from, true] unless from.left is x1\n    y1 = from.top\n    [x2, y2] = [x1 - minXWidth, y1]\n    [x4, y4] = [to.left, to.top]\n    [x3, y3] = [x2, y4]\n    points = [[x1, y1], [x2, y2], [x3, y3], [x4, y4]]\n    return points.concat arrow, points.slice().reverse() unless exchanged\n    points.concat points.slice().reverse(), arrow\n\n  f2fPolyline: (depc) ->\n    [from, to] = [@position(depc), @position(@model())]\n    return [] unless from and to\n    minXWidth = @timelineCellWidth() / 2\n    arrow = @arrowLeftPoints to\n    x1 = Math.max from.right, to.right\n    [from, to, exchanged] = [to, from, true] unless from.right is x1\n    y1 = from.top\n    [x2, y2] = [x1 + minXWidth, y1]\n    [x4, y4] = [to.right, to.top]\n    [x3, y3] = [x2, y4]\n    points = [[x1, y1], [x2, y2], [x3, y3], [x4, y4]]\n    return points.concat arrow, points.slice().reverse() unless exchanged\n    points.concat points.slice().reverse(), arrow\n\n  s2fPolyline: (depc) ->\n    [from, to] = [@position(depc), @position(@model())]\n    return [] unless from and to\n    minXWidth = @timelineCellWidth() / 2\n    arrow = @arrowLeftPoints to\n    if to.right + minXWidth > from.left - minXWidth\n      [x1, y1] = [from.left, from.top]\n      [x2, y2] = [x1 - minXWidth, y1]\n      [x6, y6] = [to.right, to.top]\n      [x5, y5] = [x6 + minXWidth, y6]\n      [x3, x4] = [x2, x5]\n      rowGap = @findTaskDom(@model()).outerHeight() / 2\n      y3 = y4 = if y1 < y6 then y5 - rowGap else y5 + rowGap\n      line = [[x1, y1], [x2, y2], [x3, y3], [x4, y4], [x5, y5], [x6, y6]]\n    else\n      [x1, y1] = [from.left, from.top]\n      [x4, y4] = [to.right, to.top]\n      [x3, y3] = [x4 + minXWidth, y4]\n      [x2, y2] = [x3, y1]\n      line = [[x1, y1], [x2, y2], [x3, y3], [x4, y4]]\n    line.concat arrow, line.slice().reverse()\n\n  f2sPolyline: (depc) ->\n    [from, to] = [@position(depc), @position(@model())]\n    return [] unless from and to\n    minXWidth = @timelineCellWidth() / 2\n    arrow = @arrowRightPoints to\n    if from.right + minXWidth > to.left - minXWidth\n      [x1, y1] = [from.right, from.top]\n      [x2, y2] = [x1 + minXWidth, y1]\n      [x6, y6] = [to.left, to.top]\n      [x5, y5] = [x6 - minXWidth, y6]\n      [x3, x4] = [x2, x5]\n      rowGap = @findTaskDom(@model()).outerHeight() / 2\n      y3 = y4 = if y1 < y6 then y5 - rowGap else y5 + rowGap\n      line = [[x1, y1], [x2, y2], [x3, y3], [x4, y4], [x5, y5], [x6, y6]]\n    else\n      [x1, y1] = [from.right, from.top]\n      [x4, y4] = [to.left, to.top]\n      [x3, y3] = [x4 - minXWidth, y4]\n      [x2, y2] = [x3, y1]\n      line = [[x1, y1], [x2, y2], [x3, y3], [x4, y4]]\n    line.concat arrow, line.slice().reverse()\n\n  arrowRightPoints: (to) ->\n    arrowX = to.left - @arrowWidth\n    [arrowT, arrowB] = [to.top + @arrowHeight / 2, to.top - @arrowHeight / 2]\n    [[arrowX, arrowT], [arrowX, arrowB], [to.left, to.top]]\n\n  arrowLeftPoints: (to) ->\n    arrowX = to.right + @arrowWidth\n    [arrowT, arrowB] = [to.top + @arrowHeight / 2, to.top - @arrowHeight / 2]\n    [[arrowX, arrowT], [arrowX, arrowB], [to.right, to.top]]\n\n  position: (model) ->\n    node = @findTaskContentDom model\n    return unless node.length\n    width = luda(node).outerWidth()\n    height = luda(node).outerHeight()\n    {left, top} = luda(node).position()\n    {left, top: top + height / 2, right: left + width}\n\n  timelineCellWidth: ->\n    s = \".kickoff-gantt-timeline-background[data-uid='#{@rootTask().uid}']\n    .kickoff-gantt-timeline-cell\"\n    luda(s).outerWidth()\n\n.help\n\n  create: ->\n    return unless model = @model()\n    @render()\n    @model().on \"after-render-in-gantt.#{@id}\", (event) =>\n      @render() if @model() is event.target\n    @model().on \"after-range-in-gantt.#{@id}\", (event) =>\n      @render() if @model() is event.target\n\n  destroy: ->\n    clearTimeout @_rendering\n    clearTimeout @_showingLine\n    @model()?.off \"after-render-in-gantt.#{@id}\"\n    @model()?.off \"after-range-in-gantt.#{@id}\"\n    @model()?.deps().forEach (depc) =>\n      depc.off \"after-render-in-gantt.#{@id}\"\n      depc.off \"after-range-in-gantt.#{@id}\"\n","import modelable from '../../mixins/modelable.coffee'\nimport {capitalize} from '../../utilities/string.coffee'\nimport {taskActions} from '../../models/task/task.coffee'\nimport localeable from '../../mixins/localeable.coffee'\nimport Time from '../../models/time/index.coffee'\n\n\n\nluda.component 'kickoffGanttTask'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.include\n\n  render: ->\n    clearTimeout @_rendering\n    @_rendering = setTimeout =>\n      return unless model = @model()\n      unless @container.length\n        @root.html '<div class=\"kickoff-gantt-task-content\"></div>'\n      @setCls()\n      @container.html @template()\n      @renderRange()\n      @executeCustomGraphRenderer()\n      @executeCustomActionsRenderer()\n      @executeCustomLinkActionsRenderer()\n      @executeCustomSummaryRenderer()\n      model.trigger 'after-render-in-gantt'\n\n  left: (pos) ->\n    if pos?\n      pos += @root.height() / 2 if @model().isMilestone()\n      accurateTime = @pxToTime pos\n      if @config().enableGanttAccurateTimeOperations\n        @model().beginning accurateTime\n      else\n        @model().beginning @nearestUnitEdgeTime(accurateTime, 'beginning')\n      @render()\n    else\n      pos = @timeToPx @model().beginning()\n      pos -= @root.height() / 2 if @model().isMilestone()\n      pos\n\n  right: (pos) ->\n    if pos?\n      pos -= @root.height() / 2 if @model().isMilestone()\n      accurateTime = @pxToTime pos\n      if @config().enableGanttAccurateTimeOperations\n        @model().end accurateTime\n      else\n        @model().end @nearestUnitEdgeTime(accurateTime, 'end')\n      @render()\n    else\n      pos = @timeToPx @model().end()\n      pos += @root.height() / 2 if @model().isMilestone()\n      pos\n\n  move: (pos) ->\n    return unless pos\n    accurateSecs = parseInt(pos / @pxPerSec(), 10)\n    if @config().enableGanttAccurateTimeOperations\n      @model().travel accurateSecs\n    else\n      [currentBeginning, currentEnd] = [@model().beginning(), @model().end()]\n      accurateBeginning = currentBeginning.calcSeconds accurateSecs\n      accurateEnd = currentEnd.calcSeconds accurateSecs\n      nearestUnitBeginning = @nearestUnitEdgeTime accurateBeginning, 'beginning'\n      nearestUnitEnd = @nearestUnitEdgeTime accurateEnd, 'end'\n      beginningDiffSecs = nearestUnitBeginning.since(currentBeginning).seconds\n      endDiffSecs = nearestUnitEnd.since(currentEnd).seconds\n      if Math.abs(beginningDiffSecs) < Math.abs(endDiffSecs)\n        edgeSecs = beginningDiffSecs\n      else\n        edgeSecs = endDiffSecs\n      @model().travel edgeSecs\n    @render()\n\n.protect\n\n  nearestUnitEdgeTime: (time, prefer = 'beginning') ->\n    m = Time.methodNames @timeline().unit()\n    if prefer is 'end'\n      next = time[m.endOfUnit]()\n      prev = next[m.prevUnit]()[m.endOfUnit]()\n    else\n      prev = time[m.beginningOfUnit]()\n      next = prev[m.nextUnit]()[m.beginningOfUnit]()\n    prevDiff = time.since(prev).seconds\n    nextDiff = next.since(time).seconds\n    if prevDiff < nextDiff then prev else next\n\n  pxPerSec: ->\n    @root.width() / @timeline().duration().seconds\n\n  pxToTime: (px) ->\n    @timeline().beginning().nextSecond parseInt(px / @pxPerSec(), 10)\n\n  timeToPx: (time) ->\n    time.since(@timeline().beginning()).seconds * @pxPerSec()\n\n.protect\n\n  renderRange: ->\n    [left, right] = [@left(), @right()]\n    width = right - left\n    @container.css {left, width}\n\n  customRenderers: ->\n    [renderers, modelType] = [{}, capitalize(@model().type())]\n    rendererTypes = ['Graph', 'Actions', 'LinkActions', 'Summary']\n    for t in rendererTypes\n      customRenderer = @config()[\"renderGantt#{modelType}#{t}\"]\n      renderers[\"render#{t}\"] = customRenderer if customRenderer\n    actionTypes = (action for action in @model().actions())\n    for t in actionTypes\n      cap = capitalize t\n      configRendererName = \"renderGantt#{modelType}Action#{cap}\"\n      customRenderer = @config()[configRendererName]\n      unless taskActions.includes t\n        console.error \"Custom action #{t} is defined, but #{configRendererName}\n                      is not defined.\" unless customRenderer\n      renderers[\"renderAction#{cap}\"] = customRenderer if customRenderer\n    renderers\n\n  executeCustomGraphRenderer: ->\n    {renderGraph} =  @customRenderers()\n    @root.toggleClass 'with-custom-graph-renderer', Boolean(renderGraph)\n    return unless renderGraph\n    return if @model().isHidden\n    graphContainer = @root.find('.kickoff-gantt-task-bar-body').get 0\n    renderGraph.call @model(), @model(), graphContainer\n\n  executeCustomActionsRenderer: ->\n    renderers = @customRenderers()\n    renderActions =  renderers.renderActions\n    @root.toggleClass 'with-custom-actions-renderer', Boolean(renderActions)\n    if renderActions\n      return if @model().isHidden\n      actionsContainer = @root.find('.kickoff-gantt-task-popover-actions').get 0\n      return renderActions.call @model(), @model(), actionsContainer\n    for action in @model().actions()\n      if renderAction = renderers[\"renderAction#{capitalize action}\"]\n        actionSlot = \".kickoff-gantt-task-popover-actions\n                     .with-custom-action-renderer-#{luda.dashCase action}\"\n        actionContainer = @root.find(actionSlot).get(0)\n        renderAction.call @model(), @model(), actionContainer\n\n  executeCustomLinkActionsRenderer: ->\n    {renderLinkActions} =  @customRenderers()\n    hasClass = Boolean renderLinkActions\n    @root.toggleClass 'with-custom-link-actions-renderer', hasClass\n    return unless renderLinkActions\n    return if @model().isHidden\n    selector = '.kickoff-gantt-task-popover-link-actions'\n    actionsContainer = @root.find(selector).get 0\n    renderLinkActions.call @model(), @model(), actionsContainer\n\n  executeCustomSummaryRenderer: ->\n    {renderSummary} =  @customRenderers()\n    @root.toggleClass 'with-custom-summary-renderer', Boolean(renderSummary)\n    return unless renderSummary\n    return if @model().isHidden\n    summaryContainer = @root.find('.kickoff-gantt-task-popover-summary').get 0\n    renderSummary.call @model(), @model(), summaryContainer\n\n.protect\n\n  dragDimensions: (event) ->\n    @dragStartLeft = @left() unless 'dragStartLeft' of this\n    @dragStartRight = @right() unless 'dragStartRight' of this\n    @dragStartX = event.screenX unless 'dragStartX' of this\n    {\n      startLeft: @dragStartLeft, startRight: @dragStartRight,\n      startX: @dragStartX, startWidth: @dragStartRight - @dragStartLeft,\n      distance: event.screenX - @dragStartX\n    }\n\n  resetDragDimensions: ->\n    delete @dragStartLeft\n    delete @dragStartRight\n    delete @dragStartX\n\n  previewTravel: (event) ->\n    return if luda(event.target).hasClass 'is-readonly'\n    {startLeft, distance} = @dragDimensions event\n    @container.css 'left', startLeft + distance\n    @model().trigger 'after-range-in-gantt'\n\n  travel: (event) ->\n    return if luda(event.target).hasClass 'is-readonly'\n    @move @dragDimensions(event).distance\n    @resetDragDimensions()\n\n  previewBegin: (event) ->\n    {startWidth, startLeft, distance} = @dragDimensions event\n    @container.css {width: startWidth - distance, left: startLeft + distance}\n    @model().trigger 'after-range-in-gantt'\n\n  setBegin: (event) ->\n    {startLeft, distance} = @dragDimensions event\n    @left startLeft + distance\n    @resetDragDimensions()\n\n  previewEnd: (event) ->\n    {startWidth, distance} = @dragDimensions event\n    @container.css 'width', startWidth + distance\n    @model().trigger 'after-range-in-gantt'\n\n  setEnd: (event) ->\n    {startRight, distance} = @dragDimensions event\n    @right startRight + distance\n    @resetDragDimensions()\n\n.protect\n\n  linkNode: -> luda \".kickoff-gantt-link[data-uid='#{@model().uid}']\"\n\n  previewLinkFrom: (type, to) ->\n    successorsPropIsReadonly = @model().readonly 'successors'\n    @con._isLinkingFrom = {task: @model(), type}\n    point = if type is 'finish' then @linksEnd else @linksBeginning\n    point.addClass 'is-linking'\n    cursorCls = if successorsPropIsReadonly then 'is-invalid' else 'is-valid'\n    point.addClass cursorCls\n    @linksContainer.addClass 'is-linking'\n    luda.kickoffGanttLink(@linkNode()).preview type, to\n\n  resetPreviewLinkFrom: ->\n    return unless @rootTask()?\n    luda.kickoffGanttLink(@linkNode()).resetPreview()\n    @linksEnd.removeClass 'is-linking is-valid is-invalid'\n    @linksBeginning.removeClass 'is-linking is-valid is-invalid'\n    @linksContainer.removeClass 'is-linking'\n    delete @con._isLinkingFrom\n\n  previewLinkFromStart: (event) ->\n    @previewLinkFrom 'start', {pageX: event.pageX, pageY: event.pageY}\n\n  previewLinkFromFinish: (event) ->\n    @previewLinkFrom 'finish', {pageX: event.pageX, pageY: event.pageY}\n\n  previewLinkTo: (type) ->\n    return unless from = @con._isLinkingFrom\n    predecessorsPropIsReadonly = @model().readonly 'predecessors'\n    @con._isLinkingTo = {task: @model(), type}\n    return if from.task is @model()\n    point = if type is 'finish' then @linksEnd else @linksBeginning\n    point.addClass 'is-linking'\n    return if point.hasClass 'is-valid'\n    return if point.hasClass 'is-invalid'\n    if predecessorsPropIsReadonly\n      isValid = false\n    else\n      isValid = @con._isLinkingFrom.task.isValidDepcOf @con._isLinkingTo.task\n    cursorCls = if isValid then 'is-valid' else 'is-invalid'\n    point.addClass cursorCls\n\n  previewLinkToStart: (event) -> @previewLinkTo 'start'\n\n  previewLinkToFinish: (event) -> @previewLinkTo 'finish'\n\n  resetPreviewLinkTo: ->\n    return unless to = @con._isLinkingTo\n    selector = \".kickoff-gantt-task[data-uid='#{to.task.uid}']\n          .kickoff-gantt-task-links *\"\n    @root.parent('.kickoff-gantt-tasks').find(selector)\n    .removeClass 'is-linking is-valid is-invalid'\n    delete @con._isLinkingTo\n\n  addLink: ->\n    return unless from = @con._isLinkingFrom\n    return @resetPreviewLinkFrom() if from.task.readonly 'successors'\n    @resetPreviewLinkFrom()\n    return unless to = @con._isLinkingTo\n    return @resetPreviewLinkTo() if to.task.readonly 'predecessors'\n    type = luda.camelCase(\"#{from.type}-to-#{to.type}\")\n    to.task.addPredecessors type, from.task\n    @resetPreviewLinkTo()\n\n.protect\n\n  setCls: ->\n    oldHidden = Boolean @_isHidden\n    @_isHidden = Boolean @model().isHidden\n    @root.toggleClass 'is-picked', Boolean(@model().isPicked)\n    @root.toggleClass 'is-milestone', @model().isMilestone()\n    @root.toggleClass 'is-task', @model().isTask()\n    @root.toggleClass 'is-folded', Boolean(@model().isFolded)\n    @root.toggleClass 'is-hidden', @_isHidden\n    return if oldHidden is @_isHidden\n    @model().trigger 'after-toggle-in-gantt', @_isHidden\n\n  closeProper: ->\n    luda.kickoffProper(@proper).deactivate()\n\n.protect\n\n  template: ->\n    \"<label class='kickoff-gantt-task-label'>#{@labelTemplate()}</label>\n    <div class='kickoff-gantt-task-bar kickoff-proper'>#{@barTemplate()}</div>\n    <div class='kickoff-gantt-task-links'>#{@linkPointsTemplate()}</div>\"\n\n  labelTemplate: ->\n    name = @model().data.name\n    name = '' unless name?\n    \"#{@model().data.wbs} #{name}\"\n\n  barTemplate: ->\n    model = @model()\n    [html, isTask] = ['', model.isTask()]\n    if isTask and not model.readonly 'beginning'\n      html += \"<div class='kickoff-gantt-task-bar-beginning'></div>\"\n    bodyCls = 'kickoff-gantt-task-bar-body'\n    if model.readonly('beginning') or model.readonly('end')\n      bodyCls += ' is-readonly'\n    html += \"<div class='#{bodyCls}'></div>\"\n    if isTask and not model.readonly 'end'\n      html += \"<div class='kickoff-gantt-task-bar-end'></div>\"\n    html += \"<div class='kickoff-proper-popover kickoff-gantt-task-popover'>\n      #{@popoverTemplate()}\n    </div>\"\n\n  linkPointsTemplate: ->\n    \"<div class='kickoff-gantt-task-links-beginning'></div>\n    <div class='kickoff-gantt-task-links-end'></div>\"\n\n  popoverTemplate: ->\n    html = ''\n    {renderActions, renderLinkActions, renderSummary} = @customRenderers()\n    if renderActions\n      html += \"<div class='kickoff-gantt-task-popover-actions'></div>\"\n    else\n      html += @popoverActionsTemplate()\n    if renderLinkActions\n      html += \"<div class='kickoff-gantt-task-popover-link-actions'></div>\"\n    else\n      html += @popoverLinkActionsTemplate()\n    if renderSummary\n      html += \"<div class='kickoff-gantt-task-popover-summary'></div>\"\n    else\n      html += @popoverSummaryTemplate()\n    html\n\n  popoverActionsTemplate: ->\n    [model, renderers] = [@model(), @customRenderers()]\n    [uid, actions] = [model.uid, model.actions()]\n    return '' unless actions.length\n    customRendererSlot = (action) ->\n      \"<div class='with-custom-action-renderer-#{luda.dashCase action}'></div>\"\n    defaultRenderer = (action) ->\n      if ['pick', 'fold', 'destroy'].includes action\n        cls = \"#{action}-task\"\n      else if action is 'update'\n        cls = 'edit-task'\n      else if ['createTask', 'createMilestone'].includes action\n        cls = luda.dashCase action\n      if cls\n        \"<button class='kickoff-button-#{cls}' data-uid='#{uid}'></button>\"\n      else\n        customRendererSlot action\n    html = \"\"\n    for action in actions\n      customRenderer = renderers[\"renderAction#{capitalize action}\"]\n      render = if customRenderer then customRendererSlot else defaultRenderer\n      html += render action\n    \"<div class='kickoff-gantt-task-popover-actions'>#{html}</div>\"\n\n  popoverLinkActionsTemplate: ->\n    [html, model] = [\"\", @model()]\n    [uid, linkButtons] = [model.uid, {s2s: '', s2f: '', f2f: '', f2s: ''}]\n    deps = model.deps()\n    return '' if deps.length is 0 or model.readonly 'predecessors'\n    deps.forEach (depc) ->\n      key = model.depcType(depc).shortcut\n      disabled = if depc.readonly 'successors' then 'disabled' else ''\n      linkButtons[key] += \"<button class='kickoff-button-destroy-link'\n                           data-uid='#{uid}'\n                           data-from='#{depc.uid}' #{disabled}>\n                           </button>\"\n    html += fragment for type, fragment of linkButtons\n    \"<div class='kickoff-gantt-task-popover-link-actions'>#{html}</div>\"\n\n  popoverSummaryTemplate: ->\n    html = \"<h6 class='kickoff-gantt-task-popover-summary-title'>\n              #{@labelTemplate()}\n            </h6>\"\n    if @model().isMilestone()\n      html += \"<p class='kickoff-gantt-task-popover-summary-item'>\n                 <span>#{@l 'task.props.time'}:</span>\n                 <span>#{@model().data.end}</span>\n               </p>\"\n    else\n      dayCount = Math.round @model().duration().days\n      html += \"<p class='kickoff-gantt-task-popover-summary-item'>\n                 <span>#{@l 'task.props.beginning'}:</span>\n                 <span>#{@model().data.beginning}</span>\n               </p>\n               <p class='kickoff-gantt-task-popover-summary-item'>\n                 <span>#{@l 'task.props.end'}:</span>\n                 <span>#{@model().data.end}</span>\n               </p>\n               <p class='kickoff-gantt-task-popover-summary-item'>\n                 <span>#{@l 'task.props.duration'}:</span>\n                 <span>\n                   #{dayCount}\n                   #{@l 'task.durationUnits.day'}\n                 </span>\n               </p>\"\n    \"<div class='kickoff-gantt-task-popover-summary'>#{html}</div>\"\n\n.help\n\n  create: ->\n    return unless model = @model()\n    @render()\n    model.on \"after-touch.#{@id}\", (event, touched) =>\n      return unless model is event.target\n      @render() if 'beginning' of touched or 'end' of touched\n    model.on \"after-update.#{@id}\", (event, updated) =>\n      return unless model is event.target\n      ks = Object.keys updated\n      if ks.length is 1 and ks[0] is 'isPicked'\n        return @setCls()\n      if ks.some (k) -> k in ['wbs', 'name', 'beginning', 'end', 'isHidden']\n        return @render()\n      @setCls()\n      @popover.html @popoverTemplate()\n      @executeCustomGraphRenderer()\n      @executeCustomActionsRenderer()\n      @executeCustomLinkActionsRenderer()\n      @executeCustomSummaryRenderer()\n      model.trigger 'after-render-in-gantt'\n\n  destroy: ->\n    clearTimeout @_rendering\n    @resetPreviewLinkTo()\n    @resetPreviewLinkFrom()\n    @model()?.off \"after-touch.#{@id}\"\n    @model()?.off \"after-update.#{@id}\"\n\n  listen: ->\n    [\n      ['dragging', '.kickoff-gantt-task-bar-body', @previewTravel]\n      ['draggingend', '.kickoff-gantt-task-bar-body', @travel]\n      ['dragging', '.kickoff-gantt-task-bar-beginning', @previewBegin]\n      ['draggingend', '.kickoff-gantt-task-bar-beginning', @setBegin]\n      ['dragging', '.kickoff-gantt-task-bar-end', @previewEnd]\n      ['draggingend', '.kickoff-gantt-task-bar-end', @setEnd]\n      ['dragging', '.kickoff-gantt-task-links-beginning', @previewLinkFromStart]\n      ['draggingend', '.kickoff-gantt-task-links-beginning', @addLink]\n      ['dragging', '.kickoff-gantt-task-links-end', @previewLinkFromFinish]\n      ['draggingend', '.kickoff-gantt-task-links-end', @addLink]\n      ['mouseenter', '.kickoff-gantt-task-links-beginning', @previewLinkToStart]\n      ['mouseleave', '.kickoff-gantt-task-links-beginning', @resetPreviewLinkTo]\n      ['mouseenter', '.kickoff-gantt-task-links-end', @previewLinkToFinish]\n      ['mouseleave', '.kickoff-gantt-task-links-end', @resetPreviewLinkTo]\n      ['click', '.kickoff-button-edit-task', @closeProper]\n    ]\n\n  find: ->\n    container: '.kickoff-gantt-task-content'\n    linksContainer: '.kickoff-gantt-task-links'\n    linksBeginning: '.kickoff-gantt-task-links-beginning'\n    linksEnd: '.kickoff-gantt-task-links-end'\n    proper: '.kickoff-proper'\n    popover: '.kickoff-gantt-task-popover'\n","import modelable from '../../mixins/modelable.coffee'\n\n\n\nluda.component 'kickoffGanttTimeline'\n\n.protect modelable.all()\n\n.protect\n\n  foregroundTemplate: (groups) ->\n    html = \"\"\n    return html unless groups and groups.length\n    for group in groups\n      cls  = \"kickoff-gantt-timeline-#{group.unit} \"\n      cls += \"kickoff-gantt-timeline-depth#{group.depth} \"\n      cls += \"kickoff-gantt-timeline-weekend \" if group.isWeekend\n      cls += \"kickoff-gantt-timeline-cell \" unless group.groups\n      html += \"<div class='#{cls}'>\"\n      html += \"<div class='kickoff-gantt-timeline-label'>#{group.label}</div>\"\n      if group.groups\n        html += \"<div class='kickoff-gantt-timeline-group'>\"\n        html += @foregroundTemplate group.groups\n        html += \"</div>\"\n      else\n        html += @exclusionTemplate group\n        html += @inclusionTemplate group\n        html += @foregroundFlagTemplate group\n      html += \"</div>\"\n    html\n\n  backgroundTemplate: (groups) ->\n    html = \"\"\n    return html unless groups and groups.length\n    for group in groups\n      if group.groups\n        html += @backgroundTemplate group.groups\n      else\n        cls  = \"kickoff-gantt-timeline-cell \"\n        cls += \"kickoff-gantt-timeline-#{group.unit} \"\n        cls += \"kickoff-gantt-timeline-weekend \" if group.isWeekend\n        html += \"<div class='#{cls}'>\"\n        html += @exclusionTemplate group\n        html += @inclusionTemplate group\n        html += @backgroundFlagTemplate group\n        html += \"</div>\"\n    html\n\n  specialDurationTemplate: (cell, type = 'exclusion') ->\n    return '' unless (cells = cell[\"#{type}s\"]).length\n    [cellB, cellE] = [cell.beginning, cell.end]\n    totalSeconds = cell.end.since(cell.beginning).seconds\n    cells.map((t) ->\n      style = \"width:#{t.end.since(t.beginning).seconds / totalSeconds * 100}%;\"\n      if t.end.equals cell.end\n        style += \"right:0\"\n      else\n        left = t.beginning.since(cell.beginning).seconds / totalSeconds\n        style += \"left:#{left * 100}%\"\n      cls  = \"kickoff-gantt-timeline-#{type} \"\n      cls += \"kickoff-gantt-timeline-#{type}-left \" if t.beginning.equals cellB\n      cls += \"kickoff-gantt-timeline-#{type}-right \" if t.end.equals cellE\n      \"<div class='#{cls}' style='#{style}'></div>\"\n    ).join ''\n\n  inclusionTemplate: (cell) ->\n    @specialDurationTemplate cell, 'inclusion'\n\n  exclusionTemplate: (cell) ->\n    @specialDurationTemplate cell, 'exclusion'\n\n  foregroundFlagTemplate: (cell) ->\n    return '' unless cell.flags.length\n    totalSeconds = cell.end.since(cell.beginning).seconds\n    cell.flags.map((flag) ->\n      left = flag.time.since(cell.beginning).seconds / totalSeconds\n      style = \"left:#{left * 100}%\"\n      cls  = \"kickoff-gantt-timeline-flag-label \"\n      cls += flag.cls if flag.cls\n      \"<label class='#{cls}' style='#{style}'>#{flag.label or 'FLAG'}</label>\"\n    ).join ''\n\n  backgroundFlagTemplate: (cell) ->\n    return '' unless cell.flags.length\n    totalSeconds = cell.end.since(cell.beginning).seconds\n    cell.flags.map((flag) ->\n      left = flag.time.since(cell.beginning).seconds / totalSeconds\n      style = \"left:#{left * 100}%\"\n      cls  = \"kickoff-gantt-timeline-flag-line \"\n      cls += flag.cls if flag.cls\n      \"<div class='#{cls}' style='#{style}'></div>\"\n    ).join ''\n\n.protect\n\n  ensureOccupyFullWidth: ->\n    timelineWidth = @root.outerWidth()\n    ganttWidth = @root.parent('.kickoff-gantt').width()\n    return true if timelineWidth >= ganttWidth\n    duration = @timeline().duration().seconds\n    pxPerSec = timelineWidth / duration\n    leastDuration = ganttWidth / pxPerSec\n    @timeline().duration Math.ceil(leastDuration)\n    false\n\n  renderForeground: (groups) ->\n    @root.html @foregroundTemplate(groups)\n\n  renderBackground: (groups) ->\n    uid = @rootTask().uid\n    [cls, dataAttr] = ['kickoff-gantt-timeline-background', \"data-uid='#{uid}'\"]\n    unless (background = luda \".#{cls}[#{dataAttr}]\").length\n      @root.before background = luda \"<div class='#{cls}' #{dataAttr}>\"\n    background.html(@backgroundTemplate groups)\n\n.protect\n\n  ensureResizeDetectorExist: ->\n    return @resizeDetector if @resizeDetector\n    uid = @rootTask().uid\n    [cls, dataAttr] = [\n      \"kickoff-gantt-timeline-resize-detector\"\n      \"data-uid='#{uid}'\"\n    ]\n    unless (detector = luda \".#{cls}[#{dataAttr}]\").length\n      @root.before detector = luda \"<iframe class='#{cls}' #{dataAttr}>\"\n    @resizeDetector = detector.get(0).contentWindow\n\n  listenResize: ->\n    @stopListeningResize()\n    detector = @ensureResizeDetectorExist()\n    @lastRenderWidth = detector.innerWidth\n    @resizeRender = (->\n      clearTimeout @_resizeRendering\n      @_resizeRendering = setTimeout (=>\n        currentWidth = detector.innerWidth\n        return if currentWidth <= @lastRenderWidth\n        @lastRenderWidth = currentWidth\n        @render()\n      ), @config().resizeRenderDelay\n    ).bind this\n    detector.addEventListener 'resize', @resizeRender\n\n  stopListeningResize: ->\n    @ensureResizeDetectorExist()?.removeEventListener 'resize', @resizeRender\n    @resizeRender = null\n\n  render: ->\n    clearTimeout @_rendering\n    @_rendering = setTimeout =>\n      unit = @timeline().unit()\n      groups = @timeline()[\"#{unit}s\"]()\n      @renderForeground groups\n      @renderBackground groups\n      return unless @ensureOccupyFullWidth()\n      @listenResize()\n      @timeline().trigger 'after-render'\n\n.help\n\n  create: ->\n    @timeline().on \"after-update.#{@id}\", (event, updated) =>\n      @render()\n    @render()\n\n  destroy: ->\n    clearTimeout @_rendering\n    clearTimeout @_resizeRendering\n    @stopListeningResize()\n    @timeline()?.off \"after-update.#{@id}\"\n","import modelable from '../../mixins/modelable.coffee'\nimport {capitalize} from '../../utilities/string.coffee'\nimport {rootTaskActions} from '../../models/task/task.coffee'\n\n\n\nluda.component 'kickoffHeader'\n\n.protect modelable.all()\n\n.protect\n\n  render: ->\n    clearTimeout @_rendering\n    @_rendering = setTimeout =>\n      @root.html @template()\n      @executeCustomActionsRenderer()\n      @executeCustomNavigationsRenderer()\n\n  customRenderers: ->\n    [renderers, actions] = [{}, @model().actions()]\n    for type in ['Actions', 'Navigations']\n      renderer = @config()[\"renderHeader#{type}\"]\n      renderers[\"render#{type}\"] = renderer if renderer\n    for action in actions\n      rendererName = \"renderHeaderAction#{capitalize action}\"\n      renderer = @config()[rendererName]\n      unless rootTaskActions.includes action\n        console.error \"Custom action #{action} is defined, but custom render\n        #{rendererName} is not defined.\" unless renderer\n      renderers[\"render#{capitalize action}\"] = renderer if renderer\n    renderers\n\n  executeCustomActionsRenderer: ->\n    renderers = @customRenderers()\n    renderActions =  renderers.renderActions\n    if renderActions\n      actionsContainer = @root.find('.kickoff-header-actions').get 0\n      return renderActions.call @model(), @model(), actionsContainer\n    for action in @model().actions()\n      if renderAction = renderers[\"render#{capitalize action}\"]\n        actionSlot = \".kickoff-header-actions\n                     .with-custom-action-renderer-#{luda.dashCase action}\"\n        actionContainer = @root.find(actionSlot).get(0)\n        renderAction.call @model(), @model(), actionContainer\n\n  executeCustomNavigationsRenderer: ->\n    {renderNavigations} = @customRenderers()\n    return unless renderNavigations\n    navigationsContainer = @root.find('.kickoff-header-navigations').get 0\n    renderNavigations.call @model(), @model(), navigationsContainer\n\n  template: ->\n    \"#{@actionsTemplate()}#{@navigationsTemplate()}\"\n\n  actionsTemplate: ->\n    [uid, renderers] = [@model().uid, @customRenderers()]\n    if renderers.renderActions\n      return \"<div class='kickoff-header-actions\n              with-custom-actions-renderer'></div>\"\n    return '' unless (actions = @model().actions()).length\n    customRendererSlot = (action) ->\n      action = luda.dashCase action\n      \"<div class='with-custom-action-renderer-#{action}'></div>\"\n    defaultRenderer = (action) ->\n      return \"<div class='kickoff-buttons-state-switch'\n             data-uid='#{uid}'></div>\" if action is 'switchState'\n      if action is 'destroyDescendants'\n        cls = 'destroy-task'\n      else if ['createTask', 'createMilestone'].includes action\n        cls = luda.dashCase action\n      return \"<button class='kickoff-button-#{cls}'\n             data-uid='#{uid}'></button>\" if cls\n      customRendererSlot action\n    html = \"\"\n    for action in actions\n      customRenderer = renderers[\"render#{capitalize action}\"]\n      render = if customRenderer then customRendererSlot else defaultRenderer\n      html += render action\n    \"<div class='kickoff-header-actions'>#{html}</div>\"\n\n  navigationsTemplate: ->\n    [uid, renderers] = [@model().uid, @customRenderers()]\n    if renderers.renderNavigations\n      return \"<div class='kickoff-header-navigations\n              with-custom-navigations-renderer'></div>\"\n    tpl = \"<div class='kickoff-header-navigations'>\"\n    if @config().renderGantt\n      tpl += \"<div class='kickoff-buttons-unit-zoom'\n              data-uid='#{uid}'>\n              </div>\"\n    if @config().renderTable and @config().renderGantt\n      tpl += \"<div class='kickoff-buttons-view-switch'\n              data-uid='#{uid}'>\n              </div>\"\n    tpl += \"</div>\"\n    tpl\n\n.help\n\n  create: ->\n    @render()\n    @model().on \"after-update.#{@id}\", (event, updated) =>\n      return unless event.target is @model()\n      return unless updated.actions\n      @render()\n\n  destroy: ->\n    clearTimeout @_rendering\n    @model()?.off \"after-update.#{@id}\"\n","luda.component 'kickoffModal'\n\n.include\n\n  activate: ->\n    @root.addClass 'kickoff-modal-active'\n    @root.trigger 'after-activate'\n\n  deactivate: ->\n    @root.removeClass 'kickoff-modal-active'\n    @root.trigger 'after-deactivate'\n\n  toggle: -> @root.toggleClas 'kickoff-modal-active'\n\n.protect\n\n  tryDeactivate: (event) ->\n    return @deactivate() if event.eventPath().includes @closeButton.get(0)\n    return if event.eventPath().includes @modalBody.get(0)\n    @deactivate()\n\n.help\n\n  listen: ->\n    [['click', @tryDeactivate]]\n\n  find: ->\n    modalBody: '.kickoff-modal-body'\n    closeButton: '.kickoff-button-close-modal'\n","clientX = clientY = 0\n\nluda.component 'kickoffProper'\n\n.protect\n\n  action: -> @root.data('proper-action') or 'hover'\n\n.protect\n\n  deferTime: 300\n\n.protect\n\n  viewPortDimensions: ->\n    width: luda(window).innerWidth()\n    height: luda(window).innerHeight()\n\n  selfDimensions: ->\n    @root.get(0).getBoundingClientRect()\n\n  popoverDimensions: ->\n    @popover.get(0).getBoundingClientRect()\n\n.include\n\n  activate: (event) ->\n    return unless @popover.length\n    return if @root.hasClass 'kickoff-proper-active'\n    @root.addClass 'kickoff-proper-preactive'\n    selfDimensions = @selfDimensions()\n    popoverDimensions = @popoverDimensions()\n    viewPortDimensions = @viewPortDimensions()\n    maxLeft = viewPortDimensions.width - popoverDimensions.width\n    maxTop = viewPortDimensions.height - popoverDimensions.height\n    # left = event.clientX or selfDimensions.left\n    left = clientX or selfDimensions.left\n    top = selfDimensions.bottom\n    if left > maxLeft\n      @popover.addClass('kickoff-proper-popover-right').css {right: 0}\n    else\n      @popover.addClass('kickoff-proper-popover-left').css {left}\n    if top > maxTop\n      top = selfDimensions.top - popoverDimensions.height\n      @popover.addClass('kickoff-proper-popover-top').css {top}\n    else\n      @popover.addClass('kickoff-proper-popover-bottom').css {top}\n    @root.removeClass('kickoff-proper-preactive')\n    .addClass 'kickoff-proper-active'\n\n  deactivate: (event) ->\n    return unless @popover.length\n    return unless @root.hasClass 'kickoff-proper-active'\n    @root.removeClass('kickoff-proper-active kickoff-proper-preactive')\n    @popover.removeClass(\"kickoff-proper-popover-left kickoff-proper-popover-top\n    kickoff-proper-popover-right kickoff-proper-popover-bottom\")\n    .removeCss('left').removeCss('top').removeCss('right')\n\n  deferActivate: (event) ->\n    clearTimeout @_defer\n    @_defer = setTimeout (=> @activate event), @deferTime\n\n  deferDeactivate: (event) ->\n    clearTimeout @_defer\n    @_defer = setTimeout (=> @deactivate event), @deferTime\n\n.protect\n\n  mouseupActivateForHoverAction: ->\n    return unless @action() is 'hover'\n    clearTimeout @_mousedownDeactivateDefer\n    setTimeout (=> @root.removeClass 'kickoff-proper-tmp-hide'), @deferTime\n\n  mousedownDeactivateForHoverAction: (event) ->\n    return unless @action() is 'hover'\n    return if event and event.eventPath().includes @popover.get(0)\n    clearTimeout @_mousedownDeactivateDefer\n    @root.addClass 'kickoff-proper-tmp-hide'\n\n.help\n\n  create: ->\n    return unless @action() is 'focus'\n    @root.attr('tabindex', 0) unless @root.attr('tabindex') >= 0\n\n  destroy: ->\n    clearTimeout @_defer\n    @deactivate()\n    @mousedownDeactivateForHoverAction()\n\n  listen: ->\n    [\n      ['mouseenter focus', @deferActivate]\n      ['mouseleave blur', @deferDeactivate]\n      ['mousedown', @mousedownDeactivateForHoverAction]\n      ['mouseup', @mouseupActivateForHoverAction]\n      ['mousemove', (event) -> {clientX, clientY} = event]\n      ['mousewheel', -> luda.kickoffProper().deactivate()]\n    ]\n\n  find: ->\n    popover: '.kickoff-proper-popover'\n\n","import Task from '../../models/task/index.coffee'\nimport modelable from '../../mixins/modelable.coffee'\nimport localeable from '../../mixins/localeable.coffee'\nimport {capitalize} from '../../utilities/string.coffee'\n\n\n\nluda.component 'kickoffTable'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.protect\n\n  ascTasks: ->\n    Task.asc @rootTask().descendants()...\n\n.protect\n\n  template: ->\n    \"<table class='kickoff-table-content'>\n      #{@headTemplate()}#{@bodyTemplate()}\n    </table>\"\n\n  headTemplate: ->\n    titles = ''\n    for column in @config().tableColumns\n      if 'title' of column\n        titleText = column.title\n      else\n        titleText = @l(\"task.props.#{column.prop}\") or capitalize(column.prop)\n      titles += \"<th>#{titleText}</th>\"\n    \"<thead class='kickoff-table-header' data-uid='#{@rootTask().uid}'>\n      <tr class='kickoff-table-header-row'>#{titles}</tr>\n     </thead>\"\n\n  bodyTemplate: ->\n    \"<tbody class='kickoff-table-tasks' data-uid='#{@rootTask().uid}'></tbody>\"\n\n  taskTemplate: (task) ->\n    \"<tr class='kickoff-table-task' data-uid='#{task.uid}'></tr>\"\n\n  render: ->\n    @root.html @template()\n    @insertTaskDoms()\n\n.protect\n\n  tasksContainerDom: -> @root.find '.kickoff-table-tasks'\n\n  findTaskDom: (task) ->\n    @tasksContainerDom().find \".kickoff-table-task[data-uid='#{task.uid}']\"\n\n  insertTaskDom: (task) ->\n    return luda.kickoffTableTask(d).render() if (d = @findTaskDom task).length\n    task.one \"after-render-in-table.#{@id}\", =>\n      node = @findTaskDom(task).get 0\n      if node.scrollIntoViewIfNeeded\n        node.scrollIntoViewIfNeeded()\n      else\n        node.scrollIntoView()\n    rowIndex = @ascTasks().indexOf task\n    taskRow = luda @tasksContainerDom().get(0).insertRow(rowIndex)\n    taskRow.prop 'outerHTML', @taskTemplate(task)\n\n  removeTaskDom: (task) -> @findTaskDom(task).remove()\n\n  insertTaskDoms: ->\n    @tasksContainerDom().html @ascTasks().map((t) => @taskTemplate t).join('')\n\n.help\n\n  create: ->\n    @rootTask().on \"after-create.#{@id}\", (event) =>\n      return if event.target.isRoot()\n      @insertTaskDom event.target\n    @rootTask().on \"after-destroy.#{@id}\", (event) =>\n      return if event.target.isRoot()\n      @removeTaskDom event.target\n    @render()\n\n  destroy: ->\n    @rootTask()?.off \"after-create.#{@id}\"\n    @rootTask()?.off \"after-destroy.#{@id}\"\n","import modelable from '../../mixins/modelable.coffee'\nimport {capitalize} from '../../utilities/string.coffee'\nimport {taskActions} from '../../models/task/task.coffee'\nimport localeable from '../../mixins/localeable.coffee'\n\n\n\nluda.component 'kickoffTableTask'\n\n.protect modelable.all()\n\n.protect localeable.all()\n\n.include\n\n  render: ->\n    clearTimeout @_rendering\n    @_rendering = setTimeout =>\n      return unless model = @model()\n      @root.html @template()\n      @setCls()\n      @executeCustomRenderers()\n      model.trigger 'after-render-in-table'\n\n.protect\n\n  template: ->\n    model = @model()\n    @config().tableColumns.map((column) =>\n      {prop, render} = column\n      dashedProp = luda.dashCase prop\n      hasCustomRender = luda.isFunction render\n      hasCustomRender ||= prop is 'actions' and @customRenderers().renderActions\n      if hasCustomRender\n        html = \"<div class='with-custom-#{dashedProp}-renderer'></div>\"\n      else\n        tplName = \"#{prop}Template\"\n        html = if tplName of this then @[tplName](column) else model.data[prop]\n        html = '' unless html?\n      \"<td data-prop='#{prop}'>#{html}</td>\"\n    ).join ''\n\n  typeTemplate: (column = {}) ->\n    @l \"task.types.#{@model().data.type}\"\n\n  durationTemplate: (column = {}) ->\n    dayCount = Math.round @model().duration().days\n    \"#{dayCount} #{@l 'task.durationUnits.day'}\"\n\n  predecessorsTemplate: (column = {}) ->\n    @model().deps().map((depc) -> depc.data.wbs).join ', '\n\n  successorsTemplate: (column = {}) ->\n    @model().depd().map((depd) -> depd.data.wbs).join ', '\n\n  actionsTemplate: (column = {}) ->\n    [model, renderers] = [@model(), @customRenderers()]\n    [uid, actions] = [model.uid, model.actions()]\n    return '' unless actions.length\n    customRendererSlot = (action) ->\n      \"<div class='with-custom-action-renderer-#{luda.dashCase action}'></div>\"\n    defaultRenderer = (action) ->\n      if ['pick', 'fold', 'destroy'].includes action\n        cls = \"#{action}-task\"\n      else if action is 'update'\n        cls = 'edit-task'\n      else if ['createTask', 'createMilestone'].includes action\n        cls = luda.dashCase action\n      if cls\n        \"<button class='kickoff-button-#{cls}' data-uid='#{uid}'></button>\"\n      else\n        customRendererSlot action\n    html = \"\"\n    for action in actions\n      customRenderer = renderers[\"renderAction#{capitalize action}\"]\n      render = if customRenderer then customRendererSlot else defaultRenderer\n      html += render action\n    html\n\n.protect\n\n  setCls: ->\n    oldHidden = Boolean @_isHidden\n    @_isHidden = Boolean @model().isHidden\n    @root.toggleClass 'is-picked', Boolean(@model().isPicked)\n    @root.toggleClass 'is-milestone', @model().isMilestone()\n    @root.toggleClass 'is-task', @model().isTask()\n    @root.toggleClass 'is-folded', Boolean(@model().isFolded)\n    @root.toggleClass 'is-hidden', @_isHidden\n    return if oldHidden is @_isHidden\n    @model().trigger 'after-toggle-in-table', @_isHidden\n\n  customRenderers: ->\n    [renderers, modelType] = [{}, capitalize(@model().type())]\n    customActionsRenderer = @config()[\"renderTable#{modelType}Actions\"]\n    renderers.renderActions = customActionsRenderer if customActionsRenderer\n    actionTypes = (action for action in @model().actions())\n    for t in actionTypes\n      cap = capitalize t\n      configRendererName = \"renderTable#{modelType}Action#{cap}\"\n      customRenderer = @config()[configRendererName]\n      unless taskActions.includes t\n        console.error \"Custom action #{t} is defined, but #{configRendererName}\n                      is not defined.\" unless customRenderer\n      renderers[\"renderAction#{cap}\"] = customRenderer if customRenderer\n    renderers\n\n  executeCustomRenderers: ->\n    for column in @config().tableColumns\n      {prop, render} = column\n      if prop is 'actions'\n        @executeCustomActionRenderers column\n      else if render\n        selector = \".with-custom-#{luda.dashCase prop}-renderer\"\n        container = @root.find(selector).get 0\n        render.call @model(), @model(), container\n\n  executeCustomActionRenderers: (column = {}) ->\n    renderers = @customRenderers()\n    renderActions = column.render or renderers.renderActions\n    @root.toggleClass 'with-custom-actions-renderer', Boolean(renderActions)\n    if renderActions\n      return if @model().isHidden\n      actionsContainer = @root.find('.with-custom-actions-renderer').get 0\n      return renderActions.call @model(), @model(), actionsContainer\n    for action in @model().actions()\n      if renderAction = renderers[\"renderAction#{capitalize action}\"]\n        actionSlot = \".with-custom-action-renderer-#{luda.dashCase action}\"\n        actionContainer = @root.find(actionSlot).get(0)\n        renderAction.call @model(), @model(), actionContainer\n\n.help\n\n  create: ->\n    return unless model = @model()\n    @render()\n    model.on \"after-update.#{@id}\", (event, updated) =>\n      @render() if model is event.target\n\n  destroy: ->\n    clearTimeout @_rendering\n    @model()?.off \"after-update.#{@id}\"\n","import {Timeline, mustBeTimeline} from './timeline.coffee'\nimport {\n  CustomEvent\n  mustBeValidCallback\n  nsMatches\n  parseEvent\n} from '../../utilities/event.coffee'\n\n\n\nclass TimelineEvent extends CustomEvent\n\n\n\neventCache = (timeline, type) ->\n  cache = timeline.events\n  cache[type] ||= []\n\naddEvent = (timeline, event, callback, _one = false) ->\n  mustBeTimeline timeline\n  {type, namespace} = parseEvent event\n  mustBeValidCallback callback\n  eventCache(timeline, type).push {namespace, callback, _one}\n\naddEventOnce = (timeline, event, callback) ->\n  addEvent timeline, event, callback, true\n\nremoveEvent = (timeline, event, callback) ->\n  mustBeTimeline timeline\n  {type, namespace} = parseEvent event if event\n  mustBeValidCallback callback if callback\n  eventCache timeline, type\n  types = if type then [type] else Object.keys timeline.events\n  for type in types\n    timeline.events[type] = eventCache(timeline, type).filter (q) ->\n      return true if callback and callback isnt q.callback\n      return true if namespace and namespace.length and \\\n      not nsMatches namespace, q.namespace\n\ntriggerEvent = (timeline, event, detail) ->\n  mustBeTimeline timeline\n  return unless timeline.created\n  {type, namespace} = parseEvent event\n  timelineEvent = new TimelineEvent timeline, event, detail\n  timelineEvent.currentTarget = timeline\n  eventCache(timeline, type).some (q) ->\n    return unless nsMatches namespace, q.namespace\n    if q.callback.call(timeline, timelineEvent, timelineEvent.detail) is false\n      timelineEvent.stopPropagation()\n      timelineEvent.preventDefault()\n    removeEvent timeline, event, q.callback if q._one\n    timelineEvent.isImmediatePropagationStopped()\n  not timelineEvent.isDefaultPrevented()\n\nTimeline.prototype.on = (event, callback) ->\n  addEvent this, event, callback\n  this\n\nTimeline.prototype.one = (event, callback) ->\n  addEventOnce this, event, callback\n  this\n\nTimeline.prototype.off = (event, callback) ->\n  removeEvent this, event, callback\n  this\n\nTimeline.prototype.trigger = (event, detail) ->\n  triggerEvent this, event, detail\n  this\n\n\n\nexport {\n  addEvent\n  addEventOnce\n  removeEvent\n  triggerEvent\n}\n","import {Timeline, mustBeTimeline} from './timeline.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\n\nunits = ['hour', 'day', 'week', 'month', 'year']\n\navaliableUnits = -> units\n\nmustBeValidUnit = (unit) ->\n  unless units.includes unit\n    throw new Error 'unit must be one of hour, day, week, month and year'\n\nunit = (timeline, newUnit) ->\n  mustBeTimeline timeline\n  oldVal = timeline._unit\n  return oldVal unless newUnit\n  mustBeValidUnit newUnit\n  newVal = timeline._unit = newUnit\n  detail = {unit: {oldVal, newVal}}\n  triggerEvent timeline, 'after-touch', detail\n  unless newVal is oldVal\n    triggerEvent timeline, 'after-update', detail\n\nTimeline.prototype.unit = (newUnit) ->\n  result = unit this, newUnit\n  return result unless newUnit\n  this\n\nTimeline.avaliableUnits = avaliableUnits\n\nTimeline.prototype.avaliableUnits = -> avaliableUnits()\n\n\n\nexport {\n  unit\n  avaliableUnits\n  unit as default\n}\n","import {Time} from '../time/index.coffee'\nimport {Timeline, mustBeTimeline} from './timeline.coffee'\nimport {unit} from './unit.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\nbeginningIncludePadding = (timeline, beginVal) ->\n  mustBeTimeline timeline\n  m = Time.methodNames unit(timeline)\n  new Time(beginVal)[m.prevUnit](timeline._padding)[m.beginningOfUnit]()\n\nbeginning = (timeline, newBegin) ->\n  mustBeTimeline timeline\n  oldVal = timeline._beginning\n  return oldVal unless newBegin\n  newVal = timeline._beginning = beginningIncludePadding timeline, newBegin\n  detail = {beginning: {oldVal, newVal}}\n  triggerEvent timeline, 'after-touch', detail\n  unless newVal.equals oldVal\n    triggerEvent timeline, 'after-update', detail\n\nTimeline.prototype.beginning = (newBegin) ->\n  result = beginning this, newBegin\n  return result unless newBegin\n  this\n\n\n\nexport {\n  beginning\n  beginning as default\n  beginningIncludePadding\n}\n","import {Timeline} from './timeline.coffee'\n\n\n\ncreate = (args...) -> new Timeline args...\n\nTimeline.create = create\n\n\n\nexport {\n  create\n  create as default\n}\n","import {Time} from '../time/index.coffee'\nimport {Timeline, mustBeTimeline} from './timeline.coffee'\nimport {unit} from './unit.coffee'\nimport {beginning} from './beginning.coffee'\nimport {triggerEvent} from './event.coffee'\n\n\nendIncludePadding = (timeline, endVal) ->\n  mustBeTimeline timeline\n  m = Time.methodNames unit(timeline)\n  endVal = new Time(endVal)[m.endOfUnit]()\n  begin = beginning timeline\n  padding = timeline._padding\n  beginNoPadding = begin[m.nextUnit](padding)[m.beginningOfUnit]()\n  range = endVal.since(beginNoPadding)[\"#{unit(timeline)}s\"]\n  leastRange = timeline._leastRange\n  endVal = beginNoPadding[m.nextUnit](leastRange) if range < leastRange\n  endVal[m.nextUnit](padding)[m.endOfUnit]()\n\nend = (timeline, newEnd) ->\n  mustBeTimeline timeline\n  oldVal = timeline._end\n  return oldVal unless newEnd\n  newVal = timeline._end = endIncludePadding timeline, newEnd\n  detail = {end: {oldVal, newVal}}\n  triggerEvent timeline, 'after-touch', detail\n  unless newVal.equals oldVal\n    triggerEvent timeline, 'after-update', detail\n\nTimeline.prototype.end = (newEnd) ->\n  result = end this, newEnd\n  return result unless newEnd\n  this\n\n\n\nexport {\n  end\n  end as default\n  endIncludePadding\n}\n","import {Timeline, mustBeTimeline} from './timeline.coffee'\nimport {beginning} from './beginning.coffee'\nimport {end} from './end.coffee'\n\n\n\nduration = (timeline, secs) ->\n  mustBeTimeline timeline\n  return end(timeline).since(beginning timeline) unless secs\n  newEnd = beginning(timeline).nextSecond secs\n  end timeline, newEnd\n\nTimeline.prototype.duration = (secs) ->\n  result = duration this, secs\n  return result unless secs?\n  this\n","import Time from '../time/index.coffee'\nimport {Timeline, mustBeTimeline} from './timeline.coffee'\nimport {beginning, beginningIncludePadding} from './beginning.coffee'\nimport {end, endIncludePadding} from './end.coffee'\n\n\n\nfit = (timeline, beginVal, endVal, mode = 'both') ->\n  mustBeTimeline timeline\n  c = timeline._fitCache ||= {}\n  unitSame = c.unit is timeline._unit\n  beginSame = c.beginVal is beginVal\n  beginSame ||= new Time(c.beginVal).equals(new Time beginVal)\n  endSame = c.endVal is endVal\n  endSame ||= new Time(c.endVal).equals(new Time endVal)\n  return false if unitSame and beginSame and endSame\n  unless mode is 'both'\n    [currentBegin, currentEnd] = [beginning(timeline), end(timeline)]\n    newBegin = beginningIncludePadding timeline, beginVal\n    newEnd = endIncludePadding timeline, endVal\n    if mode is 'grow'\n      shouldUpdate = currentBegin.laterThan newBegin\n      shouldUpdate ||= currentEnd.earlierThan newEnd\n    else if mode is 'shrink'\n      shouldUpdate = currentBegin.earlierThan newBegin\n      shouldUpdate ||= currentEnd.laterThan newEnd\n    else\n      throw new Error \"Invalid mode: #{mode}\"\n    return false unless shouldUpdate\n  timeline._fitCache = {beginVal, endVal, unit: timeline._unit}\n  beginning timeline, beginVal\n  end timeline, endVal\n  true\n\nTimeline.prototype.fit = (beginVal, endVal, mode) ->\n  fit this, beginVal, endVal, mode\n\n\n\nexport {\n  fit\n  fit as default\n}\n","import {Time} from '../time/index.coffee'\nimport {Timeline, mustBeTimeline} from './timeline.coffee'\nimport {beginning} from './beginning.coffee'\nimport {end} from './end.coffee'\n\n\n\nyears = (timeline) ->\n  mustBeTimeline timeline\n  [beginTime, endTime] = [beginning(timeline), end(timeline)]\n  Time.devideByYear(beginTime, endTime).map (year) ->\n    Object.assign year, {\n      unit: 'year'\n      depth: 0\n      label: year.beginning.year,\n      inclusions: includedRanges(timeline, year),\n      exclusions: excludedRanges(timeline, year),\n      flags: flagsInRange(timeline, year)\n    }\n\nmonths = (timeline) ->\n  mustBeTimeline timeline\n  [year, units] = [-1, []]\n  [beginTime, endTime] = [beginning(timeline), end(timeline)]\n  for month in Time.devideByMonth beginTime, endTime\n    unless year is month.beginning.year\n      year = month.beginning.year\n      units.push {\n        unit: 'year', depth: 0, label: year, groups: [],\n        beginning: month.beginning.beginningOfTheYear(),\n        end: month.beginning.endOfTheYear()\n      }\n    units[units.length - 1].groups.push Object.assign(month, {\n      unit: 'month', depth: 1, label: month.beginning.month,\n      inclusions: includedRanges(timeline, month),\n      exclusions: excludedRanges(timeline, month),\n      flags: flagsInRange(timeline, month)\n    })\n  units\n\nweeks = (timeline) ->\n  mustBeTimeline timeline\n  [year, units] = [-1, []]\n  [beginTime, endTime] = [beginning(timeline), end(timeline)]\n  splited = Time.devideByWeek beginTime, endTime\n  for week, index in splited\n    unless year is week.beginning.year\n      year = week.beginning.year\n      units.push {\n        unit: 'year', depth: 0, label: year, groups: [],\n        beginning: week.beginning.beginningOfTheYear(),\n        end: week.beginning.endOfTheYear()\n      }\n    weekAssignments = {\n      unit: 'week', depth: 1, label: week.beginning.weekOfTheYear()\n    }\n    unless week.beginning.year is week.end.year\n      weekAssignments.end = week.beginning.endOfTheYear()\n      splited.splice(index + 1, 0, {\n        beginning: week.end.beginningOfTheYear()\n        end: week.end\n      })\n    toBePushed = Object.assign(week, weekAssignments)\n    toBePushed.inclusions = includedRanges(timeline, toBePushed)\n    toBePushed.exclusions = excludedRanges(timeline, toBePushed)\n    toBePushed.flags = flagsInRange(timeline, toBePushed)\n    units[units.length - 1].groups.push toBePushed\n  units\n\ndays = (timeline) ->\n  mustBeTimeline timeline\n  [monthLabel, units] = ['', []]\n  [beginTime, endTime] = [beginning(timeline), end(timeline)]\n  for day in Time.devideByDay beginTime, endTime\n    _monthLabel = day.beginning.toString('{yyyy}-{mm}')\n    unless monthLabel is _monthLabel\n      monthLabel = _monthLabel\n      units.push {\n        unit: 'month', depth: 0, label: monthLabel, groups: [],\n        beginning: day.beginning.beginningOfTheMonth(),\n        end: day.beginning.endOfTheMonth()\n      }\n    units[units.length - 1].groups.push Object.assign(day, {\n      unit: 'day', depth: 1, label: day.beginning.day,\n      isWeekend: day.beginning.isWeekend(),\n      inclusions: includedRanges(timeline, day),\n      exclusions: excludedRanges(timeline, day),\n      flags: flagsInRange(timeline, day)\n    })\n  units\n\nhours = (timeline) ->\n  mustBeTimeline timeline\n  [dayLabel, units] = ['', []]\n  [beginTime, endTime] = [beginning(timeline), end(timeline)]\n  for hour in Time.devideByHour beginTime, endTime\n    _dayLabel = hour.beginning.toString('{yyyy}-{mm}-{dd}')\n    unless dayLabel is _dayLabel\n      dayLabel = _dayLabel\n      units.push {\n        unit: 'day', depth: 0, label: dayLabel, groups: [],\n        beginning: hour.beginning.beginningOfTheDay(),\n        end: hour.beginning.endOfTheDay()\n      }\n    units[units.length - 1].groups.push Object.assign(hour, {\n      unit: 'hour', depth: 1, label: hour.beginning.hours,\n      inclusions: includedRanges(timeline, hour),\n      exclusions: excludedRanges(timeline, hour),\n      flags: flagsInRange(timeline, hour)\n    })\n  units\n\ncoincidentRanges = (rangeArr = [], range) ->\n  coincidents = []\n  rangeArr.forEach (t) ->\n    [tBegin, tEnd] = [new Time(t.beginning), new Time(t.end)]\n    return unless tBegin.earlierThan range.end\n    return unless tEnd.laterThan range.beginning\n    b = if tBegin.earlierThan range.beginning then range.beginning else tBegin\n    e = if tEnd.laterThan range.end then range.end else tEnd\n    coincidents.push beginning: b, end: e\n  coincidents\n\nincludedRanges = (timeline, range) ->\n  mustBeTimeline timeline\n  coincidentRanges timeline._inclusions, range\n\nexcludedRanges = (timeline, range) ->\n  mustBeTimeline timeline\n  coincidentRanges timeline._exclusions, range\n\nflagsInRange = (timeline, range) ->\n  mustBeTimeline timeline\n  timeline._flags.filter((t) ->\n    return false if range.beginning.laterThan t.time\n    return false if range.end.earlierThan t.time\n    true\n  ).map (flag) -> Object.assign {}, flag, {time: new Time flag.time}\n\nTimeline.prototype.years = -> years this\n\nTimeline.prototype.months = -> months this\n\nTimeline.prototype.weeks = -> weeks this\n\nTimeline.prototype.days = -> days this\n\nTimeline.prototype.hours = -> hours this\n\n\n\nexport {\n  years\n  months\n  weeks\n  days\n  hours\n}\n","import {Timeline, mustBeTimeline} from './timeline.coffee'\n\n\n\nupdate = (timeline, data = {}) ->\n  mustBeTimeline timeline\n  throw new Error \"Not implemmented\"\n\n\n\nTimeline.prototype.update = (data) ->\n  update this, data\n  this\n\n\n\nexport {\n  update\n  update as default\n}\n","import Time from '../models/time/index.coffee'\nimport Task from '../models/task/index.coffee'\nimport Timeline from '../models/timeline/index.coffee'\nimport store from '../models/store.coffee'\n\n\n\nclass Kickoff\n\n  constructor: (conf = {}, tasks = []) ->\n    @node = luda conf.target\n    unless @node.length\n      throw new Error \"No HTML element detected by: #{conf.target}\"\n    if @node.length > 1\n      console.warn \"Models are shared among multiple kickoff components\"\n    if @node.hasClass 'kickoff'\n      {root, timeline, config} = store.relations(@node.data 'uid')\n      [@task, @timeline, @config] = [root, timeline, config]\n      console.warn \"The kickoff instance being constructed has already been\n      initialized. You don't have to construct it again.\n      If you need rerender it, use the `render` method. For reconfiguring,\n      use the `configure` method.\n      If it's really necessary to reconstruct the instance, please call the\n      `destroy` method first, then construct a new instance.\"\n      return this\n    conf = @configure conf, true\n    @task = Task.create conf.task\n    @task.create tasks...\n    @task.popUndoState() if tasks.length\n    @timeline = Timeline.create conf.timeline\n    store.create @task, @timeline, @config\n    @render()\n\n  render: ->\n    tpl = \"<main class='kickoff-main' data-uid='#{@task.uid}'>\"\n    if @config.renderHeader\n      tpl += \"<header class='kickoff-header' data-uid='#{@task.uid}'></header>\"\n    if @config.renderGantt\n      tpl += \"<div class='kickoff-gantt' data-uid='#{@task.uid}'></div>\"\n    if @config.renderTable\n      tpl += \"<div class='kickoff-table' data-uid='#{@task.uid}'></div>\"\n    tpl += \"</main>\"\n    rootCls = 'kickoff'\n    if @config.renderTable and not @config.renderGantt\n      rootCls += ' view-switch-to-table'\n    @node.addClass(rootCls).data('uid', @task.uid).html tpl\n    this\n\n  configure: (conf = {}, _returnSplited) ->\n    delete conf.uid\n    isCreated = @task and @timeline\n    return this if isCreated and Object.keys(conf).length is 0\n    @config = {uid: luda.guid()} unless isCreated\n    Object.assign(\n      @config,\n      (taskConf = @_taskConf conf),\n      (timelineConf = @_timelineConf conf),\n      (uiConf = @_uiConf conf)\n    )\n    splitedReturnValue = {task: taskConf, timeline: timelineConf, ui: uiConf}\n    unless isCreated\n      return if _returnSplited then splitedReturnValue else this\n    @node.html ''\n    @task.update taskConf\n    @timeline.update timelineConf\n    @render()\n    if _returnSplited then splitedReturnValue else this\n\n  destroy: ->\n    uid = @task.uid\n    @node.html('').removeClass('kickoff').data('uid', null)\n    store.destroy uid\n    delete @[key] for key of this\n\n  _taskConf: (conf = {}) ->\n    config = {\n      exclusions: []\n      excludeWeekends: true\n      inclusions: []\n      minDurationSeconds: 3600 * 24 - 1\n      maxHistorySize: Infinity\n      actions: [\n        'createTask', 'createMilestone', 'destroyDescendants', 'switchState'\n      ]\n      finishToStartCompensatorySeconds: 0\n      startToFinishCompensatorySeconds: 0\n      startToStartCompensatorySeconds: 0\n      finishToFinishCompensatorySeconds: 0\n    }\n    @_mergeConf config, conf\n    config\n\n  _timelineConf: (conf = {}) ->\n    config = {\n      exclusions: []\n      excludeWeekends: true\n      inclusions: []\n      flags: []\n    }\n    @_mergeConf config, conf\n    config\n\n  _uiConf: (conf = {}) ->\n    config =\n      resizeRenderDelay: 1000\n      renderHeader: true\n      renderHeaderActions: null\n      renderHeaderNavigations: null\n      renderHeaderActionCreateTask: null\n      renderHeaderActionCreateMilestone: null\n      renderHeaderActionDestroyDescendants: null\n      renderHeaderActionSwitchState: null\n      enableGanttAccurateTimeOperations: true\n      renderGantt: true\n      renderGanttTaskGraph: null\n      renderGanttTaskSummary: null\n      renderGanttTaskActions: null\n      renderGanttTaskActionPick: null\n      renderGanttTaskActionFold: null\n      renderGanttTaskActionUpdate: null\n      renderGanttTaskActionDestroy: null\n      renderGanttTaskActionCreateTask: null\n      renderGanttTaskActionCreateMilestone: null\n      renderGanttTaskLinkActions: null\n      renderGanttMilestoneGraph: null\n      renderGanttMilestoneSummary: null\n      renderGanttMilestoneActions: null\n      renderGanttMilestoneActionPick: null\n      renderGanttMilestoneActionUpdate: null\n      renderGanttMilestoneActionDestroy: null\n      renderGanttMilestoneLinkActions: null\n      tableColumns: [\n        {prop: 'actions', render: null}\n        {prop: 'wbs', render: null}\n        {prop: 'type', render: null}\n        {prop: 'name', render: null}\n        {prop: 'beginning', render: null}\n        {prop: 'end', render: null}\n        {prop: 'duration', render: null}\n        {prop: 'predecessors', render: null}\n        {prop: 'successors', render: null}\n      ]\n      renderTable: true\n      renderTableTaskActions: null\n      renderTableTaskActionPick: null\n      renderTableTaskActionFold: null\n      renderTableTaskActionUpdate: null\n      renderTableTaskActionDestroy: null\n      renderTableTaskActionCreateTask: null\n      renderTableTaskActionCreateMilestone: null\n      renderTableMilestoneActions: null\n      renderTableMilestoneActionPick: null\n      renderTableMilestoneActionUpdate: null\n      renderTableMilestoneActionDestroy: null\n      # If the render property is defined:\n      # 1. If the data type of the filed value need be converted,\n      #    the convertion should be fullfilled by the custom render.\n      # 2. The options property of a select type editor is ignored.\n      # else\n      # 1. Field value type convertion can be automatically fullfiled according\n      #    to the type property and enum value types of the options property\n      # 2. The options property of a select type editor can be an array\n      #    or a function with a param named 'use' which is a function will be\n      #    called to fill the select options.\n      renderTaskForm: null\n      renderMilestoneForm: null\n      formFields: [\n        {\n          prop: 'wbs', type: 'text',\n          placeholder: 'E.g., 1.1', render: null\n        }\n        {\n          prop: 'name', type: 'text',\n          placeholder: 'E.g., A New Task', render: null\n        }\n        {\n          prop: 'beginning', type: 'time',\n          placeholder: 'E.g., 2020/01/01', render: null\n        }\n        {\n          prop: 'end', type: 'time',\n          placeholder: 'E.g., 2020/01/02', render: null\n        }\n        {\n          prop: 'predecessors', render: null,\n          fields: [{\n            prop: 'predecessors.startToStart',\n            type: 'select', multiple: true, options: [],\n            placeholder: 'E.g., 1, 2', render: null\n          }, {\n            prop: 'predecessors.startToFinish',\n            type: 'select', multiple: true, options: [],\n            placeholder: 'E.g., 3, 4', render: null\n          }, {\n            prop: 'predecessors.finishToFinish',\n            type: 'select', multiple: true, options: [],\n            placeholder: 'E.g., 5, 6', render: null\n          }, {\n            prop: 'predecessors.finishToStart',\n            type: 'select', multiple: true, options: [],\n            placeholder: 'E.g., 7, 8', render: null\n          }]\n        }\n        {\n          prop: 'successors', render: null,\n          fields: [{\n            prop: 'successors.startToStart',\n            type: 'select', multiple: true, options: [],\n            placeholder: 'E.g., 1, 2', render: null\n          }, {\n            prop: 'successors.startToFinish',\n            type: 'select', multiple: true, options: [],\n            placeholder: 'E.g., 3, 4', render: null\n          }, {\n            prop: 'successors.finishToFinish',\n            type: 'select', multiple: true, options: [],\n            placeholder: 'E.g., 5, 6', render: null\n          }, {\n            prop: 'successors.finishToStart',\n            type: 'select', multiple: true, options: [],\n            placeholder: 'E.g., 7, 8', render: null\n          }]\n        }\n      ]\n      locale:\n        header:\n          actions:\n            undo: 'Undo'\n            redo: 'Redo'\n          navigations:\n            zoomIn: 'Zoom In'\n            zoomOut: 'Zoom Out'\n            zoomUnits:\n              year: 'Year'\n              month: 'Month'\n              week: 'Week'\n              day: 'Day'\n              hour: 'Hour'\n            chartView: 'Chart View'\n            tableView: 'Table View'\n        task:\n          types:\n            task: 'Task'\n            milestone: 'Milestone'\n          actions:\n            createTask: 'New Task'\n            createMilestone: 'New Milestone'\n            destroyDescendants: 'Destroy Items'\n            createSubTask: 'Create a sub task'\n            createSubMilestone: 'Create a sub milestone'\n            updateTask: 'Edit this task'\n            updateMilestone: 'Edit this milestone'\n            destroyTask: 'Destroy this task'\n            destroyMilestone: 'Destroy this milestone'\n            pick: 'Pick this item'\n            unpick: 'Unpick this item'\n            fold: 'Fold descendants'\n            unfold: 'Unfold descendants'\n          props:\n            wbs: 'Wbs'\n            name: 'Name'\n            type: 'Type'\n            beginning: 'Beginning'\n            end: 'End'\n            time: 'Time'\n            duration: 'Duration'\n            predecessors:\n              $: 'Predecessors'\n              startToStart: 'Start to Start'\n              startToFinish: 'Start to Finish'\n              finishToFinish: 'Finish to Finish'\n              finishToStart: 'Finish to Start'\n            successors:\n              $: 'Successors'\n              startToStart: 'Start to Start'\n              startToFinish: 'Start to Finish'\n              finishToFinish: 'Finish to Finish'\n              finishToStart: 'Finish to Start'\n            actions: 'Actions'\n            readonlyProps: 'Readonly Properties'\n          durationUnits:\n            year: 'years'\n            month: 'months'\n            week: 'weeks'\n            day: 'days'\n            hour: 'hours'\n        timePicker:\n          whatDay:\n            sun: 'Sun'\n            mon: 'Mon'\n            thu: 'Thu'\n            wes: 'Wes'\n            thr: 'Thr'\n            fri: 'Fri'\n            sat: 'Sat'\n    modelConfKeys = Object.keys(\n      @_taskConf()\n    ).concat(\n      Object.keys @_timelineConf()\n    )\n    for key, val of conf\n      config[key] = val unless key is 'locale' or modelConfKeys.includes key\n    @_mergeLocaleConf config.locale, conf.locale\n    config\n\n  _mergeLocaleConf: (defaultConf, custom) ->\n    return defaultConf unless custom\n    for key, val of defaultConf\n      if typeof val is 'string'\n        defaultConf[key] = custom[key] if key of custom\n      else\n        @_mergeLocaleConf defaultConf[key], custom[key]\n    for key, val of custom\n      defaultConf[key] = custom[key] unless key of defaultConf\n\n  _mergeConf: (defaultConf, custom) ->\n    for key of defaultConf\n      defaultConf[key] = custom[key] if key of custom\n\n\n\nkickoff = (args...) -> new Kickoff args...\n\n[['time', Time]].forEach (item) ->\n  [name, Con] = [item[0], item[1]]\n  kickoff[name] = (args...) -> new Con args...\n  for key, val of Con\n    kickoff[name][key] = if typeof val is 'function' then val.bind Con else val\n\nkickoff.asc = Task.asc\nkickoff.desc = Task.desc\n\n\n\nexport default window.kickoff ||= kickoff\n","triggerDelay = 100\ntimestamp = null\ntriggered = false\ntarget = null\nhoverTarget = null\nendTarget = null\n\nreset = ->\n  timestamp = null\n  triggered = false\n  target = null\n  hoverTarget = null\n  endTarget = null\n\ncreateEvent = (name, originalEvent) ->\n  props = ['screenX', 'screenY', 'clientX', 'clientY', 'pageX', 'pageY']\n  event = new CustomEvent name,\n    bubbles: true\n    cancelable: true\n    composed: true\n  event.startTarget = target\n  event.hoverTarget = hoverTarget\n  event.endTarget = endTarget\n  event[key] = originalEvent[key] for key in props\n  event\n\nmousedownHandler = (e) ->\n  reset()\n  return if e.isDefaultPrevented()\n  target = e.target\n  timestamp = Date.now()\n\nmousemoveHandler = (e) ->\n  return if e.isDefaultPrevented()\n  if triggered\n    hoverTarget = e.target\n    return luda(target).trigger createEvent('dragging', e)\n  return unless timestamp\n  triggered = Date.now() - timestamp >= triggerDelay\n  return reset() unless triggered\n  ev = luda(target).trigger(createEvent('draggingstart', e), null, true)[0]\n  return reset() if ev.isDefaultPrevented()\n  mousemoveHandler e\n\nmouseupHandler = (e) ->\n  return reset() unless triggered\n  return reset() if e.isDefaultPrevented()\n  endTarget = e.target\n  luda(target).trigger createEvent('draggingend', e)\n  reset()\n\nluda(document).on 'mousedown.simulateddrag', mousedownHandler\nluda(document).on 'mousemove.simulateddrag', mousemoveHandler\nluda(document).on 'mouseup.simulateddrag', mouseupHandler\n"],"names":["unit","find","isTask","CustomEvent","types","typeShortcuts","create","destroy","addEvent","addEventOnce","eventCache","removeEvent","triggerEvent","beginning","end","duration","update"],"mappings":"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"}